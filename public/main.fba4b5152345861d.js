var AAe=Object.defineProperty,hAe=Object.defineProperties,dAe=Object.getOwnPropertyDescriptors,R9=Object.getOwnPropertySymbols,fAe=Object.prototype.hasOwnProperty,pAe=Object.prototype.propertyIsEnumerable,UQ=(Kt,Qe,U)=>Qe in Kt?AAe(Kt,Qe,{enumerable:!0,configurable:!0,writable:!0,value:U}):Kt[Qe]=U,S2=(Kt,Qe)=>{for(var U in Qe||(Qe={}))fAe.call(Qe,U)&&UQ(Kt,U,Qe[U]);if(R9)for(var U of R9(Qe))pAe.call(Qe,U)&&UQ(Kt,U,Qe[U]);return Kt},x2=(Kt,Qe)=>hAe(Kt,dAe(Qe)),rr=(Kt,Qe,U)=>(UQ(Kt,"symbol"!=typeof Qe?Qe+"":Qe,U),U);(self.webpackChunkSensor_Cardiaco=self.webpackChunkSensor_Cardiaco||[]).push([[179],{2011:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Dh:()=>pe,GT:()=>xe,Ot:()=>Ae,cc:()=>Ne,on:()=>ae,pX:()=>De,xv:()=>Z});var p=U(5e3),Ee=U(9260);Kt=U.hmd(Kt);const ce=["ngOnDestroy"],De=(ct,jt,bn,nr={})=>new Proxy(ct,{get:(ar,cr)=>bn.runOutsideAngular(()=>{var Dr;if(ct[cr])return(null===(Dr=null==nr?void 0:nr.spy)||void 0===Dr?void 0:Dr.get)&&nr.spy.get(cr,ct[cr]),ct[cr];if(ce.indexOf(cr)>-1)return()=>{};const Tr=jt.toPromise().then(On=>{const tt=On&&On[cr];return"function"==typeof tt?tt.bind(On):tt&&tt.then?tt.then(zt=>bn.run(()=>zt)):bn.run(()=>tt)});return new Proxy(()=>{},{get:(On,tt)=>Tr[tt],apply:(On,tt,zt)=>Tr.then(it=>{var wt;const ft=it&&it(...zt);return(null===(wt=null==nr?void 0:nr.spy)||void 0===wt?void 0:wt.apply)&&nr.spy.apply(cr,zt,ft),ft})})})}),xe=(ct,jt)=>{jt.forEach(bn=>{Object.getOwnPropertyNames(bn.prototype||bn).forEach(nr=>{Object.defineProperty(ct.prototype,nr,Object.getOwnPropertyDescriptor(bn.prototype||bn,nr))})})};class Ae{constructor(jt){return jt}}const pe=new p.OlP("angularfire2.app.options"),Z=new p.OlP("angularfire2.app.name");function ae(ct,jt,bn){const ar="object"==typeof bn&&bn||{};ar.name=ar.name||"string"==typeof bn&&bn||"[DEFAULT]";const Dr=Ee.Z.apps.filter(Tr=>Tr&&Tr.name===ar.name)[0]||jt.runOutsideAngular(()=>Ee.Z.initializeApp(ct,ar));try{JSON.stringify(ct)!==JSON.stringify(Dr.options)&&X("error",`${Dr.name} Firebase App already initialized with different options${Kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Tr){}return new Ae(Dr)}const X=(ct,...jt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ct](...jt)};function Ne(ct,jt,bn,nr,ar){const[,cr,Dr]=globalThis.\u0275AngularfireInstanceCache.find(Tr=>Tr[0]===ct)||[];if(cr)return function We(ct,jt){try{return ct.toString()===jt.toString()}catch(bn){return ct===jt}}(ar,Dr)||(Pt("error",`${jt} was already initialized on the ${bn} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Pt("warn",{is:ar,was:Dr})),cr;{const Tr=nr();return globalThis.\u0275AngularfireInstanceCache.push([ct,Tr,ar]),Tr}}const lt=!!Kt.hot,Pt=(ct,...jt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ct](...jt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2090:(Kt,Qe,U)=>{"use strict";U.d(Qe,{$s:()=>yn,BH:()=>cr,DV:()=>Vi,Dv:()=>Kr,G6:()=>Ln,GJ:()=>Qs,L:()=>Z,LL:()=>si,Pz:()=>ar,Sg:()=>Dr,UG:()=>tt,UI:()=>er,US:()=>Ae,Wj:()=>As,Wl:()=>Cr,Yr:()=>Jt,ZB:()=>ie,ZR:()=>qi,aH:()=>nr,b$:()=>wt,cI:()=>wr,dS:()=>Ii,eu:()=>ur,g5:()=>ce,gK:()=>rs,gQ:()=>ki,h$:()=>pe,hl:()=>Or,hu:()=>Ee,jU:()=>zt,lb:()=>Fs,m9:()=>Sr,ne:()=>eo,p$:()=>X,pd:()=>ai,r3:()=>ls,ru:()=>it,tV:()=>ae,uI:()=>On,ug:()=>Yn,vZ:()=>cs,w1:()=>kt,w9:()=>hi,xO:()=>us,xb:()=>Hs,z$:()=>Tr,zI:()=>mn,zd:()=>Js});const Ee=function(He,Re){if(!He)throw ce(Re)},ce=function(He){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+He)},De=function(He){const Re=[];let de=0;for(let he=0;he<He.length;he++){let ne=He.charCodeAt(he);ne<128?Re[de++]=ne:ne<2048?(Re[de++]=ne>>6|192,Re[de++]=63&ne|128):55296==(64512&ne)&&he+1<He.length&&56320==(64512&He.charCodeAt(he+1))?(ne=65536+((1023&ne)<<10)+(1023&He.charCodeAt(++he)),Re[de++]=ne>>18|240,Re[de++]=ne>>12&63|128,Re[de++]=ne>>6&63|128,Re[de++]=63&ne|128):(Re[de++]=ne>>12|224,Re[de++]=ne>>6&63|128,Re[de++]=63&ne|128)}return Re},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(He,Re){if(!Array.isArray(He))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=Re?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let ne=0;ne<He.length;ne+=3){const Fe=He[ne],Ye=ne+1<He.length,_t=Ye?He[ne+1]:0,Nt=ne+2<He.length,sn=Nt?He[ne+2]:0;let zn=(15&_t)<<2|sn>>6,Ur=63&sn;Nt||(Ur=64,Ye||(zn=64)),he.push(de[Fe>>2],de[(3&Fe)<<4|_t>>4],de[zn],de[Ur])}return he.join("")},encodeString(He,Re){return this.HAS_NATIVE_SUPPORT&&!Re?btoa(He):this.encodeByteArray(De(He),Re)},decodeString(He,Re){return this.HAS_NATIVE_SUPPORT&&!Re?atob(He):function(He){const Re=[];let de=0,he=0;for(;de<He.length;){const ne=He[de++];if(ne<128)Re[he++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Fe=He[de++];Re[he++]=String.fromCharCode((31&ne)<<6|63&Fe)}else if(ne>239&&ne<365){const Nt=((7&ne)<<18|(63&He[de++])<<12|(63&He[de++])<<6|63&He[de++])-65536;Re[he++]=String.fromCharCode(55296+(Nt>>10)),Re[he++]=String.fromCharCode(56320+(1023&Nt))}else{const Fe=He[de++],Ye=He[de++];Re[he++]=String.fromCharCode((15&ne)<<12|(63&Fe)<<6|63&Ye)}}return Re.join("")}(this.decodeStringToByteArray(He,Re))},decodeStringToByteArray(He,Re){this.init_();const de=Re?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let ne=0;ne<He.length;){const Fe=de[He.charAt(ne++)],_t=ne<He.length?de[He.charAt(ne)]:0;++ne;const sn=ne<He.length?de[He.charAt(ne)]:64;++ne;const un=ne<He.length?de[He.charAt(ne)]:64;if(++ne,null==Fe||null==_t||null==sn||null==un)throw Error();he.push(Fe<<2|_t>>4),64!==sn&&(he.push(_t<<4&240|sn>>2),64!==un&&he.push(sn<<6&192|un))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let He=0;He<this.ENCODED_VALS.length;He++)this.byteToCharMap_[He]=this.ENCODED_VALS.charAt(He),this.charToByteMap_[this.byteToCharMap_[He]]=He,this.byteToCharMapWebSafe_[He]=this.ENCODED_VALS_WEBSAFE.charAt(He),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[He]]=He,He>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(He)]=He,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(He)]=He)}}},pe=function(He){const Re=De(He);return Ae.encodeByteArray(Re,!0)},Z=function(He){return pe(He).replace(/\./g,"")},ae=function(He){try{return Ae.decodeString(He,!0)}catch(Re){console.error("base64Decode failed: ",Re)}return null};function X(He){return ie(void 0,He)}function ie(He,Re){if(!(Re instanceof Object))return Re;switch(Re.constructor){case Date:return new Date(Re.getTime());case Object:void 0===He&&(He={});break;case Array:He=[];break;default:return Re}for(const de in Re)!Re.hasOwnProperty(de)||!fe(de)||(He[de]=ie(He[de],Re[de]));return He}function fe(He){return"__proto__"!==He}const ct=()=>{try{return function Ne(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const He=process.env.__FIREBASE_DEFAULTS__;return He?JSON.parse(He):void 0})()||(()=>{if("undefined"==typeof document)return;let He;try{He=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(de){return}const Re=He&&ae(He[1]);return Re&&JSON.parse(Re)})()}catch(He){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${He}`)}},nr=()=>{var He;return null===(He=ct())||void 0===He?void 0:He.config},ar=He=>{var Re;return null===(Re=ct())||void 0===Re?void 0:Re[`_${He}`]};class cr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Re,de)=>{this.resolve=Re,this.reject=de})}wrapCallback(Re){return(de,he)=>{de?this.reject(de):this.resolve(he),"function"==typeof Re&&(this.promise.catch(()=>{}),1===Re.length?Re(de):Re(de,he))}}}function Dr(He,Re){if(He.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=Re||"demo-project",ne=He.iat||0,Fe=He.sub||He.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:ne,exp:ne+3600,auth_time:ne,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},He);return[Z(JSON.stringify({alg:"none",type:"JWT"})),Z(JSON.stringify(Ye)),""].join(".")}function Tr(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function On(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function tt(){var He;const Re=null===(He=ct())||void 0===He?void 0:He.forceEnvironment;if("node"===Re)return!0;if("browser"===Re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(de){return!1}}function zt(){return"object"==typeof self&&self.self===self}function it(){const He="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof He&&void 0!==He.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const He=Tr();return He.indexOf("MSIE ")>=0||He.indexOf("Trident/")>=0}function Jt(){return!1}function Ln(){return!tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Or(){try{return"object"==typeof indexedDB}catch(He){return!1}}function ur(){return new Promise((He,Re)=>{try{let de=!0;const he="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(he);ne.onsuccess=()=>{ne.result.close(),de||self.indexedDB.deleteDatabase(he),He(!0)},ne.onupgradeneeded=()=>{de=!1},ne.onerror=()=>{var Fe;Re((null===(Fe=ne.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(de){Re(de)}})}function mn(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class qi extends Error{constructor(Re,de,he){super(de),this.code=Re,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,si.prototype.create)}}class si{constructor(Re,de,he){this.service=Re,this.serviceName=de,this.errors=he}create(Re,...de){const he=de[0]||{},ne=`${this.service}/${Re}`,Fe=this.errors[Re],Ye=Fe?function jr(He,Re){return He.replace(ns,(de,he)=>{const ne=Re[he];return null!=ne?String(ne):`<${he}?>`})}(Fe,he):"Error";return new qi(ne,`${this.serviceName}: ${Ye} (${ne}).`,he)}}const ns=/\{\$([^}]+)}/g;function wr(He){return JSON.parse(He)}function Cr(He){return JSON.stringify(He)}const bs=function(He){let Re={},de={},he={},ne="";try{const Fe=He.split(".");Re=wr(ae(Fe[0])||""),de=wr(ae(Fe[1])||""),ne=Fe[2],he=de.d||{},delete de.d}catch(Fe){}return{header:Re,claims:de,data:he,signature:ne}},hi=function(He){const de=bs(He).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},Qs=function(He){const Re=bs(He).claims;return"object"==typeof Re&&!0===Re.admin};function ls(He,Re){return Object.prototype.hasOwnProperty.call(He,Re)}function Vi(He,Re){if(Object.prototype.hasOwnProperty.call(He,Re))return He[Re]}function Hs(He){for(const Re in He)if(Object.prototype.hasOwnProperty.call(He,Re))return!1;return!0}function er(He,Re,de){const he={};for(const ne in He)Object.prototype.hasOwnProperty.call(He,ne)&&(he[ne]=Re.call(de,He[ne],ne,He));return he}function cs(He,Re){if(He===Re)return!0;const de=Object.keys(He),he=Object.keys(Re);for(const ne of de){if(!he.includes(ne))return!1;const Fe=He[ne],Ye=Re[ne];if(oi(Fe)&&oi(Ye)){if(!cs(Fe,Ye))return!1}else if(Fe!==Ye)return!1}for(const ne of he)if(!de.includes(ne))return!1;return!0}function oi(He){return null!==He&&"object"==typeof He}function us(He){const Re=[];for(const[de,he]of Object.entries(He))Array.isArray(he)?he.forEach(ne=>{Re.push(encodeURIComponent(de)+"="+encodeURIComponent(ne))}):Re.push(encodeURIComponent(de)+"="+encodeURIComponent(he));return Re.length?"&"+Re.join("&"):""}function Js(He){const Re={};return He.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[ne,Fe]=he.split("=");Re[decodeURIComponent(ne)]=decodeURIComponent(Fe)}}),Re}function ai(He){const Re=He.indexOf("?");if(!Re)return"";const de=He.indexOf("#",Re);return He.substring(Re,de>0?de:void 0)}class ki{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Re=1;Re<this.blockSize;++Re)this.pad_[Re]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Re,de){de||(de=0);const he=this.W_;if("string"==typeof Re)for(let un=0;un<16;un++)he[un]=Re.charCodeAt(de)<<24|Re.charCodeAt(de+1)<<16|Re.charCodeAt(de+2)<<8|Re.charCodeAt(de+3),de+=4;else for(let un=0;un<16;un++)he[un]=Re[de]<<24|Re[de+1]<<16|Re[de+2]<<8|Re[de+3],de+=4;for(let un=16;un<80;un++){const zn=he[un-3]^he[un-8]^he[un-14]^he[un-16];he[un]=4294967295&(zn<<1|zn>>>31)}let sn,an,ne=this.chain_[0],Fe=this.chain_[1],Ye=this.chain_[2],_t=this.chain_[3],Nt=this.chain_[4];for(let un=0;un<80;un++){un<40?un<20?(sn=_t^Fe&(Ye^_t),an=1518500249):(sn=Fe^Ye^_t,an=1859775393):un<60?(sn=Fe&Ye|_t&(Fe|Ye),an=2400959708):(sn=Fe^Ye^_t,an=3395469782);const zn=(ne<<5|ne>>>27)+sn+Nt+an+he[un]&4294967295;Nt=_t,_t=Ye,Ye=4294967295&(Fe<<30|Fe>>>2),Fe=ne,ne=zn}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+Fe&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+_t&4294967295,this.chain_[4]=this.chain_[4]+Nt&4294967295}update(Re,de){if(null==Re)return;void 0===de&&(de=Re.length);const he=de-this.blockSize;let ne=0;const Fe=this.buf_;let Ye=this.inbuf_;for(;ne<de;){if(0===Ye)for(;ne<=he;)this.compress_(Re,ne),ne+=this.blockSize;if("string"==typeof Re){for(;ne<de;)if(Fe[Ye]=Re.charCodeAt(ne),++Ye,++ne,Ye===this.blockSize){this.compress_(Fe),Ye=0;break}}else for(;ne<de;)if(Fe[Ye]=Re[ne],++Ye,++ne,Ye===this.blockSize){this.compress_(Fe),Ye=0;break}}this.inbuf_=Ye,this.total_+=de}digest(){const Re=[];let de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&de,de/=256;this.compress_(this.buf_);let he=0;for(let ne=0;ne<5;ne++)for(let Fe=24;Fe>=0;Fe-=8)Re[he]=this.chain_[ne]>>Fe&255,++he;return Re}}function eo(He,Re){const de=new Ts(He,Re);return de.subscribe.bind(de)}class Ts{constructor(Re,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{Re(this)}).catch(he=>{this.error(he)})}next(Re){this.forEachObserver(de=>{de.next(Re)})}error(Re){this.forEachObserver(de=>{de.error(Re)}),this.close(Re)}complete(){this.forEachObserver(Re=>{Re.complete()}),this.close()}subscribe(Re,de,he){let ne;if(void 0===Re&&void 0===de&&void 0===he)throw new Error("Missing Observer.");ne=function Dn(He,Re){if("object"!=typeof He||null===He)return!1;for(const de of Re)if(de in He&&"function"==typeof He[de])return!0;return!1}(Re,["next","error","complete"])?Re:{next:Re,error:de,complete:he},void 0===ne.next&&(ne.next=Fn),void 0===ne.error&&(ne.error=Fn),void 0===ne.complete&&(ne.complete=Fn);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(Ye){}}),this.observers.push(ne),Fe}unsubscribeOne(Re){void 0===this.observers||void 0===this.observers[Re]||(delete this.observers[Re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Re){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,Re)}sendOne(Re,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Re])try{de(this.observers[Re])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(Re){this.finalized||(this.finalized=!0,void 0!==Re&&(this.finalError=Re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}const Kr=function(He,Re,de,he){let ne;if(he<Re?ne="at least "+Re:he>de&&(ne=0===de?"none":"no more than "+de),ne)throw new Error(He+" failed: Was called with "+he+(1===he?" argument.":" arguments.")+" Expects "+ne+".")};function rs(He,Re){return`${He} failed: ${Re} argument `}function As(He,Re,de,he){if((!he||de)&&"function"!=typeof de)throw new Error(rs(He,Re)+"must be a valid function.")}function Fs(He,Re,de,he){if((!he||de)&&("object"!=typeof de||null===de))throw new Error(rs(He,Re)+"must be a valid context object.")}const Ii=function(He){const Re=[];let de=0;for(let he=0;he<He.length;he++){let ne=He.charCodeAt(he);if(ne>=55296&&ne<=56319){const Fe=ne-55296;he++,Ee(he<He.length,"Surrogate pair missing trail surrogate."),ne=65536+(Fe<<10)+(He.charCodeAt(he)-56320)}ne<128?Re[de++]=ne:ne<2048?(Re[de++]=ne>>6|192,Re[de++]=63&ne|128):ne<65536?(Re[de++]=ne>>12|224,Re[de++]=ne>>6&63|128,Re[de++]=63&ne|128):(Re[de++]=ne>>18|240,Re[de++]=ne>>12&63|128,Re[de++]=ne>>6&63|128,Re[de++]=63&ne|128)}return Re},Yn=function(He){let Re=0;for(let de=0;de<He.length;de++){const he=He.charCodeAt(de);he<128?Re++:he<2048?Re+=2:he>=55296&&he<=56319?(Re+=4,de++):Re+=3}return Re};function yn(He,Re=1e3,de=2){const he=Re*Math.pow(de,He),ne=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+ne)}function Sr(He){return He&&He._delegate?He._delegate:He}},5447:(Kt,Qe,U)=>{"use strict";var p=U(5e3);let Ee=null;function ce(){return Ee}const pe=new p.OlP("DocumentToken");let Z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function ae(){return(0,p.LFG)(ie)}()},providedIn:"platform"}),n})();const X=new p.OlP("Location Initialized");let ie=(()=>{class n extends Z{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(t){const r=ce().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ce().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){fe()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){fe()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Ne(){return new ie((0,p.LFG)(pe))}()},providedIn:"platform"}),n})();function fe(){return!!window.history.pushState}function We(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function lt(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Pt(n){return n&&"?"!==n[0]?"?"+n:n}let ct=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function jt(n){const e=(0,p.LFG)(pe).location;return new nr((0,p.LFG)(Z),e&&e.origin||"")}()},providedIn:"root"}),n})();const bn=new p.OlP("appBaseHref");let nr=(()=>{class n extends ct{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return We(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Pt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Pt(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Pt(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Z),p.LFG(bn,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),ar=(()=>{class n extends ct{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=We(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Pt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Pt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Z),p.LFG(bn,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),cr=(()=>{class n{constructor(t,r){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=lt(On(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pt(r))}normalize(t){return n.stripTrailingSlash(function Tr(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,On(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pt(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pt(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Pt,n.joinWithSlash=We,n.stripTrailingSlash=lt,n.\u0275fac=function(t){return new(t||n)(p.LFG(ct),p.LFG(Z))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Dr(){return new cr((0,p.LFG)(ct),(0,p.LFG)(Z))}()},providedIn:"root"}),n})();function On(n){return n.replace(/\/index.html$/,"")}function Za(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class Xa{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let to=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Xa(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Oa(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Oa(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Oa(n,e){n.context.$implicit=e.item}let no=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ji,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ji{constructor(){this.$implicit=null,this.ngIf=null}}function fo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let qf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const wc="browser";function Zc(n){return"server"===n}let zu=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new Xc((0,p.LFG)(pe),window)}),n})();class Xc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function rl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=bd(this.window.history)||bd(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function bd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ui{}class NA extends class Bh extends class Ae{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function xe(n){Ee||(Ee=n)}(new NA)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cd(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}();return null==t?null:function qu(n){Sh=Sh||document.createElement("a"),Sh.setAttribute("href",n);const e=Sh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Za(document.cookie,e)}}let Sh,Qi=null;const Go=new p.OlP("TRANSITION_ID"),$u=[{provide:p.ip1,useFactory:function Ed(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=ce(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Go,pe,p.zs3],multi:!0}];class bl{static init(){(0,p.VLi)(new bl)}addToWindow(e){p.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const i=p.dqk.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?ce().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ea=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=new p.OlP("EventManagerPlugins");let Cl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Jc),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class xh{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ce().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),bc=(()=>{class n extends Zl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Dh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Dh))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Dh(n){ce().remove(n)}const vr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eu=/%COMP%/g;function Xl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Xl(n,i,t):(i=i.replace(eu,n),t.push(i))}return t}function Lt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Jl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new hs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case p.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ka(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case p.ifc.ShadowDom:return new Il(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Cl),p.LFG(bc),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class hs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vr[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=vr[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=vr[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,i&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lt(r)):this.eventManager.addEventListener(e,t,Lt(r))}}class ka extends hs{constructor(e,t,r,i){super(e),this.component=r;const s=Xl(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Bd(n){return"_ngcontent-%COMP%".replace(eu,n)}(i+"-"+r.id),this.hostAttr=function tu(n){return"_nghost-%COMP%".replace(eu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Il extends hs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Xl(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ds=(()=>{class n extends xh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Mh=["alt","control","meta","shift"],Yf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ta={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Gs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xr=(()=>{class n extends xh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ce().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(Mh.forEach(u=>{const h=r.indexOf(u);h>-1&&(r.splice(h,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function Sd(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ta.hasOwnProperty(e)&&(e=ta[e]))}return Yf[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Mh.forEach(s=>{s!=i&&Gs[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Nh=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:wc},{provide:p.g9A,useValue:function Bl(){NA.makeCurrent(),bl.init()},multi:!0},{provide:pe,useFactory:function Yu(){return(0,p.RDi)(document),document},deps:[]}]),Zf=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Sl(){return new p.qLn},deps:[]},{provide:Jc,useClass:ds,multi:!0,deps:[pe,p.R0b,p.Lbi]},{provide:Jc,useClass:Xr,multi:!0,deps:[pe]},{provide:Jl,useClass:Jl,deps:[Cl,bc,p.AFp]},{provide:p.FYo,useExisting:Jl},{provide:Zl,useExisting:bc},{provide:bc,useClass:bc,deps:[pe]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:Cl,useClass:Cl,deps:[Jc,p.R0b]},{provide:Ui,useClass:ea,deps:[]}];let mo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:Go,useExisting:p.AFp},$u]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:Zf,imports:[qf,p.hGG]}),n})(),LA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cc(){return new LA((0,p.LFG)(pe))}(),r},providedIn:"root"}),n})();function di(n){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}"undefined"!=typeof window&&window;var gi=Uint8Array,No=Uint16Array,zo=Uint32Array,ou=new gi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kA=new gi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ra=new gi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),UA=function(n,e){for(var t=new No(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new zo(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},ro=UA(ou,2),rc=ro[0],Zu=ro[1];rc[28]=258,Zu[258]=28;for(var Fd=UA(kA,0),vg=Fd[0],ep=Fd[1],au=new No(32768),Ji=0;Ji<32768;++Ji){var Xu=(43690&Ji)>>>1|(21845&Ji)<<1;au[Ji]=((65280&(Xu=(61680&(Xu=(52428&Xu)>>>2|(13107&Xu)<<2))>>>4|(3855&Xu)<<4))>>>8|(255&Xu)<<8)>>>1}var yo=function(n,e,t){for(var r=n.length,i=0,s=new No(e);i<r;++i)++s[n[i]-1];var a,o=new No(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(t){a=new No(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],f=e-n[i],y=o[n[i]-1]++<<f,I=y|(1<<f)-1;y<=I;++y)a[au[y]>>>u]=h}else for(a=new No(r),i=0;i<r;++i)a[i]=au[o[n[i]-1]++]>>>15-n[i];return a},xl=new gi(288);for(Ji=0;Ji<144;++Ji)xl[Ji]=8;for(Ji=144;Ji<256;++Ji)xl[Ji]=9;for(Ji=256;Ji<280;++Ji)xl[Ji]=7;for(Ji=280;Ji<288;++Ji)xl[Ji]=8;var _a=new gi(32);for(Ji=0;Ji<32;++Ji)_a[Ji]=5;var Ju=yo(xl,9,0),Md=yo(xl,9,1),tp=yo(_a,5,0),np=yo(_a,5,1),Ec=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ol=function(n,e,t){var r=e/8>>0;return(n[r]|n[r+1]<<8)>>>(7&e)&t},QA=function(n,e){var t=e/8>>0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>>(7&e)},Oh=function(n){return(n/8>>0)+(7&n&&1)},HA=function(n,e,t){(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length);var r=new(n instanceof No?No:n instanceof zo?zo:gi)(t-e);return r.set(n.subarray(e,t)),r},al=function(n,e,t){var r=e/8>>0;n[r]|=t<<=7&e,n[r+1]|=t>>>8},ic=function(n,e,t){var r=e/8>>0;n[r]|=t<<=7&e,n[r+1]|=t>>>8,n[r+2]|=t>>>16},Nd=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return[new gi(0),0];if(1==i){var o=new gi(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(Se,Ve){return Se.f-Ve.f}),t.push({s:-1,f:25001});var a=t[0],u=t[1],h=0,f=1,y=2;for(t[0]={s:-1,f:a.f+u.f,l:a,r:u};f!=i-1;)a=t[t[h].f<t[y].f?h++:y++],u=t[h!=f&&t[h].f<t[y].f?h++:y++],t[f++]={s:-1,f:a.f+u.f,l:a,r:u};var I=s[0].s;for(r=1;r<i;++r)s[r].s>I&&(I=s[r].s);var C=new No(I+1),P=Pd(t[f-1],C,0);if(P>e){r=0;var L=0,V=P-e,j=1<<V;for(s.sort(function(Ve,Oe){return C[Oe.s]-C[Ve.s]||Ve.f-Oe.f});r<i;++r){var z=s[r].s;if(!(C[z]>e))break;L+=j-(1<<P-C[z]),C[z]=e}for(L>>>=V;L>0;){var se=s[r].s;C[se]<e?L-=1<<e-C[se]++-1:++r}for(;r>=0&&L;--r){var ve=s[r].s;C[ve]==e&&(--C[ve],++L)}P=e}return[new gi(C),P]},Pd=function(n,e,t){return-1==n.s?Math.max(Pd(n.l,e,t+1),Pd(n.r,e,t+1)):e[n.s]=t},eA=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new No(++e),r=0,i=n[0],s=1,o=function(u){t[r++]=u},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return[t.subarray(0,r),e]},ll=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},jA=function(n,e,t){var r=t.length,i=Oh(e+2);n[i]=255&r,n[i+1]=r>>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},Lh=function(n,e,t,r,i,s,o,a,u,h,f){al(e,f++,t),++i[256];for(var y=Nd(i,15),I=y[0],C=y[1],P=Nd(s,15),L=P[0],V=P[1],j=eA(I),z=j[0],se=j[1],ve=eA(L),Se=ve[0],Ve=ve[1],Oe=new No(19),Ce=0;Ce<z.length;++Ce)Oe[31&z[Ce]]++;for(Ce=0;Ce<Se.length;++Ce)Oe[31&Se[Ce]]++;for(var ut=Nd(Oe,7),mt=ut[0],ge=ut[1],me=19;me>4&&!mt[ra[me-1]];--me);var ze,st,Ze,yt,qe=h+5<<3,Ke=ll(i,xl)+ll(s,_a)+o,Ct=ll(i,I)+ll(s,L)+o+14+3*me+ll(Oe,mt)+(2*Oe[16]+3*Oe[17]+7*Oe[18]);if(qe<=Ke&&qe<=Ct)return jA(e,f,n.subarray(u,u+h));if(al(e,f,1+(Ct<Ke)),f+=2,Ct<Ke){ze=yo(I,C,0),st=I,Ze=yo(L,V,0),yt=L;var Mt=yo(mt,ge,0);for(al(e,f,se-257),al(e,f+5,Ve-1),al(e,f+10,me-4),f+=14,Ce=0;Ce<me;++Ce)al(e,f+3*Ce,mt[ra[Ce]]);f+=3*me;for(var vn=[z,Se],te=0;te<2;++te){var Pe=vn[te];for(Ce=0;Ce<Pe.length;++Ce)al(e,f,Mt[Le=31&Pe[Ce]]),f+=mt[Le],Le>15&&(al(e,f,Pe[Ce]>>>5&127),f+=Pe[Ce]>>>12)}}else ze=Ju,st=xl,Ze=tp,yt=_a;for(Ce=0;Ce<a;++Ce)if(r[Ce]>255){var Le;ic(e,f,ze[257+(Le=r[Ce]>>>18&31)]),f+=st[Le+257],Le>7&&(al(e,f,r[Ce]>>>23&31),f+=ou[Le]);var et=31&r[Ce];ic(e,f,Ze[et]),f+=yt[et],et>3&&(ic(e,f,r[Ce]>>>5&8191),f+=kA[et])}else ic(e,f,ze[r[Ce]]),f+=st[r[Ce]];return ic(e,f,ze[256]),f+st[256]},lu=new zo([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KA=new gi(0),_g=function(n,e,t,r,i){return function(n,e,t,r,i,s){var o=n.length,a=new gi(r+o+5*(1+Math.floor(o/7e3))+i),u=a.subarray(r,a.length-i),h=0;if(!e||o<8)for(var f=0;f<=o;f+=65535){var y=f+65535;y<o?h=jA(u,h,n.subarray(f,y)):(u[f]=s,h=jA(u,h,n.subarray(f,o)))}else{for(var I=lu[e-1],C=I>>>13,P=8191&I,L=(1<<t)-1,V=new No(32768),j=new No(L+1),z=Math.ceil(t/3),se=2*z,ve=function(kr){return(n[kr]^n[kr+1]<<z^n[kr+2]<<se)&L},Se=new zo(25e3),Ve=new No(288),Oe=new No(32),Ce=0,ut=0,mt=(f=0,0),ge=0,me=0;f<o;++f){var qe=ve(f),Ke=32767&f,Ct=j[qe];if(V[Ke]=Ct,j[qe]=Ke,ge<=f){var ze=o-f;if((Ce>7e3||mt>24576)&&ze>423){h=Lh(n,u,0,Se,Ve,Oe,ut,mt,me,f-me,h),mt=Ce=ut=0,me=f;for(var st=0;st<286;++st)Ve[st]=0;for(st=0;st<30;++st)Oe[st]=0}var Ze=2,yt=0,Mt=P,vn=Ke-Ct&32767;if(ze>2&&qe==ve(f-vn))for(var te=Math.min(C,ze)-1,Pe=Math.min(32767,f),Le=Math.min(258,ze);vn<=Pe&&--Mt&&Ke!=Ct;){if(n[f+Ze]==n[f+Ze-vn]){for(var et=0;et<Le&&n[f+et]==n[f+et-vn];++et);if(et>Ze){if(Ze=et,yt=vn,et>te)break;var At=Math.min(vn,et-2),bt=0;for(st=0;st<At;++st){var Dt=f-vn+st+32768&32767,fn=Dt-V[Dt]+32768&32767;fn>bt&&(bt=fn,Ct=Dt)}}}vn+=(Ke=Ct)-(Ct=V[Ke])+32768&32767}if(yt){Se[mt++]=268435456|Zu[Ze]<<18|ep[yt];var pn=31&Zu[Ze],Kn=31&ep[yt];ut+=ou[pn]+kA[Kn],++Ve[257+pn],++Oe[Kn],ge=f+Ze,++Ce}else Se[mt++]=n[f],++Ve[n[f]]}}h=Lh(n,u,s,Se,Ve,Oe,ut,mt,me,f-me,h),s||(h=jA(u,h,KA))}return HA(a,0,r+Oh(h)+i)}(n,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+e.mem,t,r,!i)};function qA(n,e){void 0===e&&(e={});var t=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length,o=0;o!=s;){for(var a=Math.min(o+5552,s);o<a;++o)i+=r+=t[o];r%=65521,i%=65521}n=r,e=i},d:function(){return(n>>>8<<16|(255&e)<<8|e>>>8)+2*((255&n)<<23)}}}();t.p(n);var r=_g(n,e,2,4);return function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)}(r,e),function(n,e,t){for(;t;++e)n[e]=t,t>>>=8}(r,r.length-4,t.d()),r}function iA(n,e){return function(n,e,t){var r=n.length,i=!e||t,s=!t||t.i;t||(t={}),e||(e=new gi(3*r));var o=function(At){var bt=e.length;if(At>bt){var Dt=new gi(Math.max(2*bt,At));Dt.set(e),e=Dt}},a=t.f||0,u=t.p||0,h=t.b||0,f=t.l,y=t.d,I=t.m,C=t.n,P=8*r;do{if(!f){t.f=a=ol(n,u,1);var L=ol(n,u+1,3);if(u+=3,!L){var j=n[(V=Oh(u)+4)-4]|n[V-3]<<8,z=V+j;if(z>r){if(s)throw"unexpected EOF";break}i&&o(h+j),e.set(n.subarray(V,z),h),t.b=h+=j,t.p=u=8*z;continue}if(1==L)f=Md,y=np,I=9,C=5;else{if(2!=L)throw"invalid block type";var se=ol(n,u,31)+257,ve=ol(n,u+10,15)+4,Se=se+ol(n,u+5,31)+1;u+=14;for(var Ve=new gi(Se),Oe=new gi(19),Ce=0;Ce<ve;++Ce)Oe[ra[Ce]]=ol(n,u+3*Ce,7);u+=3*ve;var ut=Ec(Oe),mt=(1<<ut)-1;if(!s&&u+Se*(ut+7)>P)break;var ge=yo(Oe,ut,1);for(Ce=0;Ce<Se;){var V,me=ge[ol(n,u,mt)];if(u+=15&me,(V=me>>>4)<16)Ve[Ce++]=V;else{var qe=0,Ke=0;for(16==V?(Ke=3+ol(n,u,3),u+=2,qe=Ve[Ce-1]):17==V?(Ke=3+ol(n,u,7),u+=3):18==V&&(Ke=11+ol(n,u,127),u+=7);Ke--;)Ve[Ce++]=qe}}var Ct=Ve.subarray(0,se),ze=Ve.subarray(se);I=Ec(Ct),C=Ec(ze),f=yo(Ct,I,1),y=yo(ze,C,1)}if(u>P)throw"unexpected EOF"}i&&o(h+131072);for(var st=(1<<I)-1,Ze=(1<<C)-1,yt=I+C+18;s||u+yt<P;){var Mt=(qe=f[QA(n,u)&st])>>>4;if((u+=15&qe)>P)throw"unexpected EOF";if(!qe)throw"invalid length/literal";if(Mt<256)e[h++]=Mt;else{if(256==Mt){f=null;break}var vn=Mt-254;Mt>264&&(vn=ol(n,u,(1<<(te=ou[Ce=Mt-257]))-1)+rc[Ce],u+=te);var Pe=y[QA(n,u)&Ze],Le=Pe>>>4;if(!Pe)throw"invalid distance";if(u+=15&Pe,ze=vg[Le],Le>3){var te=kA[Le];ze+=QA(n,u)&(1<<te)-1,u+=te}if(u>P)throw"unexpected EOF";i&&o(h+131072);for(var et=h+vn;h<et;h+=4)e[h]=e[h-ze],e[h+1]=e[h+1-ze],e[h+2]=e[h+2-ze],e[h+3]=e[h+3-ze];h=et}}t.l=f,t.p=u,t.b=h,f&&(a=1,t.m=I,t.d=y,t.n=C)}while(!a);return h==e.length?e:HA(e,0,h)}((function(n){if(8!=(15&n[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(32&n[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),e)}var gr=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function kh(){gr.console&&"function"==typeof gr.console.log&&gr.console.log.apply(gr.console,arguments)}var Hi={log:kh,warn:function(n){gr.console&&("function"==typeof gr.console.warn?gr.console.warn.apply(gr.console,arguments):kh.call(null,arguments))},error:function(n){gr.console&&("function"==typeof gr.console.error?gr.console.error.apply(gr.console,arguments):kh(n))}};function Qd(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){XA(r.response,e,t)},r.onerror=function(){Hi.error("could not download file")},r.send()}function ty(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function fu(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var pu,Hd,XA=gr.saveAs||("object"!==("undefined"==typeof window?"undefined":di(window))||window!==gr?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=gr.URL||gr.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?ty(i.href)?Qd(n,e,t):fu(i,i.target="_blank"):fu(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){fu(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(ty(n))Qd(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){fu(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(s=t)?s={autoBom:!1}:"object"!==di(s)&&(Hi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,s}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return Qd(n,e,t);var i="application/octet-stream"===n.type,s=/constructor/i.test(gr.HTMLElement)||gr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===("undefined"==typeof FileReader?"undefined":di(FileReader))){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(n)}else{var u=gr.URL||gr.webkitURL,h=u.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});function Ig(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var s=t[r].process,o=t[r].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return 1==a.length&&(a="0"+a),1==u.length&&(u="0"+u),1==h.length&&(h="0"+h),"#"+a+u+h}}function dp(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=io(t,r,i,s,e[0],7,-680876936),s=io(s,t,r,i,e[1],12,-389564586),i=io(i,s,t,r,e[2],17,606105819),r=io(r,i,s,t,e[3],22,-1044525330),t=io(t,r,i,s,e[4],7,-176418897),s=io(s,t,r,i,e[5],12,1200080426),i=io(i,s,t,r,e[6],17,-1473231341),r=io(r,i,s,t,e[7],22,-45705983),t=io(t,r,i,s,e[8],7,1770035416),s=io(s,t,r,i,e[9],12,-1958414417),i=io(i,s,t,r,e[10],17,-42063),r=io(r,i,s,t,e[11],22,-1990404162),t=io(t,r,i,s,e[12],7,1804603682),s=io(s,t,r,i,e[13],12,-40341101),i=io(i,s,t,r,e[14],17,-1502002290),t=sa(t,r=io(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=sa(s,t,r,i,e[6],9,-1069501632),i=sa(i,s,t,r,e[11],14,643717713),r=sa(r,i,s,t,e[0],20,-373897302),t=sa(t,r,i,s,e[5],5,-701558691),s=sa(s,t,r,i,e[10],9,38016083),i=sa(i,s,t,r,e[15],14,-660478335),r=sa(r,i,s,t,e[4],20,-405537848),t=sa(t,r,i,s,e[9],5,568446438),s=sa(s,t,r,i,e[14],9,-1019803690),i=sa(i,s,t,r,e[3],14,-187363961),r=sa(r,i,s,t,e[8],20,1163531501),t=sa(t,r,i,s,e[13],5,-1444681467),s=sa(s,t,r,i,e[2],9,-51403784),i=sa(i,s,t,r,e[7],14,1735328473),t=vo(t,r=sa(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=vo(s,t,r,i,e[8],11,-2022574463),i=vo(i,s,t,r,e[11],16,1839030562),r=vo(r,i,s,t,e[14],23,-35309556),t=vo(t,r,i,s,e[1],4,-1530992060),s=vo(s,t,r,i,e[4],11,1272893353),i=vo(i,s,t,r,e[7],16,-155497632),r=vo(r,i,s,t,e[10],23,-1094730640),t=vo(t,r,i,s,e[13],4,681279174),s=vo(s,t,r,i,e[0],11,-358537222),i=vo(i,s,t,r,e[3],16,-722521979),r=vo(r,i,s,t,e[6],23,76029189),t=vo(t,r,i,s,e[9],4,-640364487),s=vo(s,t,r,i,e[12],11,-421815835),i=vo(i,s,t,r,e[15],16,530742520),t=oa(t,r=vo(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=oa(s,t,r,i,e[7],10,1126891415),i=oa(i,s,t,r,e[14],15,-1416354905),r=oa(r,i,s,t,e[5],21,-57434055),t=oa(t,r,i,s,e[12],6,1700485571),s=oa(s,t,r,i,e[3],10,-1894986606),i=oa(i,s,t,r,e[10],15,-1051523),r=oa(r,i,s,t,e[1],21,-2054922799),t=oa(t,r,i,s,e[8],6,1873313359),s=oa(s,t,r,i,e[15],10,-30611744),i=oa(i,s,t,r,e[6],15,-1560198380),r=oa(r,i,s,t,e[13],21,1309151649),t=oa(t,r,i,s,e[4],6,-145523070),s=oa(s,t,r,i,e[11],10,-1120210379),i=oa(i,s,t,r,e[2],15,718787259),r=oa(r,i,s,t,e[9],21,-343485551),n[0]=Fl(t,n[0]),n[1]=Fl(r,n[1]),n[2]=Fl(i,n[2]),n[3]=Fl(s,n[3])}function Bg(n,e,t,r,i,s){return e=Fl(Fl(e,n),Fl(r,s)),Fl(e<<i|e>>>32-i,t)}function io(n,e,t,r,i,s,o){return Bg(e&t|~e&r,n,e,i,s,o)}function sa(n,e,t,r,i,s,o){return Bg(e&r|t&~r,n,e,i,s,o)}function vo(n,e,t,r,i,s,o){return Bg(e^t^r,n,e,i,s,o)}function oa(n,e,t,r,i,s,o){return Bg(t^(e|~r),n,e,i,s,o)}function Sg(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)dp(r,Tl(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(dp(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,dp(r,i),r}function Tl(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}pu=gr.atob.bind(gr),Hd=gr.btoa.bind(gr);var xg="0123456789abcdef".split("");function ny(n){for(var e="",t=0;t<4;t++)e+=xg[n>>8*t+4&15]+xg[n>>8*t&15];return e}function lv(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function JA(n){return Sg(n).map(lv).join("")}var qo="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=ny(n[e]);return n.join("")}(Sg("hello"));function Fl(n,e){if(qo){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Vd(n,e){var t,r,i;if(n!==t){for(var o=(i=n,new Array(1+(256/n.length>>0)+1).join(i)),a=[],u=0;u<256;u++)a[u]=u;var h=0;for(u=0;u<256;u++){var f=a[u];h=(h+f+o.charCodeAt(u))%256,a[u]=a[h],a[h]=f}t=n,r=a}else a=r;var y=e.length,I=0,C=0,P="";for(u=0;u<y;u++)C=(C+(f=a[I=(I+1)%256]))%256,a[I]=a[C],a[C]=f,o=a[(a[I]+a[C])%256],P+=String.fromCharCode(e.charCodeAt(u)^o);return P}var fp={print:4,modify:8,copy:16,"annot-forms":32};function Ps(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==fp.perm)throw new Error("Invalid permission: "+a);i+=fp[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=JA(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Vd(this.encryptionKey,this.padding)}function Ml(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function Uh(n){if("object"!==di(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){gr.console&&Hi.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pp(n){if(!(this instanceof pp))return new pp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function ry(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function sA(n,e,t,r,i){if(!(this instanceof sA))return new sA(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,ry.call(this,r,i)}function _o(n,e,t,r,i){if(!(this instanceof _o))return new _o(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ry.call(this,r,i)}function pr(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,u=16,h="S",f=null;"object"===di(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,null!==(f=n.encryption||null)&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(u=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,I={},C={internal:{},__private__:{}};C.__private__.PubSub=Uh;var P="1.3",L=C.__private__.getPdfVersion=function(){return P};C.__private__.setPdfVersion=function(N){P=N};var V={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};C.__private__.getPageFormats=function(){return V};var j=C.__private__.getPageFormat=function(N){return V[N]};i=i||"a4";var z={COMPAT:"compat",ADVANCED:"advanced"},se=z.COMPAT;function ve(){this.saveGraphicsState(),Ge(new Lr(jn,0,0,-jn,0,K0()*jn).toString()+" cm"),this.setFontSize(this.getFontSize()/jn),h="n",se=z.ADVANCED}function Se(){this.restoreGraphicsState(),h="S",se=z.COMPAT}var Ve=C.__private__.combineFontStyleAndFontWeight=function(N,Y){if("bold"==N&&"normal"==Y||"bold"==N&&400==Y||"normal"==N&&"italic"==Y||"bold"==N&&"italic"==Y)throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(N=400==Y||"normal"===Y?"italic"===N?"italic":"normal":700!=Y&&"bold"!==Y||"normal"!==N?(700==Y?"bold":Y)+""+N:"bold"),N};C.advancedAPI=function(N){var Y=se===z.COMPAT;return Y&&ve.call(this),"function"!=typeof N||(N(this),Y&&Se.call(this)),this},C.compatAPI=function(N){var Y=se===z.ADVANCED;return Y&&Se.call(this),"function"!=typeof N||(N(this),Y&&ve.call(this)),this},C.isAdvancedAPI=function(){return se===z.ADVANCED};var Oe,Ce=function(N){if(se!==z.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ut=C.roundToPrecision=C.__private__.roundToPrecision=function(N,Y){var ke=e||Y;if(isNaN(N)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ke).replace(/0+$/,"")};Oe=C.hpf=C.__private__.hpf="number"==typeof u?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ut(N,u)}:"smart"===u?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ut(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ut(N,16)};var mt=C.f2=C.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return ut(N,2)},ge=C.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return ut(N,3)},me=C.scale=C.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return se===z.COMPAT?N*jn:se===z.ADVANCED?N:void 0},qe=function(N){return se===z.COMPAT?K0()-N:se===z.ADVANCED?N:void 0},Ke=function(N){return me(qe(N))};C.__private__.setPrecision=C.setPrecision=function(N){"number"==typeof parseInt(N,10)&&(e=parseInt(N,10))};var Ct,ze="00000000000000000000000000000000",st=C.__private__.getFileId=function(){return ze},Ze=C.__private__.setFileId=function(N){return ze=void 0!==N&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ze.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==f&&(zc=new Ps(f.userPermissions,f.userPassword,f.ownerPassword,ze)),ze};C.setFileId=function(N){return Ze(N),this},C.getFileId=function(){return st()};var yt=C.__private__.convertDateToPDFDate=function(N){var Y=N.getTimezoneOffset(),ke=Y<0?"+":"-",Xe=Math.floor(Math.abs(Y/60)),vt=Math.abs(Y%60),Gt=[ke,Le(Xe),"'",Le(vt),"'"].join("");return["D:",N.getFullYear(),Le(N.getMonth()+1),Le(N.getDate()),Le(N.getHours()),Le(N.getMinutes()),Le(N.getSeconds()),Gt].join("")},Mt=C.__private__.convertPDFDateToDate=function(N){var Y=parseInt(N.substr(2,4),10),ke=parseInt(N.substr(6,2),10)-1,Xe=parseInt(N.substr(8,2),10),vt=parseInt(N.substr(10,2),10),Gt=parseInt(N.substr(12,2),10),cn=parseInt(N.substr(14,2),10);return new Date(Y,ke,Xe,vt,Gt,cn,0)},vn=C.__private__.setCreationDate=function(N){var Y;if(void 0===N&&(N=new Date),N instanceof Date)Y=yt(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=N}return Ct=Y},te=C.__private__.getCreationDate=function(N){var Y=Ct;return"jsDate"===N&&(Y=Mt(Ct)),Y};C.setCreationDate=function(N){return vn(N),this},C.getCreationDate=function(N){return te(N)};var Pe,Le=C.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},et=C.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},At=0,bt=[],Dt=[],Ft=0,fn=[],pn=[],Kn=!1,$n=Dt,kr=function(){At=0,Ft=0,Dt=[],bt=[],fn=[],Fm=za(),Df=za()};C.__private__.setCustomOutputDestination=function(N){Kn=!0,$n=N};var Wt=function(N){Kn||($n=N)};C.__private__.resetCustomOutputDestination=function(){Kn=!1,$n=Dt};var Ge=C.__private__.out=function(N){return N=N.toString(),Ft+=N.length+1,$n.push(N),$n},ri=C.__private__.write=function(N){return Ge(1===arguments.length?N.toString():Array.prototype.join.call(arguments," "))},dr=C.__private__.getArrayBuffer=function(N){for(var Y=N.length,ke=new ArrayBuffer(Y),Xe=new Uint8Array(ke);Y--;)Xe[Y]=N.charCodeAt(Y);return ke},gn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];C.__private__.getStandardFonts=function(){return gn};var Sn=n.fontSize||16;C.__private__.setFontSize=C.setFontSize=function(N){return Sn=se===z.ADVANCED?N/jn:N,this};var Vn,Un=C.__private__.getFontSize=C.getFontSize=function(){return se===z.COMPAT?Sn:Sn*jn},br=n.R2L||!1;C.__private__.setR2L=C.setR2L=function(N){return br=N,this},C.__private__.getR2L=C.getR2L=function(){return br};var ti,pi=C.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Vn=N;else if(isNaN(N)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Vn=N}else Vn=parseInt(N,10)};C.__private__.getZoomMode=function(){return Vn};var Ei,Zi=C.__private__.setPageMode=function(N){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');ti=N};C.__private__.getPageMode=function(){return ti};var ks=C.__private__.setLayoutMode=function(N){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Ei=N};C.__private__.getLayoutMode=function(){return Ei},C.__private__.setDisplayMode=C.setDisplayMode=function(N,Y,ke){return pi(N),ks(Y),Zi(ke),this};var Hr={title:"",subject:"",author:"",keywords:"",creator:""};C.__private__.getDocumentProperty=function(N){if(-1===Object.keys(Hr).indexOf(N))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Hr[N]},C.__private__.getDocumentProperties=function(){return Hr},C.__private__.setDocumentProperties=C.setProperties=C.setDocumentProperties=function(N){for(var Y in Hr)Hr.hasOwnProperty(Y)&&N[Y]&&(Hr[Y]=N[Y]);return this},C.__private__.setDocumentProperty=function(N,Y){if(-1===Object.keys(Hr).indexOf(N))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Hr[N]=Y};var Ti,jn,Wc,ts,Bf,Zs={},Ho={},sg=[],_s={},fw={},pa={},Sf={},Tm=null,ga=0,ni=[],ws=new Uh(C),pw=n.hotfixes||[],yc={},og={},ag=[],Lr=function N(Y,ke,Xe,vt,Gt,cn){if(!(this instanceof N))return new N(Y,ke,Xe,vt,Gt,cn);isNaN(Y)&&(Y=1),isNaN(ke)&&(ke=0),isNaN(Xe)&&(Xe=0),isNaN(vt)&&(vt=1),isNaN(Gt)&&(Gt=0),isNaN(cn)&&(cn=0),this._matrix=[Y,ke,Xe,vt,Gt,cn]};Object.defineProperty(Lr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Lr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Lr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Lr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Lr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Lr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Lr.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Lr.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Lr.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Lr.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Lr.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Lr.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Lr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lr.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Lr.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Oe).join(N)},Lr.prototype.multiply=function(N){return new Lr(N.sx*this.sx+N.shy*this.shx,N.sx*this.shy+N.shy*this.sy,N.shx*this.sx+N.sy*this.shx,N.shx*this.shy+N.sy*this.sy,N.tx*this.sx+N.ty*this.shx+this.tx,N.tx*this.shy+N.ty*this.sy+this.ty)},Lr.prototype.decompose=function(){var N=this.sx,Y=this.shy,ke=this.shx,Xe=this.sy,vt=this.tx,Gt=this.ty,cn=Math.sqrt(N*N+Y*Y),Gn=(N/=cn)*ke+(Y/=cn)*Xe;ke-=N*Gn,Xe-=Y*Gn;var Br=Math.sqrt(ke*ke+Xe*Xe);return Gn/=Br,N*(Xe/=Br)<Y*(ke/=Br)&&(N=-N,Y=-Y,Gn=-Gn,cn=-cn),{scale:new Lr(cn,0,0,Br,0,0),translate:new Lr(1,0,0,1,vt,Gt),rotate:new Lr(N,Y,-Y,N,0,0),skew:new Lr(1,0,Gn,1,0,0)}},Lr.prototype.toString=function(N){return this.join(" ")},Lr.prototype.inversed=function(){var N=this.sx,Y=this.shy,ke=this.shx,Xe=this.sy,vt=this.tx,Gt=this.ty,cn=1/(N*Xe-Y*ke),Gn=Xe*cn,Br=-Y*cn,ii=-ke*cn,wi=N*cn;return new Lr(Gn,Br,ii,wi,-Gn*vt-ii*Gt,-Br*vt-wi*Gt)},Lr.prototype.applyToPoint=function(N){return new kC(N.x*this.sx+N.y*this.shx+this.tx,N.x*this.shy+N.y*this.sy+this.ty)},Lr.prototype.applyToRectangle=function(N){var Y=this.applyToPoint(N),ke=this.applyToPoint(new kC(N.x+N.w,N.y+N.h));return new l2(Y.x,Y.y,ke.x-Y.x,ke.y-Y.y)},Lr.prototype.clone=function(){return new Lr(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},C.Matrix=Lr;var xf=C.matrixMult=function(N,Y){return Y.multiply(N)},lg=new Lr(1,0,0,1,0,0);C.unitMatrix=C.identityMatrix=lg;var IA=function(N,Y){if(!fw[N]){var ke=(Y instanceof sA?"Sh":"P")+(Object.keys(_s).length+1).toString(10);Y.id=ke,fw[N]=ke,_s[ke]=Y,ws.publish("addPattern",Y)}};C.ShadingPattern=sA,C.TilingPattern=_o,C.addShadingPattern=function(N,Y){return Ce("addShadingPattern()"),IA(N,Y),this},C.beginTilingPattern=function(N){Ce("beginTilingPattern()"),Z5(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},C.endTilingPattern=function(N,Y){Ce("endTilingPattern()"),Y.stream=pn[Pe].join("\n"),IA(N,Y),ws.publish("endTilingPattern",Y),ag.pop().restore()};var vl=C.__private__.newObject=function(){var N=za();return _h(N,!0),N},za=C.__private__.newObjectDeferred=function(){return At++,bt[At]=function(){return Ft},At},_h=function(N,Y){return Y="boolean"==typeof Y&&Y,bt[N]=Ft,Y&&Ge(N+" 0 obj"),N},IC=C.__private__.newAdditionalObject=function(){var N={objId:za(),content:""};return fn.push(N),N},Fm=za(),Df=za(),Tf=C.__private__.decodeColorString=function(N){var Y=N.split(" ");if(2!==Y.length||"g"!==Y[1]&&"G"!==Y[1])5===Y.length&&("k"===Y[4]||"K"===Y[4])&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ke=parseFloat(Y[0]);Y=[ke,ke,ke,"r"]}for(var Xe="#",vt=0;vt<3;vt++)Xe+=("0"+Math.floor(255*parseFloat(Y[vt])).toString(16)).slice(-2);return Xe},Ff=C.__private__.encodeColorString=function(N){var Y;"string"==typeof N&&(N={ch1:N});var ke=N.ch1,Xe=N.ch2,vt=N.ch3,Gt=N.ch4,cn="draw"===N.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ke&&"#"!==ke.charAt(0)){var Gn=new Ig(ke);if(Gn.ok)ke=Gn.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ke&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),"string"==typeof ke&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var Br=parseInt(ke.substr(1),16);ke=Br>>16&255,Xe=Br>>8&255,vt=255&Br}if(void 0===Xe||void 0===Gt&&ke===Xe&&Xe===vt)Y="string"==typeof ke?ke+" "+cn[0]:2===N.precision?mt(ke/255)+" "+cn[0]:ge(ke/255)+" "+cn[0];else if(void 0===Gt||"object"===di(Gt)){if(Gt&&!isNaN(Gt.a)&&0===Gt.a)return["1.","1.","1.",cn[1]].join(" ");Y="string"==typeof ke?[ke,Xe,vt,cn[1]].join(" "):2===N.precision?[mt(ke/255),mt(Xe/255),mt(vt/255),cn[1]].join(" "):[ge(ke/255),ge(Xe/255),ge(vt/255),cn[1]].join(" ")}else Y="string"==typeof ke?[ke,Xe,vt,Gt,cn[2]].join(" "):2===N.precision?[mt(ke),mt(Xe),mt(vt),mt(Gt),cn[2]].join(" "):[ge(ke),ge(Xe),ge(vt),ge(Gt),cn[2]].join(" ");return Y},cg=C.__private__.getFilters=function(){return o},ld=C.__private__.putStream=function(N){var Y=(N=N||{}).data||"",ke=N.filters||cg(),Xe=N.alreadyAppliedFilters||[],vt=N.addLength1||!1,Gt=Y.length,cn=N.objectId,Gn=function(qc){return qc};if(null!==f&&void 0===cn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==f&&(Gn=zc.encryptor(cn,0));var Br={};!0===ke&&(ke=["FlateEncode"]);var ii=N.additionalKeyValues||[],wi=(Br=void 0!==pr.API.processDataByFilters?pr.API.processDataByFilters(Y,ke):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Xe)?Xe.join(" "):Xe.toString());if(0!==Br.data.length&&(ii.push({key:"Length",value:Br.data.length}),!0===vt&&ii.push({key:"Length1",value:Gt})),0!=wi.length)if(wi.split("/").length-1==1)ii.push({key:"Filter",value:wi});else{ii.push({key:"Filter",value:"["+wi+"]"});for(var zi=0;zi<ii.length;zi+=1)if("DecodeParms"===ii[zi].key){for(var Zo=[],ma=0;ma<Br.reverseChain.split("/").length-1;ma+=1)Zo.push("null");Zo.push(ii[zi].value),ii[zi].value="["+Zo.join(" ")+"]"}}Ge("<<");for(var qa=0;qa<ii.length;qa++)Ge("/"+ii[qa].key+" "+ii[qa].value);Ge(">>"),0!==Br.data.length&&(Ge("stream"),Ge(Gn(Br.data)),Ge("endstream"))},ug=C.__private__.putPage=function(N){var Y=N.number,ke=N.data,Xe=N.objId,vt=N.contentsObjId;_h(Xe,!0),Ge("<</Type /Page"),Ge("/Parent "+N.rootDictionaryObjId+" 0 R"),Ge("/Resources "+N.resourceDictionaryObjId+" 0 R"),Ge("/MediaBox ["+parseFloat(Oe(N.mediaBox.bottomLeftX))+" "+parseFloat(Oe(N.mediaBox.bottomLeftY))+" "+Oe(N.mediaBox.topRightX)+" "+Oe(N.mediaBox.topRightY)+"]"),null!==N.cropBox&&Ge("/CropBox ["+Oe(N.cropBox.bottomLeftX)+" "+Oe(N.cropBox.bottomLeftY)+" "+Oe(N.cropBox.topRightX)+" "+Oe(N.cropBox.topRightY)+"]"),null!==N.bleedBox&&Ge("/BleedBox ["+Oe(N.bleedBox.bottomLeftX)+" "+Oe(N.bleedBox.bottomLeftY)+" "+Oe(N.bleedBox.topRightX)+" "+Oe(N.bleedBox.topRightY)+"]"),null!==N.trimBox&&Ge("/TrimBox ["+Oe(N.trimBox.bottomLeftX)+" "+Oe(N.trimBox.bottomLeftY)+" "+Oe(N.trimBox.topRightX)+" "+Oe(N.trimBox.topRightY)+"]"),null!==N.artBox&&Ge("/ArtBox ["+Oe(N.artBox.bottomLeftX)+" "+Oe(N.artBox.bottomLeftY)+" "+Oe(N.artBox.topRightX)+" "+Oe(N.artBox.topRightY)+"]"),"number"==typeof N.userUnit&&1!==N.userUnit&&Ge("/UserUnit "+N.userUnit),ws.publish("putPage",{objId:Xe,pageContext:ni[Y],pageNumber:Y,page:ke}),Ge("/Contents "+vt+" 0 R"),Ge(">>"),Ge("endobj");var Gt=ke.join("\n");return se===z.ADVANCED&&(Gt+="\nQ"),_h(vt,!0),ld({data:Gt,filters:cg(),objectId:vt}),Ge("endobj"),Xe},gw=C.__private__.putPages=function(){var N,Y,ke=[];for(N=1;N<=ga;N++)ni[N].objId=za(),ni[N].contentsObjId=za();for(N=1;N<=ga;N++)ke.push(ug({number:N,data:pn[N],objId:ni[N].objId,contentsObjId:ni[N].contentsObjId,mediaBox:ni[N].mediaBox,cropBox:ni[N].cropBox,bleedBox:ni[N].bleedBox,trimBox:ni[N].trimBox,artBox:ni[N].artBox,userUnit:ni[N].userUnit,rootDictionaryObjId:Fm,resourceDictionaryObjId:Df}));_h(Fm,!0),Ge("<</Type /Pages");var Xe="/Kids [";for(Y=0;Y<ga;Y++)Xe+=ke[Y]+" 0 R ";Ge(Xe+"]"),Ge("/Count "+ga),Ge(">>"),Ge("endobj"),ws.publish("postPutPages")},BC=function(N){ws.publish("putFont",{font:N,out:Ge,newObject:vl,putStream:ld}),!0!==N.isAlreadyPutted&&(N.objectNumber=vl(),Ge("<<"),Ge("/Type /Font"),Ge("/BaseFont /"+Ml(N.postScriptName)),Ge("/Subtype /Type1"),"string"==typeof N.encoding&&Ge("/Encoding /"+N.encoding),Ge("/FirstChar 32"),Ge("/LastChar 255"),Ge(">>"),Ge("endobj"))},SC=function(){for(var N in Zs)Zs.hasOwnProperty(N)&&(!1===y||!0===y&&I.hasOwnProperty(N))&&BC(Zs[N])},xC=function(N){N.objectNumber=vl();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[Oe(N.x),Oe(N.y),Oe(N.x+N.width),Oe(N.y+N.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ke=N.pages[1].join("\n");ld({data:ke,additionalKeyValues:Y,objectId:N.objectNumber}),Ge("endobj")},DC=function(){for(var N in yc)yc.hasOwnProperty(N)&&xC(yc[N])},N5=function(N,Y){var ke,Xe=[],vt=1/(Y-1);for(ke=0;ke<1;ke+=vt)Xe.push(ke);Xe.push(1),0!=N[0].offset&&N.unshift({offset:0,color:N[0].color}),1!=N[N.length-1].offset&&N.push({offset:1,color:N[N.length-1].color});for(var Gn="",Br=0,ii=0;ii<Xe.length;ii++){for(ke=Xe[ii];ke>N[Br+1].offset;)Br++;var wi=N[Br].offset,zi=(ke-wi)/(N[Br+1].offset-wi),Zo=N[Br].color,ma=N[Br+1].color;Gn+=et(Math.round((1-zi)*Zo[0]+zi*ma[0]).toString(16))+et(Math.round((1-zi)*Zo[1]+zi*ma[1]).toString(16))+et(Math.round((1-zi)*Zo[2]+zi*ma[2]).toString(16))}return Gn.trim()},$3=function(N,Y){Y||(Y=21);var ke=vl(),Xe=N5(N.colors,Y),vt=[];vt.push({key:"FunctionType",value:"0"}),vt.push({key:"Domain",value:"[0.0 1.0]"}),vt.push({key:"Size",value:"["+Y+"]"}),vt.push({key:"BitsPerSample",value:"8"}),vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ld({data:Xe,additionalKeyValues:vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),Ge("endobj"),N.objectNumber=vl(),Ge("<< /ShadingType "+N.type),Ge("/ColorSpace /DeviceRGB");var Gt="/Coords ["+Oe(parseFloat(N.coords[0]))+" "+Oe(parseFloat(N.coords[1]))+" ";Gt+=2===N.type?Oe(parseFloat(N.coords[2]))+" "+Oe(parseFloat(N.coords[3])):Oe(parseFloat(N.coords[2]))+" "+Oe(parseFloat(N.coords[3]))+" "+Oe(parseFloat(N.coords[4]))+" "+Oe(parseFloat(N.coords[5])),Ge(Gt+="]"),N.matrix&&Ge("/Matrix ["+N.matrix.toString()+"]"),Ge("/Function "+ke+" 0 R"),Ge("/Extend [true true]"),Ge(">>"),Ge("endobj")},Y3=function(N,Y){var ke=za(),Xe=vl();Y.push({resourcesOid:ke,objectOid:Xe}),N.objectNumber=Xe;var vt=[];vt.push({key:"Type",value:"/Pattern"}),vt.push({key:"PatternType",value:"1"}),vt.push({key:"PaintType",value:"1"}),vt.push({key:"TilingType",value:"1"}),vt.push({key:"BBox",value:"["+N.boundingBox.map(Oe).join(" ")+"]"}),vt.push({key:"XStep",value:Oe(N.xStep)}),vt.push({key:"YStep",value:Oe(N.yStep)}),vt.push({key:"Resources",value:ke+" 0 R"}),N.matrix&&vt.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),ld({data:N.stream,additionalKeyValues:vt,objectId:N.objectNumber}),Ge("endobj")},TC=function(N){var Y;for(Y in _s)_s.hasOwnProperty(Y)&&(_s[Y]instanceof sA?$3(_s[Y]):_s[Y]instanceof _o&&Y3(_s[Y],N))},P5=function(N){for(var Y in N.objectNumber=vl(),Ge("<<"),N)switch(Y){case"opacity":Ge("/ca "+mt(N[Y]));break;case"stroke-opacity":Ge("/CA "+mt(N[Y]))}Ge(">>"),Ge("endobj")},Z3=function(){var N;for(N in pa)pa.hasOwnProperty(N)&&P5(pa[N])},ZS=function(){for(var N in Ge("/XObject <<"),yc)yc.hasOwnProperty(N)&&yc[N].objectNumber>=0&&Ge("/"+N+" "+yc[N].objectNumber+" 0 R");ws.publish("putXobjectDict"),Ge(">>")},X3=function(){zc.oid=vl(),Ge("<<"),Ge("/Filter /Standard"),Ge("/V "+zc.v),Ge("/R "+zc.r),Ge("/U <"+zc.toHexString(zc.U)+">"),Ge("/O <"+zc.toHexString(zc.O)+">"),Ge("/P "+zc.P),Ge(">>"),Ge("endobj")},O5=function(){for(var N in Ge("/Font <<"),Zs)Zs.hasOwnProperty(N)&&(!1===y||!0===y&&I.hasOwnProperty(N))&&Ge("/"+N+" "+Zs[N].objectNumber+" 0 R");Ge(">>")},J3=function(){if(Object.keys(_s).length>0){for(var N in Ge("/Shading <<"),_s)_s.hasOwnProperty(N)&&_s[N]instanceof sA&&_s[N].objectNumber>=0&&Ge("/"+N+" "+_s[N].objectNumber+" 0 R");ws.publish("putShadingPatternDict"),Ge(">>")}},FC=function(N){if(Object.keys(_s).length>0){for(var Y in Ge("/Pattern <<"),_s)_s.hasOwnProperty(Y)&&_s[Y]instanceof C.TilingPattern&&_s[Y].objectNumber>=0&&_s[Y].objectNumber<N&&Ge("/"+Y+" "+_s[Y].objectNumber+" 0 R");ws.publish("putTilingPatternDict"),Ge(">>")}},eQ=function(){if(Object.keys(pa).length>0){var N;for(N in Ge("/ExtGState <<"),pa)pa.hasOwnProperty(N)&&pa[N].objectNumber>=0&&Ge("/"+N+" "+pa[N].objectNumber+" 0 R");ws.publish("putGStateDict"),Ge(">>")}},Fa=function(N){_h(N.resourcesOid,!0),Ge("<<"),Ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),O5(),J3(),FC(N.objectOid),eQ(),ZS(),Ge(">>"),Ge("endobj")},L5=function(){var N=[];SC(),Z3(),DC(),TC(N),ws.publish("putResources"),N.forEach(Fa),Fa({resourcesOid:Df,objectOid:Number.MAX_SAFE_INTEGER}),ws.publish("postPutResources")},R5=function(){ws.publish("putAdditionalObjects");for(var N=0;N<fn.length;N++){var Y=fn[N];_h(Y.objId,!0),Ge(Y.content),Ge("endobj")}ws.publish("postPutAdditionalObjects")},k5=function(N){Ho[N.fontName]=Ho[N.fontName]||{},Ho[N.fontName][N.fontStyle]=N.id},XS=function(N,Y,ke,Xe,vt){var Gt={id:"F"+(Object.keys(Zs).length+1).toString(10),postScriptName:N,fontName:Y,fontStyle:ke,encoding:Xe,isStandardFont:vt||!1,metadata:{}};return ws.publish("addFont",{font:Gt,instance:this}),Zs[Gt.id]=Gt,k5(Gt),Gt.id},tQ=function(N){for(var Y=0,ke=gn.length;Y<ke;Y++){var Xe=XS.call(this,N[Y][0],N[Y][1],N[Y][2],gn[Y][3],!0);!1===y&&(I[Xe]=!0);var vt=N[Y][0].split("-");k5({id:Xe,fontName:vt[0],fontStyle:vt[1]||""})}ws.publish("addFonts",{fonts:Zs,dictionary:Ho})},Mf=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(Xe){var Y=Xe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ke="Error in function "+Y.split("\n")[0].split("<")[0]+": "+Xe.message;if(!gr.console)throw new Error(ke);gr.console.error(ke,Xe),gr.alert&&alert(ke)}},N.foo.bar=N,N.foo},MC=function(N,Y){var ke,Xe,vt,Gt,cn,Gn,Br,ii,wi;if(vt=(Y=Y||{}).sourceEncoding||"Unicode",cn=Y.outputEncoding,(Y.autoencode||cn)&&Zs[Ti].metadata&&Zs[Ti].metadata[vt]&&Zs[Ti].metadata[vt].encoding&&(Gt=Zs[Ti].metadata[vt].encoding,!cn&&Zs[Ti].encoding&&(cn=Zs[Ti].encoding),!cn&&Gt.codePages&&(cn=Gt.codePages[0]),"string"==typeof cn&&(cn=Gt[cn]),cn)){for(Br=!1,Gn=[],ke=0,Xe=N.length;ke<Xe;ke++)(ii=cn[N.charCodeAt(ke)])?Gn.push(String.fromCharCode(ii)):Gn.push(N[ke]),Gn[ke].charCodeAt(0)>>8&&(Br=!0);N=Gn.join("")}for(ke=N.length;void 0===Br&&0!==ke;)N.charCodeAt(ke-1)>>8&&(Br=!0),ke--;if(!Br)return N;for(Gn=Y.noBOM?[]:[254,255],ke=0,Xe=N.length;ke<Xe;ke++){if((wi=(ii=N.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gn.push(wi),Gn.push(ii-(wi<<8))}return String.fromCharCode.apply(void 0,Gn)},BA=C.__private__.pdfEscape=C.pdfEscape=function(N,Y){return MC(N,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},JS=C.__private__.beginPage=function(N){pn[++ga]=[],ni[ga]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Q5(ga),Wt(pn[Pe])},U5=function(N,Y){var ke,Xe,vt;switch(t=Y||t,"string"==typeof N&&(ke=j(N.toLowerCase()),Array.isArray(ke)&&(Xe=ke[0],vt=ke[1])),Array.isArray(N)&&(Xe=N[0]*jn,vt=N[1]*jn),isNaN(Xe)&&(Xe=i[0],vt=i[1]),(Xe>14400||vt>14400)&&(Hi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xe=Math.min(14400,Xe),vt=Math.min(14400,vt)),i=[Xe,vt],t.substr(0,1)){case"l":vt>Xe&&(i=[vt,Xe]);break;case"p":Xe>vt&&(i=[vt,Xe])}JS(i),W5(r2),Ge(Nf),0!==o2&&Ge(o2+" J"),0!==a2&&Ge(a2+" j"),ws.publish("addPage",{pageNumber:ga})},nQ=function(N){N>0&&N<=ga&&(pn.splice(N,1),ni.splice(N,1),ga--,Pe>ga&&(Pe=ga),this.setPage(Pe))},Q5=function(N){N>0&&N<=ga&&(Pe=N)},rQ=C.__private__.getNumberOfPages=C.getNumberOfPages=function(){return pn.length-1},H5=function(N,Y,ke){var Xe,vt=void 0;return ke=ke||{},Y=void 0!==Y?Y:Zs[Ti].fontStyle,Xe=(N=void 0!==N?N:Zs[Ti].fontName).toLowerCase(),void 0!==Ho[Xe]&&void 0!==Ho[Xe][Y]?vt=Ho[Xe][Y]:void 0!==Ho[N]&&void 0!==Ho[N][Y]?vt=Ho[N][Y]:!1===ke.disableWarning&&Hi.warn("Unable to look up font label for font '"+N+"', '"+Y+"'. Refer to getFontList() for available fonts."),vt||ke.noFallback||null==(vt=Ho.times[Y])&&(vt=Ho.times.normal),vt},iQ=C.__private__.putInfo=function(){var N=vl(),Y=function(Xe){return Xe};for(var ke in null!==f&&(Y=zc.encryptor(N,0)),Ge("<<"),Ge("/Producer ("+BA(Y("jsPDF "+pr.version))+")"),Hr)Hr.hasOwnProperty(ke)&&Hr[ke]&&Ge("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+BA(Y(Hr[ke]))+")");Ge("/CreationDate ("+BA(Y(Ct))+")"),Ge(">>"),Ge("endobj")},e2=C.__private__.putCatalog=function(N){var Y=(N=N||{}).rootDictionaryObjId||Fm;switch(vl(),Ge("<<"),Ge("/Type /Catalog"),Ge("/Pages "+Y+" 0 R"),Vn||(Vn="fullwidth"),Vn){case"fullwidth":Ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ge("/OpenAction [3 0 R /Fit]");break;case"original":Ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+Vn;"%"===ke.substr(ke.length-1)&&(Vn=parseInt(Vn)/100),"number"==typeof Vn&&Ge("/OpenAction [3 0 R /XYZ null null "+mt(Vn)+"]")}switch(Ei||(Ei="continuous"),Ei){case"continuous":Ge("/PageLayout /OneColumn");break;case"single":Ge("/PageLayout /SinglePage");break;case"two":case"twoleft":Ge("/PageLayout /TwoColumnLeft");break;case"tworight":Ge("/PageLayout /TwoColumnRight")}ti&&Ge("/PageMode /"+ti),ws.publish("putCatalog"),Ge(">>"),Ge("endobj")},sQ=C.__private__.putTrailer=function(){Ge("trailer"),Ge("<<"),Ge("/Size "+(At+1)),Ge("/Root "+At+" 0 R"),Ge("/Info "+(At-1)+" 0 R"),null!==f&&Ge("/Encrypt "+zc.oid+" 0 R"),Ge("/ID [ <"+ze+"> <"+ze+"> ]"),Ge(">>")},oQ=C.__private__.putHeader=function(){Ge("%PDF-"+P),Ge("%\xba\xdf\xac\xe0")},aQ=C.__private__.putXRef=function(){var N="0000000000";Ge("xref"),Ge("0 "+(At+1)),Ge("0000000000 65535 f ");for(var Y=1;Y<=At;Y++)Ge("function"==typeof bt[Y]?(N+bt[Y]()).slice(-10)+" 00000 n ":void 0!==bt[Y]?(N+bt[Y]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Mm=C.__private__.buildDocument=function(){kr(),Wt(Dt),ws.publish("buildDocument"),oQ(),gw(),R5(),L5(),null!==f&&X3(),iQ(),e2();var N=Ft;return aQ(),sQ(),Ge("startxref"),Ge(""+N),Ge("%%EOF"),Wt(pn[Pe]),Dt.join("\n")},NC=C.__private__.getBlob=function(N){return new Blob([dr(N)],{type:"application/pdf"})},PC=C.output=C.__private__.output=Mf(function(N,Y){switch("string"==typeof(Y=Y||{})?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",N){case void 0:return Mm();case"save":C.save(Y.filename);break;case"arraybuffer":return dr(Mm());case"blob":return NC(Mm());case"bloburi":case"bloburl":if(void 0!==gr.URL&&"function"==typeof gr.URL.createObjectURL)return gr.URL&&gr.URL.createObjectURL(NC(Mm()))||void 0;Hi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",Xe=Mm();try{ke=Hd(Xe)}catch(ma){ke=Hd(unescape(encodeURIComponent(Xe)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ke;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(gr)){var vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(vt=Y.pdfObjectUrl,Gt="");var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+vt+'"'+Gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Gn=gr.open();return null!==Gn&&Gn.document.write(cn),Gn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(gr)){var Br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',ii=gr.open();if(null!==ii){ii.document.write(Br);var wi=this;ii.document.documentElement.querySelector("#pdfViewer").onload=function(){ii.document.title=Y.filename,ii.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wi.output("bloburl"))}}return ii}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(gr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Zo=gr.open();if(null!==Zo&&(Zo.document.write(zi),Zo.document.title=Y.filename),Zo||"undefined"==typeof safari)return Zo;break;case"datauri":case"dataurl":return gr.document.location.href=this.output("datauristring",Y);default:return null}}),V5=function(N){return!0===Array.isArray(pw)&&pw.indexOf(N)>-1};switch(r){case"pt":jn=1;break;case"mm":jn=72/25.4;break;case"cm":jn=72/2.54;break;case"in":jn=72;break;case"px":jn=1==V5("px_scaling")?.75:96/72;break;case"pc":case"em":jn=12;break;case"ex":jn=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);jn=r}var zc=null;vn(),Ze();var lQ=function(N){return null!==f?zc.encryptor(N,0):function(Y){return Y}},j5=C.__private__.getPageInfo=C.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ni[N].objId,pageNumber:N,pageContext:ni[N]}},Yr=C.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in ni)if(ni[Y].objId===N)break;return j5(Y)},cQ=C.__private__.getCurrentPageInfo=C.getCurrentPageInfo=function(){return{objId:ni[Pe].objId,pageNumber:Pe,pageContext:ni[Pe]}};C.addPage=function(){return U5.apply(this,arguments),this},C.setPage=function(){return Q5.apply(this,arguments),Wt.call(this,pn[Pe]),this},C.insertPage=function(N){return this.addPage(),this.movePage(Pe,N),this},C.movePage=function(N,Y){var ke,Xe;if(N>Y){ke=pn[N],Xe=ni[N];for(var vt=N;vt>Y;vt--)pn[vt]=pn[vt-1],ni[vt]=ni[vt-1];pn[Y]=ke,ni[Y]=Xe,this.setPage(Y)}else if(N<Y){ke=pn[N],Xe=ni[N];for(var Gt=N;Gt<Y;Gt++)pn[Gt]=pn[Gt+1],ni[Gt]=ni[Gt+1];pn[Y]=ke,ni[Y]=Xe,this.setPage(Y)}return this},C.deletePage=function(){return nQ.apply(this,arguments),this},C.__private__.text=C.text=function(N,Y,ke,Xe,vt){var Gt,cn,Gn,Br,ii,wi,zi,Zo,ma,qa=(Xe=Xe||{}).scope||this;if("number"==typeof N&&"number"==typeof Y&&("string"==typeof ke||Array.isArray(ke))){var qc=ke;ke=Y,Y=N,N=qc}if(arguments[3]instanceof Lr?(Ce("The transform parameter of text() with a Matrix value"),ma=vt):(Gn=arguments[4],Br=arguments[5],"object"===di(zi=arguments[3])&&null!==zi||("string"==typeof Gn&&(Br=Gn,Gn=null),"string"==typeof zi&&(Br=zi,zi=null),"number"==typeof zi&&(Gn=zi,zi=null),Xe={flags:zi,angle:Gn,align:Br})),isNaN(Y)||isNaN(ke)||null==N)throw new Error("Invalid arguments passed to jsPDF.text");if(0===N.length)return qa;var zl="",Pf=!1,wh="number"==typeof Xe.lineHeightFactor?Xe.lineHeightFactor:yw,Pm=qa.internal.scaleFactor;function X5(Ao){return Ao=Ao.split("\t").join(Array(Xe.TabLen||9).join(" ")),BA(Ao,zi)}function h2(Ao){for(var ho,Ma=Ao.concat(),_l=[],km=Ma.length;km--;)"string"==typeof(ho=Ma.shift())?_l.push(ho):Array.isArray(Ao)&&(1===ho.length||void 0===ho[1]&&void 0===ho[2])?_l.push(ho[0]):_l.push([ho[0],ho[1],ho[2]]);return _l}function d2(Ao,ho){var Ma;if("string"==typeof Ao)Ma=ho(Ao)[0];else if(Array.isArray(Ao)){for(var _l,km,$0=Ao.concat(),qC=[],eN=$0.length;eN--;)"string"==typeof(_l=$0.shift())?qC.push(ho(_l)[0]):Array.isArray(_l)&&"string"==typeof _l[0]&&(km=ho(_l[0],_l[1],_l[2]),qC.push([km[0],km[1],km[2]]));Ma=qC}return Ma}var QC=!1,f2=!0;if("string"==typeof N)QC=!0;else if(Array.isArray(N)){var p2=N.concat();cn=[];for(var HC,SA=p2.length;SA--;)("string"!=typeof(HC=p2.shift())||Array.isArray(HC)&&"string"!=typeof HC[0])&&(f2=!1);QC=f2}if(!1===QC)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');"string"==typeof N&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var VC=Sn/qa.internal.scaleFactor,jC=VC*(wh-1);switch(Xe.baseline){case"bottom":ke-=jC;break;case"top":ke+=VC-jC;break;case"hanging":ke+=VC-2*jC;break;case"middle":ke+=VC/2-jC}if((wi=Xe.maxWidth||0)>0&&("string"==typeof N?N=qa.splitTextToSize(N,wi):"[object Array]"===Object.prototype.toString.call(N)&&(N=N.reduce(function(Ao,ho){return Ao.concat(qa.splitTextToSize(ho,wi))},[]))),ws.publish("preProcessText",Gt={text:N,x:Y,y:ke,options:Xe,mutex:{pdfEscape:BA,activeFontKey:Ti,fonts:Zs,activeFontSize:Sn}}),N=Gt.text,Gn=(Xe=Gt.options).angle,ma instanceof Lr||!Gn||"number"!=typeof Gn)Gn&&Gn instanceof Lr&&(ma=Gn);else{Gn*=Math.PI/180,0===Xe.rotationDirection&&(Gn=-Gn),se===z.ADVANCED&&(Gn=-Gn);var KC=Math.cos(Gn),g2=Math.sin(Gn);ma=new Lr(KC,g2,-g2,KC,0,0)}se!==z.ADVANCED||ma||(ma=lg),void 0!==(ii=Xe.charSpace||RC)&&(zl+=Oe(me(ii))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Zo=Xe.horizontalScale)&&(zl+=Oe(100*Zo)+" Tz\n");var xA=-1,vQ=void 0!==Xe.renderingMode?Xe.renderingMode:Xe.stroke,m2=qa.internal.getCurrentPageInfo().pageContext;switch(vQ){case 0:case!1:case"fill":xA=0;break;case 1:case!0:case"stroke":xA=1;break;case 2:case"fillThenStroke":xA=2;break;case 3:case"invisible":xA=3;break;case 4:case"fillAndAddForClipping":xA=4;break;case 5:case"strokeAndAddPathForClipping":xA=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xA=6;break;case 7:case"addToPathForClipping":xA=7}var J5=void 0!==m2.usedRenderingMode?m2.usedRenderingMode:-1;-1!==xA?zl+=xA+" Tr\n":-1!==J5&&(zl+="0 Tr\n"),-1!==xA&&(m2.usedRenderingMode=xA),Br=Xe.align||"left";var Of,y2=Sn*wh,_Q=qa.internal.pageSize.getWidth(),wQ=Zs[Ti];ii=Xe.charSpace||RC,wi=Xe.maxWidth||0,zi=Object.assign({autoencode:!0,noBOM:!0},Xe.flags);var G0=[];if("[object Array]"===Object.prototype.toString.call(N)){var cd;cn=h2(N),"left"!==Br&&(Of=cn.map(function(Ao){return qa.getStringUnitWidth(Ao,{font:wQ,charSpace:ii,fontSize:Sn,doKerning:!1})*Sn/Pm}));var Lf,W0=0;if("right"===Br){Y-=Of[0],N=[],SA=cn.length;for(var hg=0;hg<SA;hg++)0===hg?(Lf=Nm(Y),cd=V0(ke)):(Lf=me(W0-Of[hg]),cd=-y2),N.push([cn[hg],Lf,cd]),W0=Of[hg]}else if("center"===Br){Y-=Of[0]/2,N=[],SA=cn.length;for(var Om=0;Om<SA;Om++)0===Om?(Lf=Nm(Y),cd=V0(ke)):(Lf=me((W0-Of[Om])/2),cd=-y2),N.push([cn[Om],Lf,cd]),W0=Of[Om]}else if("left"===Br){N=[],SA=cn.length;for(var GC=0;GC<SA;GC++)N.push(cn[GC])}else{if("justify"!==Br)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');N=[],SA=cn.length,wi=0!==wi?wi:_Q;for(var Rf=0;Rf<SA;Rf++)cd=0===Rf?V0(ke):-y2,Lf=0===Rf?Nm(Y):0,G0.push(Rf<SA-1?Oe(me((wi-Of[Rf])/(cn[Rf].split(" ").length-1))):0),N.push([cn[Rf],Lf,cd])}}var WC="boolean"==typeof Xe.R2L?Xe.R2L:br;!0===WC&&(N=d2(N,function(Ao,ho,Ma){return[Ao.split("").reverse().join(""),ho,Ma]})),ws.publish("postProcessText",Gt={text:N,x:Y,y:ke,options:Xe,mutex:{pdfEscape:BA,activeFontKey:Ti,fonts:Zs,activeFontSize:Sn}}),N=Gt.text,Pf=Gt.mutex.isHex||!1;var v2=Zs[Ti].encoding;"WinAnsiEncoding"!==v2&&"StandardEncoding"!==v2||(N=d2(N,function(Ao,ho,Ma){return[X5(Ao),ho,Ma]})),cn=h2(N),N=[];for(var z0,kf,Lm,ww=0,zC=1,bw=Array.isArray(cn[0])?zC:ww,q0="",_2=function(Ao,ho,Ma){var _l="";return Ma instanceof Lr?(Ma="number"==typeof Xe.angle?xf(Ma,new Lr(1,0,0,1,Ao,ho)):xf(new Lr(1,0,0,1,Ao,ho),Ma),se===z.ADVANCED&&(Ma=xf(new Lr(1,0,0,-1,0,0),Ma)),_l=Ma.join(" ")+" Tm\n"):_l=Oe(Ao)+" "+Oe(ho)+" Td\n",_l},ud=0;ud<cn.length;ud++){switch(q0="",bw){case zC:Lm=(Pf?"<":"(")+cn[ud][0]+(Pf?">":")"),z0=parseFloat(cn[ud][1]),kf=parseFloat(cn[ud][2]);break;case ww:Lm=(Pf?"<":"(")+cn[ud]+(Pf?">":")"),z0=Nm(Y),kf=V0(ke)}void 0!==G0&&void 0!==G0[ud]&&(q0=G0[ud]+" Tw\n"),0===ud?N.push(q0+_2(z0,kf,ma)+Lm):bw===ww?N.push(q0+Lm):bw===zC&&N.push(q0+_2(z0,kf,ma)+Lm)}N=N.join(bw===ww?" Tj\nT* ":" Tj\n"),N+=" Tj\n";var Rm="BT\n/";return Rm+=Ti+" "+Sn+" Tf\n",Rm+=Oe(Sn*wh)+" TL\n",Rm+=vw+"\n",Rm+=zl,Rm+=N,Ge(Rm+="ET"),I[Ti]=!0,qa};var uQ=C.__private__.clip=C.clip=function(N){return Ge("evenodd"===N?"W*":"W"),this};C.clipEvenOdd=function(){return uQ("evenodd")},C.__private__.discardPath=C.discardPath=function(){return Ge("n"),this};var Ag=C.__private__.isValidStyle=function(N){var Y=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)&&(Y=!0),Y};C.__private__.setDefaultPathOperation=C.setDefaultPathOperation=function(N){return Ag(N)&&(h=N),this};var K5=C.__private__.getStyle=C.getStyle=function(N){var Y=h;switch(N){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=N}return Y},G5=C.close=function(){return Ge("h"),this};C.stroke=function(){return Ge("S"),this},C.fill=function(N){return OC("f",N),this},C.fillEvenOdd=function(N){return OC("f*",N),this},C.fillStroke=function(N){return OC("B",N),this},C.fillStrokeEvenOdd=function(N){return OC("B*",N),this};var OC=function(N,Y){"object"===di(Y)?hQ(Y,N):Ge(N)},t2=function(N){null===N||se===z.ADVANCED&&void 0===N||(N=K5(N),Ge(N))};function AQ(N,Y,ke,Xe,vt){var Gt=new _o(Y||this.boundingBox,ke||this.xStep,Xe||this.yStep,this.gState,vt||this.matrix);Gt.stream=this.stream;var cn=N+"$$"+this.cloneIndex+++"$$";return IA(cn,Gt),Gt}var hQ=function(N,Y){var ke=fw[N.key],Xe=_s[ke];if(Xe instanceof sA)Ge("q"),Ge(dQ(Y)),Xe.gState&&C.setGState(Xe.gState),Ge(N.matrix.toString()+" cm"),Ge("/"+ke+" sh"),Ge("Q");else if(Xe instanceof _o){var vt=new Lr(1,0,0,-1,0,K0());N.matrix&&(vt=vt.multiply(N.matrix||lg),ke=AQ.call(Xe,N.key,N.boundingBox,N.xStep,N.yStep,vt).id),Ge("q"),Ge("/Pattern cs"),Ge("/"+ke+" scn"),Xe.gState&&C.setGState(Xe.gState),Ge(Y),Ge("Q")}},dQ=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},n2=C.moveTo=function(N,Y){return Ge(Oe(me(N))+" "+Oe(Ke(Y))+" m"),this},mw=C.lineTo=function(N,Y){return Ge(Oe(me(N))+" "+Oe(Ke(Y))+" l"),this},H0=C.curveTo=function(N,Y,ke,Xe,vt,Gt){return Ge([Oe(me(N)),Oe(Ke(Y)),Oe(me(ke)),Oe(Ke(Xe)),Oe(me(vt)),Oe(Ke(Gt)),"c"].join(" ")),this};C.__private__.line=C.line=function(N,Y,ke,Xe,vt){if(isNaN(N)||isNaN(Y)||isNaN(ke)||isNaN(Xe)||!Ag(vt))throw new Error("Invalid arguments passed to jsPDF.line");return se===z.COMPAT?this.lines([[ke-N,Xe-Y]],N,Y,[1,1],vt||"S"):this.lines([[ke-N,Xe-Y]],N,Y,[1,1]).stroke()},C.__private__.lines=C.lines=function(N,Y,ke,Xe,vt,Gt){var cn,Gn,Br,ii,wi,qc,zl,Pf;if("number"==typeof N&&(Pf=ke,ke=Y,Y=N,N=Pf),Xe=Xe||[1,1],Gt=Gt||!1,isNaN(Y)||isNaN(ke)||!Array.isArray(N)||!Array.isArray(Xe)||!Ag(vt)||"boolean"!=typeof Gt)throw new Error("Invalid arguments passed to jsPDF.lines");for(n2(Y,ke),cn=Xe[0],Gn=Xe[1],ii=N.length,qc=Y,zl=ke,Br=0;Br<ii;Br++)2===(wi=N[Br]).length?mw(qc=wi[0]*cn+qc,zl=wi[1]*Gn+zl):H0(wi[0]*cn+qc,wi[1]*Gn+zl,wi[2]*cn+qc,wi[3]*Gn+zl,qc=wi[4]*cn+qc,zl=wi[5]*Gn+zl);return Gt&&G5(),t2(vt),this},C.path=function(N){for(var Y=0;Y<N.length;Y++){var ke=N[Y],Xe=ke.c;switch(ke.op){case"m":n2(Xe[0],Xe[1]);break;case"l":mw(Xe[0],Xe[1]);break;case"c":H0.apply(this,Xe);break;case"h":G5()}}return this},C.__private__.rect=C.rect=function(N,Y,ke,Xe,vt){if(isNaN(N)||isNaN(Y)||isNaN(ke)||isNaN(Xe)||!Ag(vt))throw new Error("Invalid arguments passed to jsPDF.rect");return se===z.COMPAT&&(Xe=-Xe),Ge([Oe(me(N)),Oe(Ke(Y)),Oe(me(ke)),Oe(me(Xe)),"re"].join(" ")),t2(vt),this},C.__private__.triangle=C.triangle=function(N,Y,ke,Xe,vt,Gt,cn){if(isNaN(N)||isNaN(Y)||isNaN(ke)||isNaN(Xe)||isNaN(vt)||isNaN(Gt)||!Ag(cn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-N,Xe-Y],[vt-ke,Gt-Xe],[N-vt,Y-Gt]],N,Y,[1,1],cn,!0),this},C.__private__.roundedRect=C.roundedRect=function(N,Y,ke,Xe,vt,Gt,cn){if(isNaN(N)||isNaN(Y)||isNaN(ke)||isNaN(Xe)||isNaN(vt)||isNaN(Gt)||!Ag(cn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gn=4/3*(Math.SQRT2-1);return vt=Math.min(vt,.5*ke),Gt=Math.min(Gt,.5*Xe),this.lines([[ke-2*vt,0],[vt*Gn,0,vt,Gt-Gt*Gn,vt,Gt],[0,Xe-2*Gt],[0,Gt*Gn,-vt*Gn,Gt,-vt,Gt],[2*vt-ke,0],[-vt*Gn,0,-vt,-Gt*Gn,-vt,-Gt],[0,2*Gt-Xe],[0,-Gt*Gn,vt*Gn,-Gt,vt,-Gt]],N+vt,Y,[1,1],cn,!0),this},C.__private__.ellipse=C.ellipse=function(N,Y,ke,Xe,vt){if(isNaN(N)||isNaN(Y)||isNaN(ke)||isNaN(Xe)||!Ag(vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Gt=4/3*(Math.SQRT2-1)*ke,cn=4/3*(Math.SQRT2-1)*Xe;return n2(N+ke,Y),H0(N+ke,Y-cn,N+Gt,Y-Xe,N,Y-Xe),H0(N-Gt,Y-Xe,N-ke,Y-cn,N-ke,Y),H0(N-ke,Y+cn,N-Gt,Y+Xe,N,Y+Xe),H0(N+Gt,Y+Xe,N+ke,Y+cn,N+ke,Y),t2(vt),this},C.__private__.circle=C.circle=function(N,Y,ke,Xe){if(isNaN(N)||isNaN(Y)||isNaN(ke)||!Ag(Xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,Y,ke,ke,Xe)},C.setFont=function(N,Y,ke){return ke&&(Y=Ve(Y,ke)),Ti=H5(N,Y,{disableWarning:!1}),this};var fQ=C.__private__.getFont=C.getFont=function(){return Zs[H5.apply(C,arguments)]};C.__private__.getFontList=C.getFontList=function(){var N,Y,ke={};for(N in Ho)if(Ho.hasOwnProperty(N))for(Y in ke[N]=[],Ho[N])Ho[N].hasOwnProperty(Y)&&ke[N].push(Y);return ke},C.addFont=function(N,Y,ke,Xe,vt){var Gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Gt.indexOf(arguments[3])?vt=arguments[3]:arguments[3]&&-1==Gt.indexOf(arguments[3])&&(ke=Ve(ke,Xe)),XS.call(this,N,Y,ke,vt=vt||"Identity-H")};var yw,r2=n.lineWidth||.200025,LC=C.__private__.getLineWidth=C.getLineWidth=function(){return r2},W5=C.__private__.setLineWidth=C.setLineWidth=function(N){return r2=N,Ge(Oe(me(N))+" w"),this};C.__private__.setLineDash=pr.API.setLineDash=pr.API.setLineDashPattern=function(N,Y){if(N=N||[],Y=Y||0,isNaN(Y)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ke){return Oe(me(ke))}).join(" "),Y=Oe(me(Y)),Ge("["+N+"] "+Y+" d"),this};var z5=C.__private__.getLineHeight=C.getLineHeight=function(){return Sn*yw};C.__private__.getLineHeight=C.getLineHeight=function(){return Sn*yw};var q5=C.__private__.setLineHeightFactor=C.setLineHeightFactor=function(N){return"number"==typeof(N=N||1.15)&&(yw=N),this},$5=C.__private__.getLineHeightFactor=C.getLineHeightFactor=function(){return yw};q5(n.lineHeight);var Nm=C.__private__.getHorizontalCoordinate=function(N){return me(N)},V0=C.__private__.getVerticalCoordinate=function(N){return se===z.ADVANCED?N:ni[Pe].mediaBox.topRightY-ni[Pe].mediaBox.bottomLeftY-me(N)},pQ=C.__private__.getHorizontalCoordinateString=C.getHorizontalCoordinateString=function(N){return Oe(Nm(N))},j0=C.__private__.getVerticalCoordinateString=C.getVerticalCoordinateString=function(N){return Oe(V0(N))},Nf=n.strokeColor||"0 G";C.__private__.getStrokeColor=C.getDrawColor=function(){return Tf(Nf)},C.__private__.setStrokeColor=C.setDrawColor=function(N,Y,ke,Xe){return Nf=Ff({ch1:N,ch2:Y,ch3:ke,ch4:Xe,pdfColorType:"draw",precision:2}),Ge(Nf),this};var s2=n.fillColor||"0 g";C.__private__.getFillColor=C.getFillColor=function(){return Tf(s2)},C.__private__.setFillColor=C.setFillColor=function(N,Y,ke,Xe){return s2=Ff({ch1:N,ch2:Y,ch3:ke,ch4:Xe,pdfColorType:"fill",precision:2}),Ge(s2),this};var vw=n.textColor||"0 g",gQ=C.__private__.getTextColor=C.getTextColor=function(){return Tf(vw)};C.__private__.setTextColor=C.setTextColor=function(N,Y,ke,Xe){return vw=Ff({ch1:N,ch2:Y,ch3:ke,ch4:Xe,pdfColorType:"text",precision:3}),this};var RC=n.charSpace,mQ=C.__private__.getCharSpace=C.getCharSpace=function(){return parseFloat(RC||0)};C.__private__.setCharSpace=C.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return RC=N,this};var o2=0;C.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},C.__private__.setLineCap=C.setLineCap=function(N){var Y=C.CapJoinStyles[N];if(void 0===Y)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return o2=Y,Ge(Y+" J"),this};var a2=0;C.__private__.setLineJoin=C.setLineJoin=function(N){var Y=C.CapJoinStyles[N];if(void 0===Y)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return a2=Y,Ge(Y+" j"),this},C.__private__.setLineMiterLimit=C.__private__.setMiterLimit=C.setLineMiterLimit=C.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ge(Oe(me(N))+" M"),this},C.GState=pp,C.setGState=function(N){(N="string"==typeof N?pa[Sf[N]]:Y5(null,N)).equals(Tm)||(Ge("/"+N.id+" gs"),Tm=N)};var Y5=function(N,Y){if(!N||!Sf[N]){var ke=!1;for(var Xe in pa)if(pa.hasOwnProperty(Xe)&&pa[Xe].equals(Y)){ke=!0;break}if(ke)Y=pa[Xe];else{var vt="GS"+(Object.keys(pa).length+1).toString(10);pa[vt]=Y,Y.id=vt}return N&&(Sf[N]=Y.id),ws.publish("addGState",Y),Y}};C.addGState=function(N,Y){return Y5(N,Y),this},C.saveGraphicsState=function(){return Ge("q"),sg.push({key:Ti,size:Sn,color:vw}),this},C.restoreGraphicsState=function(){Ge("Q");var N=sg.pop();return Ti=N.key,Sn=N.size,vw=N.color,Tm=null,this},C.setCurrentTransformationMatrix=function(N){return Ge(N.toString()+" cm"),this},C.comment=function(N){return Ge("#"+N),this};var kC=function(N,Y){var ke=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(Gt){isNaN(Gt)||(ke=parseFloat(Gt))}});var Xe=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Xe},set:function(Gt){isNaN(Gt)||(Xe=parseFloat(Gt))}});var vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return vt},set:function(Gt){vt=Gt.toString()}}),this},l2=function(N,Y,ke,Xe){kC.call(this,N,Y),this.type="rect";var vt=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return vt},set:function(cn){isNaN(cn)||(vt=parseFloat(cn))}});var Gt=Xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Gt},set:function(cn){isNaN(cn)||(Gt=parseFloat(cn))}}),this},c2=function(){this.page=ga,this.currentPage=Pe,this.pages=pn.slice(0),this.pagesContext=ni.slice(0),this.x=Wc,this.y=ts,this.matrix=Bf,this.width=_w(Pe),this.height=K0(Pe),this.outputDestination=$n,this.id="",this.objectNumber=-1};c2.prototype.restore=function(){ga=this.page,ni=this.pagesContext,pn=this.pages,Wc=this.x,ts=this.y,Bf=this.matrix,u2(Pe=this.currentPage,this.width),A2(Pe,this.height),$n=this.outputDestination};var Z5=function(N,Y,ke,Xe,vt){ag.push(new c2),ga=Pe=0,pn=[],Wc=N,ts=Y,Bf=vt,JS([ke,Xe])},yQ=function(N){if(og[N])ag.pop().restore();else{var Y=new c2,ke="Xo"+(Object.keys(yc).length+1).toString(10);Y.id=ke,og[N]=ke,yc[ke]=Y,ws.publish("addFormObject",Y),ag.pop().restore()}};for(var UC in C.beginFormObject=function(N,Y,ke,Xe,vt){return Z5(N,Y,ke,Xe,vt),this},C.endFormObject=function(N){return yQ(N),this},C.doFormObject=function(N,Y){var ke=yc[og[N]];return Ge("q"),Ge(Y.toString()+" cm"),Ge("/"+ke.id+" Do"),Ge("Q"),this},C.getFormObject=function(N){var Y=yc[og[N]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},C.save=function(N,Y){return N=N||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,!1===Y.returnPromise?(XA(NC(Mm()),N),"function"==typeof XA.unload&&gr.setTimeout&&setTimeout(XA.unload,911),this):new Promise(function(ke,Xe){try{var vt=XA(NC(Mm()),N);"function"==typeof XA.unload&&gr.setTimeout&&setTimeout(XA.unload,911),ke(vt)}catch(Gt){Xe(Gt.message)}})},pr.API)pr.API.hasOwnProperty(UC)&&("events"===UC&&pr.API.events.length?function(N,Y){var Xe,vt;for(vt=Y.length-1;-1!==vt;vt--)N.subscribe.apply(N,[Y[vt][0]].concat("function"==typeof(Xe=Y[vt][1])?[Xe]:Xe))}(ws,pr.API.events):C[UC]=pr.API[UC]);var _w=C.getPageWidth=function(N){return(ni[N=N||Pe].mediaBox.topRightX-ni[N].mediaBox.bottomLeftX)/jn},u2=C.setPageWidth=function(N,Y){ni[N].mediaBox.topRightX=Y*jn+ni[N].mediaBox.bottomLeftX},K0=C.getPageHeight=function(N){return(ni[N=N||Pe].mediaBox.topRightY-ni[N].mediaBox.bottomLeftY)/jn},A2=C.setPageHeight=function(N,Y){ni[N].mediaBox.topRightY=Y*jn+ni[N].mediaBox.bottomLeftY};return C.internal={pdfEscape:BA,getStyle:K5,getFont:fQ,getFontSize:Un,getCharSpace:mQ,getTextColor:gQ,getLineHeight:z5,getLineHeightFactor:$5,getLineWidth:LC,write:ri,getHorizontalCoordinate:Nm,getVerticalCoordinate:V0,getCoordinateString:pQ,getVerticalCoordinateString:j0,collections:{},newObject:vl,newAdditionalObject:IC,newObjectDeferred:za,newObjectDeferredBegin:_h,getFilters:cg,putStream:ld,events:ws,scaleFactor:jn,pageSize:{getWidth:function(){return _w(Pe)},setWidth:function(N){u2(Pe,N)},getHeight:function(){return K0(Pe)},setHeight:function(N){A2(Pe,N)}},encryptionOptions:f,encryption:zc,getEncryptor:lQ,output:PC,getNumberOfPages:rQ,pages:pn,out:Ge,f2:mt,f3:ge,getPageInfo:j5,getPageInfoByObjId:Yr,getCurrentPageInfo:cQ,getPDFVersion:L,Point:kC,Rectangle:l2,Matrix:Lr,hasHotfix:V5},Object.defineProperty(C.internal.pageSize,"width",{get:function(){return _w(Pe)},set:function(N){u2(Pe,N)},enumerable:!0,configurable:!0}),Object.defineProperty(C.internal.pageSize,"height",{get:function(){return K0(Pe)},set:function(N){A2(Pe,N)},enumerable:!0,configurable:!0}),tQ.call(C,gn),Ti="F1",U5(i,t),ws.publish("initialized"),C}Ps.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ps.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ps.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ps.prototype.processOwnerPassword=function(n,e){return Vd(JA(e).substr(0,5),n)},Ps.prototype.encryptor=function(n,e){var t=JA(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Vd(t,r)}},pp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||di(n)!==di(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},pr.API={events:[]},pr.version="2.5.1";var ps=pr.API,gp=1,oA=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Er=function(n){return n.toFixed(2)},Sc=function(n){return n.toFixed(5)};ps.__acroform__={};var wa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},mp=function(n){return n*gp},Qa=function(n){var e=new Fg,t=Hn.internal.getHeight(n)||0,r=Hn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Er(r)),Number(Er(t))],e},Dg=ps.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},iy=ps.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},jd=ps.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(n&1<<e)?0:1},gs=ps.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jd(n,e-1)},Gr=ps.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Dg(n,e-1)},ms=ps.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iy(n,e-1)},Kd=ps.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(s+a)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(s)||0,[Number(Er(u.lowerLeft_X)),Number(Er(u.lowerLeft_Y)),Number(Er(u.upperRight_X)),Number(Er(u.upperRight_Y))]},gu=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=Gd(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Er(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Qa(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},Gd=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(ge){return ge.split("\n")}:function(ge){return[ge]});var s=t,o=Hn.internal.getHeight(n)||0;o=o<0?-o:o;var ge,a=Hn.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){e="",s--;var h,f,y=Hh("3",n,s).height,I=n.multiline?o-s:(o-y)/2,C=I+=2,P=0,L=0,V=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+Hh(e,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var j="",z=0,se=0;se<i.length;se++)if(i.hasOwnProperty(se)){var ve=!1;if(1!==i[se].length&&V!==i[se].length-1){if((y+2)*(z+2)+2>o)continue e;j+=i[se][V],ve=!0,L=se,se--}else{j=" "==(j+=i[se][V]+" ").substr(j.length-1)?j.substr(0,j.length-1):j;var Se=parseInt(se),Ve=(ge=Se)+1<i.length&&Hh(j+" "+i[ge+1][0],n,s).width<=a-4,Oe=se>=i.length-1;if(Ve&&!Oe){j+=" ",V=0;continue}if(Ve||Oe){if(Oe)L=Se;else if(n.multiline&&(y+2)*(z+2)+2>o)continue e}else{if(!n.multiline||(y+2)*(z+2)+2>o)continue e;L=Se}}for(var Ce="",ut=P;ut<=L;ut++){var mt=i[ut];if(n.multiline){if(ut===L){Ce+=mt[V]+" ",V=(V+1)%mt.length;continue}if(ut===P){Ce+=mt[mt.length-1]+" ";continue}}Ce+=mt[0]+" "}switch(Ce=" "==Ce.substr(Ce.length-1)?Ce.substr(0,Ce.length-1):Ce,f=Hh(Ce,n,s).width,n.textAlign){case"right":h=a-f-2;break;case"center":h=(a-f)/2;break;default:h=2}e+=Er(h)+" "+Er(C)+" Td\n",e+="("+oA(Ce)+") Tj\n",e+=-Er(h)+" 0 Td\n",C=-(s+2),f=0,P=ve?L:L+1,z++,j=""}break}return r.text=e,r.fontSize=s,r},Hh=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Wd={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cv=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},sy=ps.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(0!==s&&(i+=" "),di(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+oA(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zd=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+oA(r(n))+")"},xc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xc.prototype.toString=function(){return this.objId+" 0 R"},xc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},xc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:sy(i,this.objId,this.scope)}):i instanceof xc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var Fg=function(){xc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};wa(Fg,xc);var eh=function(){xc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+oA(t(n))+")"}},set:function(t){n=t}})};wa(eh,xc);var cl=function n(){xc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(e,3))},set:function(j){this.F=!0===Boolean(j)?Gr(e,3):ms(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(j){r=void 0!==j?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof lA)return;s="FieldObject"+n.FieldNum++}var j=function(z){return z};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+oA(j(s))+")"},set:function(j){s=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(j){s=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(j){a=j}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===h?50/gp:h},set:function(j){h=j}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof lA||this instanceof Pl))return zd(y,this.objId,this.scope)},set:function(j){j=j.toString(),y=j}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof so?I:zd(I,this.objId,this.scope)},set:function(j){j=j.toString(),I=this instanceof so?j:"("===j.substr(0,1)?Qh(j.substr(1,j.length-2)):Qh(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof so?Qh(I.substr(1,I.length-1)):I},set:function(j){j=j.toString(),I=this instanceof so?"/"+j:j}});var C=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(C)return C},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof so?C:zd(C,this.objId,this.scope)},set:function(j){j=j.toString(),C=this instanceof so?j:"("===j.substr(0,1)?Qh(j.substr(1,j.length-2)):Qh(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof so?Qh(C.substr(1,C.length-1)):C},set:function(j){j=j.toString(),C=this instanceof so?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(j){j=Boolean(j),L=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(j){P=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,1))},set:function(j){this.Ff=!0===Boolean(j)?Gr(this.Ff,1):ms(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,2))},set:function(j){this.Ff=!0===Boolean(j)?Gr(this.Ff,2):ms(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,3))},set:function(j){this.Ff=!0===Boolean(j)?Gr(this.Ff,3):ms(this.Ff,3)}});var V=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==V)return V},set:function(j){if(-1===[0,1,2].indexOf(j))throw new Error('Invalid value "'+j+'" for attribute Q supplied.');V=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(V){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:V=2;break;case"center":case 1:V=1;break;default:V=0}}})};wa(cl,xc);var mu=function(){cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sy(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(s,o,a){a||(a=1);for(var u,h=[];u=o.exec(s);)h.push(u[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,18):ms(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?Gr(this.Ff,19):ms(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Gr(this.Ff,20),e.sort()):this.Ff=ms(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,22):ms(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,23):ms(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,27):ms(this.Ff,27)}}),this.hasAppearanceStream=!1};wa(mu,cl);var th=function(){mu.call(this),this.fontName="helvetica",this.combo=!1};wa(th,mu);var aA=function(){th.call(this),this.combo=!0};wa(aA,th);var qd=function(){aA.call(this),this.edit=!0};wa(qd,aA);var so=function(){cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,15):ms(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,16):ms(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,17):ms(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?Gr(this.Ff,26):ms(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+oA(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===di(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};wa(so,cl);var Nl=function(){so.call(this),this.pushButton=!0};wa(Nl,so);var nh=function(){so.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};wa(nh,so);var lA=function(){var n,e;cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+oA(i(r[s]))+")");return o.push(">>"),o.join("\n")},set:function(i){"object"===di(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Hn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wa(lA,cl),nh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},nh.prototype.createOption=function(n){var e=new lA;return e.Parent=this,e.optionName=n,this.Kids.push(e),Vh.call(this.scope,e),e};var yu=function(){so.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Hn.CheckBox.createAppearanceStream()};wa(yu,so);var Pl=function(){cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,13))},set:function(e){this.Ff=!0===Boolean(e)?Gr(this.Ff,13):ms(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,21))},set:function(e){this.Ff=!0===Boolean(e)?Gr(this.Ff,21):ms(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?Gr(this.Ff,23):ms(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,24))},set:function(e){this.Ff=!0===Boolean(e)?Gr(this.Ff,24):ms(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,25))},set:function(e){this.Ff=!0===Boolean(e)?Gr(this.Ff,25):ms(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?Gr(this.Ff,26):ms(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wa(Pl,cl);var $d=function(){Pl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(gs(this.Ff,14))},set:function(n){this.Ff=!0===Boolean(n)?Gr(this.Ff,14):ms(this.Ff,14)}}),this.password=!0};wa($d,Pl);var Hn={CheckBox:{createAppearanceStream:function(){return{N:{On:Hn.CheckBox.YesNormal},D:{On:Hn.CheckBox.YesPushDown,Off:Hn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Qa(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Gd(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Er(Hn.internal.getWidth(n))+" "+Er(Hn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Er(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=Qa(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Hn.internal.getHeight(n),o=Hn.internal.getWidth(n),a=Gd(n,n.caption);return i.push("1 g"),i.push("0 0 "+Er(o)+" "+Er(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Er(o-1)+" "+Er(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Er(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=Qa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Er(Hn.internal.getWidth(n))+" "+Er(Hn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Hn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Hn.RadioButton.Circle.YesNormal,e.D[n]=Hn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Qa(n);e.scope=n.scope;var t=[],r=Hn.internal.getWidth(n)<=Hn.internal.getHeight(n)?Hn.internal.getWidth(n)/4:Hn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((r*Hn.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Sc(Hn.internal.getWidth(n)/2)+" "+Sc(Hn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Qa(n);e.scope=n.scope;var t=[],r=Hn.internal.getWidth(n)<=Hn.internal.getHeight(n)?Hn.internal.getWidth(n)/4:Hn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Hn.internal.Bezier_C).toFixed(5)),o=Number((r*Hn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sc(Hn.internal.getWidth(n)/2)+" "+Sc(Hn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Sc(Hn.internal.getWidth(n)/2)+" "+Sc(Hn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=Qa(n);e.scope=n.scope;var t=[],r=Hn.internal.getWidth(n)<=Hn.internal.getHeight(n)?Hn.internal.getWidth(n)/4:Hn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Hn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sc(Hn.internal.getWidth(n)/2)+" "+Sc(Hn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Hn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Hn.RadioButton.Cross.YesNormal,e.D[n]=Hn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Qa(n);e.scope=n.scope;var t=[],r=Hn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Er(Hn.internal.getWidth(n)-2)+" "+Er(Hn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Er(r.x1.x)+" "+Er(r.x1.y)+" m"),t.push(Er(r.x2.x)+" "+Er(r.x2.y)+" l"),t.push(Er(r.x4.x)+" "+Er(r.x4.y)+" m"),t.push(Er(r.x3.x)+" "+Er(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Qa(n);e.scope=n.scope;var t=Hn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Er(Hn.internal.getWidth(n))+" "+Er(Hn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Er(Hn.internal.getWidth(n)-2)+" "+Er(Hn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Er(t.x1.x)+" "+Er(t.x1.y)+" m"),r.push(Er(t.x2.x)+" "+Er(t.x2.y)+" l"),r.push(Er(t.x4.x)+" "+Er(t.x4.y)+" m"),r.push(Er(t.x3.x)+" "+Er(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=Qa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Er(Hn.internal.getWidth(n))+" "+Er(Hn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Hn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Hn.internal.getWidth(n),t=Hn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Hn.internal.getWidth=function(n){var e=0;return"object"===di(n)&&(e=mp(n.Rect[2])),e},Hn.internal.getHeight=function(n){var e=0;return"object"===di(n)&&(e=mp(n.Rect[3])),e};var n,e,Vh=ps.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(cl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Wd)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gp=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new eh,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&cv(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],u=[],h=a.Rect;if(a.Rect&&(a.Rect=Kd(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Hn.createDefaultAppearanceStream(a),"object"===di(a)&&"function"==typeof a.getKeyValueListForStream&&(u=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=gu(a);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var y="";for(var I in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(I)){var C=a.appearanceStreamContent[I];if(y+="/"+I+" ",y+="<<",Object.keys(C).length>=1||Array.isArray(C)){for(var o in C)if(C.hasOwnProperty(o)){var P=C[o];"function"==typeof P&&(P=P.call(i,a)),y+="/"+o+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else"function"==typeof(P=C)&&(P=P.call(i,a)),y+="/"+o+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);y+=">>"}u.push({key:"AP",value:"<<\n"+y+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:a.objId}),i.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===di(i)&&"function"==typeof i.putStream&&i.putStream(),delete n[r]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof cl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function Yd(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}ps.AcroFormChoiceField=mu,ps.AcroFormListBox=th,ps.AcroFormComboBox=aA,ps.AcroFormEditBox=qd,ps.AcroFormButton=so,ps.AcroFormPushButton=Nl,ps.AcroFormRadioButton=nh,ps.AcroFormCheckBox=yu,ps.AcroFormTextField=Pl,ps.AcroFormPasswordField=$d,ps.AcroFormAppearance=Hn,ps.AcroForm={ChoiceField:mu,ListBox:th,ComboBox:aA,EditBox:qd,Button:so,PushButton:Nl,RadioButton:nh,CheckBox:yu,TextField:Pl,PasswordField:$d,Appearance:Hn},pr.AcroForm={ChoiceField:mu,ListBox:th,ComboBox:aA,EditBox:qd,Button:so,PushButton:Nl,RadioButton:nh,CheckBox:yu,TextField:Pl,PasswordField:$d,Appearance:Hn},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(ge,me){var qe,Ke,Ct,ze,st,Ze=e;if("RGBA"===(me=me||e)||void 0!==ge.data&&ge.data instanceof Uint8ClampedArray&&"height"in ge&&"width"in ge)return"RGBA";if(Ve(ge))for(st in t)for(Ct=t[st],qe=0;qe<Ct.length;qe+=1){for(ze=!0,Ke=0;Ke<Ct[qe].length;Ke+=1)if(void 0!==Ct[qe][Ke]&&Ct[qe][Ke]!==ge[Ke]){ze=!1;break}if(!0===ze){Ze=st;break}}else for(st in t)for(Ct=t[st],qe=0;qe<Ct.length;qe+=1){for(ze=!0,Ke=0;Ke<Ct[qe].length;Ke+=1)if(void 0!==Ct[qe][Ke]&&Ct[qe][Ke]!==ge.charCodeAt(Ke)){ze=!1;break}if(!0===ze){Ze=st;break}}return Ze===e&&me!==e&&(Ze=me),Ze},i=function ge(me){for(var qe=this.internal.write,Ke=this.internal.putStream,Ct=(0,this.internal.getFilters)();-1!==Ct.indexOf("FlateEncode");)Ct.splice(Ct.indexOf("FlateEncode"),1);me.objectId=this.internal.newObject();var ze=[];if(ze.push({key:"Type",value:"/XObject"}),ze.push({key:"Subtype",value:"/Image"}),ze.push({key:"Width",value:me.width}),ze.push({key:"Height",value:me.height}),me.colorSpace===V.INDEXED?ze.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(me.palette.length/3-1)+" "+("sMask"in me&&void 0!==me.sMask?me.objectId+2:me.objectId+1)+" 0 R]"}):(ze.push({key:"ColorSpace",value:"/"+me.colorSpace}),me.colorSpace===V.DEVICE_CMYK&&ze.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ze.push({key:"BitsPerComponent",value:me.bitsPerComponent}),"decodeParameters"in me&&void 0!==me.decodeParameters&&ze.push({key:"DecodeParms",value:"<<"+me.decodeParameters+">>"}),"transparency"in me&&Array.isArray(me.transparency)){for(var st="",Ze=0,yt=me.transparency.length;Ze<yt;Ze++)st+=me.transparency[Ze]+" "+me.transparency[Ze]+" ";ze.push({key:"Mask",value:"["+st+"]"})}if(void 0!==me.sMask&&ze.push({key:"SMask",value:me.objectId+1+" 0 R"}),Ke({data:me.data,additionalKeyValues:ze,alreadyAppliedFilters:void 0!==me.filter?["/"+me.filter]:void 0,objectId:me.objectId}),qe("endobj"),"sMask"in me&&void 0!==me.sMask){var te={width:me.width,height:me.height,colorSpace:"DeviceGray",bitsPerComponent:me.bitsPerComponent,decodeParameters:"/Predictor "+me.predictor+" /Colors 1 /BitsPerComponent "+me.bitsPerComponent+" /Columns "+me.width,data:me.sMask};"filter"in me&&(te.filter=me.filter),ge.call(this,te)}if(me.colorSpace===V.INDEXED){var Pe=this.internal.newObject();Ke({data:Ce(new Uint8Array(me.palette)),objectId:Pe}),qe("endobj")}},s=function(){var ge=this.internal.collections.addImage_images;for(var me in ge)i.call(this,ge[me])},o=function(){var ge,me=this.internal.collections.addImage_images,qe=this.internal.write;for(var Ke in me)qe("/I"+(ge=me[Ke]).index,ge.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var ge=this.internal.collections.addImage_images;return a.call(this),ge},h=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(ge){return"function"==typeof n["process"+ge.toUpperCase()]},y=function(ge){return"object"===di(ge)&&1===ge.nodeType},I=function(ge,me){if("IMG"===ge.nodeName&&ge.hasAttribute("src")){var qe=""+ge.getAttribute("src");if(0===qe.indexOf("data:image/"))return pu(unescape(qe).split("base64,").pop());var Ke=n.loadFile(qe,!0);if(void 0!==Ke)return Ke}if("CANVAS"===ge.nodeName){if(0===ge.width||0===ge.height)throw new Error("Given canvas must have data. Canvas width: "+ge.width+", height: "+ge.height);var Ct;switch(me){case"PNG":Ct="image/png";break;case"WEBP":Ct="image/webp";break;default:Ct="image/jpeg"}return pu(ge.toDataURL(Ct,1).split("base64,").pop())}},C=function(ge){var me=this.internal.collections.addImage_images;if(me)for(var qe in me)if(ge===me[qe].alias)return me[qe]},P=function(ge,me,qe){return ge||me||(ge=-96,me=-96),ge<0&&(ge=-1*qe.width*72/ge/this.internal.scaleFactor),me<0&&(me=-1*qe.height*72/me/this.internal.scaleFactor),0===ge&&(ge=me*qe.width/qe.height),0===me&&(me=ge*qe.height/qe.width),[ge,me]},L=function(ge,me,qe,Ke,Ct,ze){var st=P.call(this,qe,Ke,Ct),Ze=this.internal.getCoordinateString,yt=this.internal.getVerticalCoordinateString,Mt=u.call(this);if(qe=st[0],Ke=st[1],Mt[Ct.index]=Ct,ze){ze*=Math.PI/180;var vn=Math.cos(ze),te=Math.sin(ze),Pe=function(et){return et.toFixed(4)},Le=[Pe(vn),Pe(te),Pe(-1*te),Pe(vn),0,0,"cm"]}this.internal.write("q"),ze?(this.internal.write([1,"0","0",1,Ze(ge),yt(me+Ke),"cm"].join(" ")),this.internal.write(Le.join(" ")),this.internal.write([Ze(qe),"0","0",Ze(Ke),"0","0","cm"].join(" "))):this.internal.write([Ze(qe),"0","0",Ze(Ke),Ze(ge),yt(me+Ke),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ct.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=n.__addimage__.sHashCode=function(ge){var me,qe,Ke=0;if("string"==typeof ge)for(qe=ge.length,me=0;me<qe;me++)Ke=(Ke<<5)-Ke+ge.charCodeAt(me),Ke|=0;else if(Ve(ge))for(qe=ge.byteLength/2,me=0;me<qe;me++)Ke=(Ke<<5)-Ke+ge[me],Ke|=0;return Ke},se=n.__addimage__.validateStringAsBase64=function(ge){(ge=ge||"").toString().trim();var me=!0;return 0===ge.length&&(me=!1),ge.length%4!=0&&(me=!1),!1===/^[A-Za-z0-9+/]+$/.test(ge.substr(0,ge.length-2))&&(me=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ge.substr(-2))&&(me=!1),me},ve=n.__addimage__.extractImageFromDataUrl=function(ge){var me=(ge=ge||"").split("base64,"),qe=null;if(2===me.length){var Ke=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(me[0]);Array.isArray(Ke)&&(qe={mimeType:Ke[1],charset:Ke[2],data:me[1]})}return qe},Se=n.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};n.__addimage__.isArrayBuffer=function(ge){return Se()&&ge instanceof ArrayBuffer};var Ve=n.__addimage__.isArrayBufferView=function(ge){return Se()&&"undefined"!=typeof Uint32Array&&(ge instanceof Int8Array||ge instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&ge instanceof Uint8ClampedArray||ge instanceof Int16Array||ge instanceof Uint16Array||ge instanceof Int32Array||ge instanceof Uint32Array||ge instanceof Float32Array||ge instanceof Float64Array)},Oe=n.__addimage__.binaryStringToUint8Array=function(ge){for(var me=ge.length,qe=new Uint8Array(me),Ke=0;Ke<me;Ke++)qe[Ke]=ge.charCodeAt(Ke);return qe},Ce=n.__addimage__.arrayBufferToBinaryString=function(ge){for(var me="",qe=Ve(ge)?ge:new Uint8Array(ge),Ke=0;Ke<qe.length;Ke+=8192)me+=String.fromCharCode.apply(null,qe.subarray(Ke,Ke+8192));return me};n.addImage=function(){var ge,me,qe,Ke,Ct,ze,st,Ze,yt;if("number"==typeof arguments[1]?(me=e,qe=arguments[1],Ke=arguments[2],Ct=arguments[3],ze=arguments[4],st=arguments[5],Ze=arguments[6],yt=arguments[7]):(me=arguments[1],qe=arguments[2],Ke=arguments[3],Ct=arguments[4],ze=arguments[5],st=arguments[6],Ze=arguments[7],yt=arguments[8]),"object"===di(ge=arguments[0])&&!y(ge)&&"imageData"in ge){var Mt=ge;ge=Mt.imageData,me=Mt.format||me||e,qe=Mt.x||qe||0,Ke=Mt.y||Ke||0,Ct=Mt.w||Mt.width||Ct,ze=Mt.h||Mt.height||ze,st=Mt.alias||st,Ze=Mt.compression||Ze,yt=Mt.rotation||Mt.angle||yt}var vn=this.internal.getFilters();if(void 0===Ze&&-1!==vn.indexOf("FlateEncode")&&(Ze="SLOW"),isNaN(qe)||isNaN(Ke))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var te=ut.call(this,ge,me,st,Ze);return L.call(this,qe,Ke,Ct,ze,te,yt),this};var ut=function(ge,me,qe,Ke){var Ct,ze,st,yt;if("string"==typeof ge&&r(ge)===e){ge=unescape(ge);var Ze=mt(ge,!1);(""!==Ze||void 0!==(Ze=n.loadFile(ge,!0)))&&(ge=Ze)}if(y(ge)&&(ge=I(ge,me)),me=r(ge,me),!f(me))throw new Error("addImage does not support files of type '"+me+"', please ensure that a plugin for '"+me+"' support is added.");if((null==(st=qe)||0===st.length)&&(qe="string"==typeof(yt=ge)||Ve(yt)?z(yt):Ve(yt.data)?z(yt.data):null),(Ct=C.call(this,qe))||(Se()&&(ge instanceof Uint8Array||"RGBA"===me||(ze=ge,ge=Oe(ge))),Ct=this["process"+me.toUpperCase()](ge,h.call(this),qe,function(yt){return yt&&"string"==typeof yt&&(yt=yt.toUpperCase()),yt in n.image_compression?yt:j.NONE}(Ke),ze)),!Ct)throw new Error("An unknown error occurred whilst processing the image.");return Ct},mt=n.__addimage__.convertBase64ToBinaryString=function(ge,me){var qe;me="boolean"!=typeof me||me;var Ke,Ct="";if("string"==typeof ge){Ke=null!==(qe=ve(ge))?qe.data:ge;try{Ct=pu(Ke)}catch(ze){if(me)throw se(Ke)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ze.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ct};n.getImageProperties=function(ge){var me,qe,Ke="";if(y(ge)&&(ge=I(ge)),"string"==typeof ge&&r(ge)===e&&(""===(Ke=mt(ge,!1))&&(Ke=n.loadFile(ge)||""),ge=Ke),qe=r(ge),!f(qe))throw new Error("addImage does not support files of type '"+qe+"', please ensure that a plugin for '"+qe+"' support is added.");if(!Se()||ge instanceof Uint8Array||(ge=Oe(ge)),!(me=this["process"+qe.toUpperCase()](ge)))throw new Error("An unknown error occurred whilst processing the image");return me.fileType=qe,me}}(pr.API),n=pr.API,e=function(t){if(void 0!==t&&""!=t)return!0},pr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,f=!1,y=0;y<h.length&&!f;y++)switch((r=h[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(0!=f){this.internal.write("/Annots [");for(var I=0;I<h.length;I++){r=h[I];var C=this.internal.pdfEscape,P=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),V=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(L.objId),z=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+C(j(r.contents))+")",s+=" /Popup "+V.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+C(j(z))+") >>",L.content=s;var se=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+se,r.open&&(s+=" /Open true"),V.content=s+=" >>",this.internal.write(L.objId,"0 R",V.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var ve=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+C(P(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ve+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(r.options.name){var Se=this.annotations._nameMap[r.options.name];r.options.pageNumber=Se.page,r.options.top=Se.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+C(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var Ve=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Ve+" "+r.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:u(t),y:h(r),w:u(t+i),h:h(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,u=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var f=this.splitTextToSize(t,a=s.maxWidth).length;o=Math.ceil(h*f)}else a=u,o=h;return this.text(t,r,i,s),"center"===s.align&&(r-=u/2),"right"===s.align&&(r-=u),this.link(r,(i+=.2*h)-h,a,o,s),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(L){return void 0!==e[L.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(L){return"string"==typeof L&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},a=n.__arabicParser__.isArabicEndLetter=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(L){return o(L)&&i.indexOf(L.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(L){return o(L)&&s(L)&&4==e[L.charCodeAt(0)].length},y=n.__arabicParser__.resolveLigatures=function(L){var V=0,j=t,z="",se=0;for(V=0;V<L.length;V+=1)void 0!==j[L.charCodeAt(V)]?(se++,"number"==typeof(j=j[L.charCodeAt(V)])&&(z+=String.fromCharCode(j),j=t,se=0),V===L.length-1&&(j=t,z+=L.charAt(V-(se-1)),V-=se-1,se=0)):(j=t,z+=L.charAt(V-se),V-=se,se=0);return z};n.__arabicParser__.isArabicDiacritic=function(L){return void 0!==L&&void 0!==r[L.charCodeAt(0)]};var I=n.__arabicParser__.getCorrectForm=function(L,V,j){return o(L)?!1===s(L)?-1:!h(L)||!o(V)&&!o(j)||!o(j)&&a(V)||a(L)&&!o(V)||a(L)&&u(V)||a(L)&&a(V)?0:f(L)&&o(V)&&!a(V)&&o(j)&&h(j)?3:a(L)||!o(j)?1:2:-1},C=function(L){var V=0,j=0,z=0,se="",ve="",Se="",Ve=(L=L||"").split("\\s+"),Oe=[];for(V=0;V<Ve.length;V+=1){for(Oe.push(""),j=0;j<Ve[V].length;j+=1)ve=Ve[V][j-1],Se=Ve[V][j+1],o(se=Ve[V][j])?(z=I(se,ve,Se),Oe[V]+=-1!==z?String.fromCharCode(e[se.charCodeAt(0)][z]):se):Oe[V]+=se;Oe[V]=y(Oe[V])}return Oe.join(" ")},P=n.__arabicParser__.processArabic=n.processArabic=function(){var L,V="string"==typeof arguments[0]?arguments[0]:arguments[0].text,j=[];if(Array.isArray(V)){var z=0;for(j=[],z=0;z<V.length;z+=1)Array.isArray(V[z])?j.push([C(V[z][0]),V[z][1],V[z][2]]):j.push([C(V[z])]);L=j}else L=C(V);return"string"==typeof arguments[0]?L:(arguments[0].text=L,arguments[0])};n.events.push(["preProcessText",P])}(pr.API),pr.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(pr.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(L){u=L}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(L){I=L}});var C=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return C},set:function(L){C=L}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(L){P=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof u?u:void 0,this},n.getTextDimensions=function(u,h){r.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),y=h.font||this.getFont(),I=h.scaleFactor||this.internal.scaleFactor,C=0,P=0,L=0,V=this;if(!Array.isArray(u)&&"string"!=typeof u){if("number"!=typeof u)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var j=h.maxWidth;j>0?"string"==typeof u?u=this.splitTextToSize(u,j):"[object Array]"===Object.prototype.toString.call(u)&&(u=u.reduce(function(se,ve){return se.concat(V.splitTextToSize(ve,j))},[])):u=Array.isArray(u)?u:[u];for(var z=0;z<u.length;z++)C<(L=this.getStringUnitWidth(u[z],{font:y})*f)&&(C=L);return 0!==C&&(P=u.length),{w:C/=I,h:Math.max((P*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/I,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,I=this.internal.__cell__.tableHeaderRow,C=this.internal.__cell__.printHeaders;return void 0!==h.lineNumber&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,C&&I&&(this.printHeaderRow(u.lineNumber,!0),u.y+=I[0].height)):u.y=h.y+h.height||u.y),void 0!==u.text[0]&&(this.rect(u.x,u.y,u.width,u.height,!0===t?"FD":void 0),"right"===u.align?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):"center"===u.align?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};n.table=function(u,h,f,y,I){if(r.call(this),!f)throw new Error("No data for PDF table.");var C,P,L,V,j=[],z=[],se=[],ve={},Se={},Ve=[],Oe=[],Ce=(I=I||{}).autoSize||!1,ut=!1!==I.printHeaders,mt=I.css&&void 0!==I.css["font-size"]?16*I.css["font-size"]:I.fontSize||12,ge=I.margins||Object.assign({width:this.getPageWidth()},e),me="number"==typeof I.padding?I.padding:3,qe=I.headerBackgroundColor||"#c8c8c8",Ke=I.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=ut,this.internal.__cell__.margins=ge,this.internal.__cell__.table_font_size=mt,this.internal.__cell__.padding=me,this.internal.__cell__.headerBackgroundColor=qe,this.internal.__cell__.headerTextColor=Ke,this.setFontSize(mt),null==y)z=j=Object.keys(f[0]),se=j.map(function(){return"left"});else if(Array.isArray(y)&&"object"===di(y[0]))for(j=y.map(function(Mt){return Mt.name}),z=y.map(function(Mt){return Mt.prompt||Mt.name||""}),se=y.map(function(Mt){return Mt.align||"left"}),C=0;C<y.length;C+=1)Se[y[C].name]=y[C].width*(19.049976/25.4);else Array.isArray(y)&&"string"==typeof y[0]&&(z=j=y,se=j.map(function(){return"left"}));if(Ce||Array.isArray(y)&&"string"==typeof y[0])for(C=0;C<j.length;C+=1){for(ve[V=j[C]]=f.map(function(Mt){return Mt[V]}),this.setFont(void 0,"bold"),Ve.push(this.getTextDimensions(z[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=ve[V],this.setFont(void 0,"normal"),L=0;L<P.length;L+=1)Ve.push(this.getTextDimensions(P[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Se[V]=Math.max.apply(null,Ve)+me+me,Ve=[]}if(ut){var Ct={};for(C=0;C<j.length;C+=1)Ct[j[C]]={},Ct[j[C]].text=z[C],Ct[j[C]].align=se[C];var ze=a.call(this,Ct,Se);Oe=j.map(function(Mt){return new s(u,h,Se[Mt],ze,Ct[Mt].text,void 0,Ct[Mt].align)}),this.setTableHeaderRow(Oe),this.printHeaderRow(1,!1)}var st=y.reduce(function(Mt,vn){return Mt[vn.name]=vn.align,Mt},{});for(C=0;C<f.length;C+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:C,data:f[C]},this);var Ze=a.call(this,f[C],Se);for(L=0;L<j.length;L+=1){var yt=f[C][j[L]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:C,col:L,data:yt},this),o.call(this,new s(u,h,Se[j[L]],Ze,yt,C+2,st[j[L]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var a=function(u,h){var f=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(u).map(function(C){var P=u[C];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,h[C]-f-f)},this).map(function(C){return this.getLineHeightFactor()*C.length*y/I+f+f},this).reduce(function(C,P){return Math.max(C,P)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],C=0;C<this.internal.__cell__.tableHeaderRow.length;C+=1){f=this.internal.__cell__.tableHeaderRow[C].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,I.push(f)),f.lineNumber=u;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(P)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),t=!1}}(pr.API);var Mg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vu=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],rh=Yd(vu),yp=[100,200,300,400,500,600,700,800,900],Ng=Yd(yp);function Zd(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=Mg[s=(s=n.style)||"normal"]?s:"normal",r=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),i=function(s){return"number"==typeof rh[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function _u(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Dc={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Xd={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jh(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ay(n){return n.trimLeft()}function ly(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function vp(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var Tc,cA,Fc,_p=["times"];(function(n){var e,t,r,i,s,o,a,u,h,f=function(te){return this.isStrokeTransparent=(te=te||{}).isStrokeTransparent||!1,this.strokeOpacity=te.strokeOpacity||1,this.strokeStyle=te.strokeStyle||"#000000",this.fillStyle=te.fillStyle||"#000000",this.isFillTransparent=te.isFillTransparent||!1,this.fillOpacity=te.fillOpacity||1,this.font=te.font||"10px sans-serif",this.textBaseline=te.textBaseline||"alphabetic",this.textAlign=te.textAlign||"left",this.lineWidth=te.lineWidth||1,this.lineJoin=te.lineJoin||"miter",this.lineCap=te.lineCap||"butt",this.path=te.path||[],this.transform=void 0!==te.transform?te.transform.clone():new u,this.globalCompositeOperation=te.globalCompositeOperation||"normal",this.globalAlpha=te.globalAlpha||1,this.clip_path=te.clip_path||[],this.currentPoint=te.currentPoint||new o,this.miterLimit=te.miterLimit||10,this.lastPoint=te.lastPoint||new o,this.lineDashOffset=te.lineDashOffset||0,this.lineDash=te.lineDash||[],this.margin=te.margin||[0,0,0,0],this.prevPageLastElemOffset=te.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof te.ignoreClearRect||te.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,u=this.internal.Matrix,h=new f}]);var y=function(te){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Pe=te;Object.defineProperty(this,"pdf",{get:function(){return Pe}});var Le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Le},set:function(Wt){Le=Boolean(Wt)}});var et=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return et},set:function(Wt){et=Boolean(Wt)}});var At=0;Object.defineProperty(this,"posX",{get:function(){return At},set:function(Wt){isNaN(Wt)||(At=Wt)}});var bt=0;Object.defineProperty(this,"posY",{get:function(){return bt},set:function(Wt){isNaN(Wt)||(bt=Wt)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Wt){var Ge;"number"==typeof Wt?Ge=[Wt,Wt,Wt,Wt]:((Ge=new Array(4))[0]=Wt[0],Ge[1]=Wt.length>=2?Wt[1]:Ge[0],Ge[2]=Wt.length>=3?Wt[2]:Ge[0],Ge[3]=Wt.length>=4?Wt[3]:Ge[1]),h.margin=Ge}});var Dt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Dt},set:function(Wt){Dt=Wt}});var Ft=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ft},set:function(Wt){Ft=Wt}});var fn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fn},set:function(Wt){fn=Wt}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Wt){Wt instanceof f&&(h=Wt)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Wt){h.path=Wt}});var pn=[];Object.defineProperty(this,"ctxStack",{get:function(){return pn},set:function(Wt){pn=Wt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Wt){var Ge;Ge=I(Wt),this.ctx.fillStyle=Ge.style,this.ctx.isFillTransparent=0===Ge.a,this.ctx.fillOpacity=Ge.a,this.pdf.setFillColor(Ge.r,Ge.g,Ge.b,{a:Ge.a}),this.pdf.setTextColor(Ge.r,Ge.g,Ge.b,{a:Ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Wt){var Ge=I(Wt);this.ctx.strokeStyle=Ge.style,this.ctx.isStrokeTransparent=0===Ge.a,this.ctx.strokeOpacity=Ge.a,0===Ge.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Ge.r,Ge.g,Ge.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Wt){-1!==["butt","round","square"].indexOf(Wt)&&(this.ctx.lineCap=Wt,this.pdf.setLineCap(Wt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Wt){isNaN(Wt)||(this.ctx.lineWidth=Wt,this.pdf.setLineWidth(Wt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Wt){-1!==["bevel","round","miter"].indexOf(Wt)&&(this.ctx.lineJoin=Wt,this.pdf.setLineJoin(Wt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Wt){isNaN(Wt)||(this.ctx.miterLimit=Wt,this.pdf.setMiterLimit(Wt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Wt){this.ctx.textBaseline=Wt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Wt){-1!==["right","end","center","left","start"].indexOf(Wt)&&(this.ctx.textAlign=Wt)}});var Kn=null,kr=null;Object.defineProperty(this,"fontFaces",{get:function(){return kr},set:function(Wt){Kn=null,kr=Wt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Wt){var Ge;if(this.ctx.font=Wt,null!==(Ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Wt))){var ri=Ge[1],dr=Ge[3],gn=Ge[4],Sn=Ge[6],Vn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gn)[2];gn=Math.floor("px"===Vn?parseFloat(gn)*this.pdf.internal.scaleFactor:"em"===Vn?parseFloat(gn)*this.pdf.getFontSize():parseFloat(gn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gn);var Un=function(Hr){var Ti,jn,Wc=[],ts=Hr.trim();if(""===ts)return _p;if(ts in Xd)return[Xd[ts]];for(;""!==ts;){switch(jn=null,Ti=(ts=ay(ts)).charAt(0)){case'"':case"'":jn=ly(ts.substring(1),Ti);break;default:jn=vp(ts)}if(null===jn||(Wc.push(jn[0]),""!==(ts=ay(jn[1]))&&","!==ts.charAt(0)))return _p;ts=ts.replace(/^,/,"")}return Wc}(Sn);if(this.fontFaces){var br=function Av(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Dc,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=Zd(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+jh(s)+"' and default family '"+r+"'.");if(o=function(u,h){if(h[u])return h[u];var f=rh[u],I=_u(h,vu,f,f<=rh.normal?-1:1);if(!I)throw new Error("Could not find a matching font-stretch value for "+u);return I}(s.stretch,o),o=function(u,h){if(h[u])return h[u];for(var f=Mg[u],y=0;y<f.length;++y)if(h[f[y]])return h[f[y]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,h){if(h[u])return h[u];if(400===u&&h[500])return h[500];if(500===u&&h[400])return h[400];var y=_u(h,yp,Ng[u],u<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+u);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+jh(s)+"'.");return o}(function $n(Wt,Ge){if(null===Kn){var ri=(dr=Wt.getFontList(),gn=[],Object.keys(dr).forEach(function(Sn){dr[Sn].forEach(function(Vn){var Un=null;switch(Vn){case"bold":Un={family:Sn,weight:"bold"};break;case"italic":Un={family:Sn,style:"italic"};break;case"bolditalic":Un={family:Sn,weight:"bold",style:"italic"};break;case"":case"normal":Un={family:Sn}}null!==Un&&(Un.ref={name:Sn,style:Vn},gn.push(Un))})}),gn);Kn=function(dr){for(var gn={},Sn=0;Sn<dr.length;++Sn){var Vn=Zd(dr[Sn]),Un=Vn.family,br=Vn.stretch,ti=Vn.style,pi=Vn.weight;gn[Un]=gn[Un]||{},gn[Un][br]=gn[Un][br]||{},gn[Un][br][ti]=gn[Un][br][ti]||{},gn[Un][br][ti][pi]=Vn}return gn}(ri.concat(Ge))}var dr,gn;return Kn}(this.pdf,this.fontFaces),Un.map(function(Hr){return{family:Hr,stretch:"normal",weight:dr,style:ri}}));this.pdf.setFont(br.ref.name,br.ref.style)}else{var ti="";("bold"===dr||parseInt(dr,10)>=700||"bold"===ri)&&(ti="bold"),"italic"===ri&&(ti+="italic"),0===ti.length&&(ti="normal");for(var pi="",Ei={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zi=0;Zi<Un.length;Zi++){if(void 0!==this.pdf.internal.getFont(Un[Zi],ti,{noFallback:!0,disableWarning:!0})){pi=Un[Zi];break}if("bolditalic"===ti&&void 0!==this.pdf.internal.getFont(Un[Zi],"bold",{noFallback:!0,disableWarning:!0}))pi=Un[Zi],ti="bold";else if(void 0!==this.pdf.internal.getFont(Un[Zi],"normal",{noFallback:!0,disableWarning:!0})){pi=Un[Zi],ti="normal";break}}if(""===pi)for(var ks=0;ks<Un.length;ks++)if(Ei[Un[ks]]){pi=Ei[Un[ks]];break}this.pdf.setFont(pi=""===pi?"Times":pi,ti)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Wt){this.ctx.globalCompositeOperation=Wt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Wt){this.ctx.globalAlpha=Wt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Wt){this.ctx.lineDashOffset=Wt,vn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Wt){this.ctx.lineDash=Wt,vn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Wt){this.ctx.ignoreClearRect=Boolean(Wt)}})};y.prototype.setLineDash=function(te){this.lineDash=te},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){ve.call(this,"fill",!1)},y.prototype.stroke=function(){ve.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(te,Pe){if(isNaN(te)||isNaN(Pe))throw Hi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Le=this.ctx.transform.applyToPoint(new o(te,Pe));this.path.push({type:"mt",x:Le.x,y:Le.y}),this.ctx.lastPoint=new o(te,Pe)},y.prototype.closePath=function(){var te=new o(0,0),Pe=0;for(Pe=this.path.length-1;-1!==Pe;Pe--)if("begin"===this.path[Pe].type&&"object"===di(this.path[Pe+1])&&"number"==typeof this.path[Pe+1].x){te=new o(this.path[Pe+1].x,this.path[Pe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(te.x,te.y)},y.prototype.lineTo=function(te,Pe){if(isNaN(te)||isNaN(Pe))throw Hi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Le=this.ctx.transform.applyToPoint(new o(te,Pe));this.path.push({type:"lt",x:Le.x,y:Le.y}),this.ctx.lastPoint=new o(Le.x,Le.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ve.call(this,null,!0)},y.prototype.quadraticCurveTo=function(te,Pe,Le,et){if(isNaN(Le)||isNaN(et)||isNaN(te)||isNaN(Pe))throw Hi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var At=this.ctx.transform.applyToPoint(new o(Le,et)),bt=this.ctx.transform.applyToPoint(new o(te,Pe));this.path.push({type:"qct",x1:bt.x,y1:bt.y,x:At.x,y:At.y}),this.ctx.lastPoint=new o(At.x,At.y)},y.prototype.bezierCurveTo=function(te,Pe,Le,et,At,bt){if(isNaN(At)||isNaN(bt)||isNaN(te)||isNaN(Pe)||isNaN(Le)||isNaN(et))throw Hi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Dt=this.ctx.transform.applyToPoint(new o(At,bt)),Ft=this.ctx.transform.applyToPoint(new o(te,Pe)),fn=this.ctx.transform.applyToPoint(new o(Le,et));this.path.push({type:"bct",x1:Ft.x,y1:Ft.y,x2:fn.x,y2:fn.y,x:Dt.x,y:Dt.y}),this.ctx.lastPoint=new o(Dt.x,Dt.y)},y.prototype.arc=function(te,Pe,Le,et,At,bt){if(isNaN(te)||isNaN(Pe)||isNaN(Le)||isNaN(et)||isNaN(At))throw Hi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(bt=Boolean(bt),!this.ctx.transform.isIdentity){var Dt=this.ctx.transform.applyToPoint(new o(te,Pe));te=Dt.x,Pe=Dt.y;var Ft=this.ctx.transform.applyToPoint(new o(0,Le)),fn=this.ctx.transform.applyToPoint(new o(0,0));Le=Math.sqrt(Math.pow(Ft.x-fn.x,2)+Math.pow(Ft.y-fn.y,2))}Math.abs(At-et)>=2*Math.PI&&(et=0,At=2*Math.PI),this.path.push({type:"arc",x:te,y:Pe,radius:Le,startAngle:et,endAngle:At,counterclockwise:bt})},y.prototype.arcTo=function(te,Pe,Le,et,At){throw new Error("arcTo not implemented.")},y.prototype.rect=function(te,Pe,Le,et){if(isNaN(te)||isNaN(Pe)||isNaN(Le)||isNaN(et))throw Hi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(te,Pe),this.lineTo(te+Le,Pe),this.lineTo(te+Le,Pe+et),this.lineTo(te,Pe+et),this.lineTo(te,Pe),this.lineTo(te+Le,Pe),this.lineTo(te,Pe)},y.prototype.fillRect=function(te,Pe,Le,et){if(isNaN(te)||isNaN(Pe)||isNaN(Le)||isNaN(et))throw Hi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!C.call(this)){var At={};"butt"!==this.lineCap&&(At.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(At.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(te,Pe,Le,et),this.fill(),At.hasOwnProperty("lineCap")&&(this.lineCap=At.lineCap),At.hasOwnProperty("lineJoin")&&(this.lineJoin=At.lineJoin)}},y.prototype.strokeRect=function(te,Pe,Le,et){if(isNaN(te)||isNaN(Pe)||isNaN(Le)||isNaN(et))throw Hi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(te,Pe,Le,et),this.stroke())},y.prototype.clearRect=function(te,Pe,Le,et){if(isNaN(te)||isNaN(Pe)||isNaN(Le)||isNaN(et))throw Hi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(te,Pe,Le,et))},y.prototype.save=function(te){te="boolean"!=typeof te||te;for(var Pe=this.pdf.internal.getCurrentPageInfo().pageNumber,Le=0;Le<this.pdf.internal.getNumberOfPages();Le++)this.pdf.setPage(Le+1),this.pdf.internal.out("q");if(this.pdf.setPage(Pe),te){this.ctx.fontSize=this.pdf.internal.getFontSize();var et=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=et}},y.prototype.restore=function(te){te="boolean"!=typeof te||te;for(var Pe=this.pdf.internal.getCurrentPageInfo().pageNumber,Le=0;Le<this.pdf.internal.getNumberOfPages();Le++)this.pdf.setPage(Le+1),this.pdf.internal.out("Q");this.pdf.setPage(Pe),te&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function(te){var Pe,Le,et,At;if(!0===te.isCanvasGradient&&(te=te.getColor()),!te)return{r:0,g:0,b:0,a:0,style:te};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(te))Pe=0,Le=0,et=0,At=0;else{var bt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(te);if(null!==bt)Pe=parseInt(bt[1]),Le=parseInt(bt[2]),et=parseInt(bt[3]),At=1;else if(null!==(bt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(te)))Pe=parseInt(bt[1]),Le=parseInt(bt[2]),et=parseInt(bt[3]),At=parseFloat(bt[4]);else{if(At=1,"string"==typeof te&&"#"!==te.charAt(0)){var Dt=new Ig(te);te=Dt.ok?Dt.toHex():"#000000"}4===te.length?(Pe=te.substring(1,2),Pe+=Pe,Le=te.substring(2,3),Le+=Le,et=te.substring(3,4),et+=et):(Pe=te.substring(1,3),Le=te.substring(3,5),et=te.substring(5,7)),Pe=parseInt(Pe,16),Le=parseInt(Le,16),et=parseInt(et,16)}}return{r:Pe,g:Le,b:et,a:At,style:te}},C=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},P=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};y.prototype.fillText=function(te,Pe,Le,et){if(isNaN(Pe)||isNaN(Le)||"string"!=typeof te)throw Hi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(et=isNaN(et)?void 0:et,!C.call(this)){var At=Ze(this.ctx.transform.rotation),bt=this.ctx.transform.scaleX;me.call(this,{text:te,x:Pe,y:Le,scale:bt,angle:At,align:this.textAlign,maxWidth:et})}},y.prototype.strokeText=function(te,Pe,Le,et){if(isNaN(Pe)||isNaN(Le)||"string"!=typeof te)throw Hi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){et=isNaN(et)?void 0:et;var At=Ze(this.ctx.transform.rotation),bt=this.ctx.transform.scaleX;me.call(this,{text:te,x:Pe,y:Le,scale:bt,renderingMode:"stroke",angle:At,align:this.textAlign,maxWidth:et})}},y.prototype.measureText=function(te){if("string"!=typeof te)throw Hi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Pe=this.pdf,Le=this.pdf.internal.scaleFactor,et=Pe.internal.getFontSize(),At=Pe.getStringUnitWidth(te)*et/Pe.internal.scaleFactor,bt=function(Dt){var Ft=(Dt=Dt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ft}}),this};return new bt({width:At*=Math.round(96*Le/72*1e4)/1e4})},y.prototype.scale=function(te,Pe){if(isNaN(te)||isNaN(Pe))throw Hi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Le=new u(te,0,0,Pe,0,0);this.ctx.transform=this.ctx.transform.multiply(Le)},y.prototype.rotate=function(te){if(isNaN(te))throw Hi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Pe=new u(Math.cos(te),Math.sin(te),-Math.sin(te),Math.cos(te),0,0);this.ctx.transform=this.ctx.transform.multiply(Pe)},y.prototype.translate=function(te,Pe){if(isNaN(te)||isNaN(Pe))throw Hi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Le=new u(1,0,0,1,te,Pe);this.ctx.transform=this.ctx.transform.multiply(Le)},y.prototype.transform=function(te,Pe,Le,et,At,bt){if(isNaN(te)||isNaN(Pe)||isNaN(Le)||isNaN(et)||isNaN(At)||isNaN(bt))throw Hi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Dt=new u(te,Pe,Le,et,At,bt);this.ctx.transform=this.ctx.transform.multiply(Dt)},y.prototype.setTransform=function(te,Pe,Le,et,At,bt){te=isNaN(te)?1:te,Pe=isNaN(Pe)?0:Pe,Le=isNaN(Le)?0:Le,et=isNaN(et)?1:et,At=isNaN(At)?0:At,bt=isNaN(bt)?0:bt,this.ctx.transform=new u(te,Pe,Le,et,At,bt)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(te,Pe,Le,et,At,bt,Dt,Ft,fn){var pn=this.pdf.getImageProperties(te),Kn=1,$n=1,kr=1,Wt=1;void 0!==et&&void 0!==Ft&&(kr=Ft/et,Wt=fn/At,Kn=pn.width/et*Ft/et,$n=pn.height/At*fn/At),void 0===bt&&(bt=Pe,Dt=Le,Pe=0,Le=0),void 0!==et&&void 0===Ft&&(Ft=et,fn=At),void 0===et&&void 0===Ft&&(Ft=pn.width,fn=pn.height);for(var Ge,ri=this.ctx.transform.decompose(),dr=Ze(ri.rotate.shx),gn=new u,Sn=(gn=(gn=(gn=gn.multiply(ri.translate)).multiply(ri.skew)).multiply(ri.scale)).applyToRectangle(new a(bt-Pe*kr,Dt-Le*Wt,et*Kn,At*$n)),Vn=V.call(this,Sn),Un=[],br=0;br<Vn.length;br+=1)-1===Un.indexOf(Vn[br])&&Un.push(Vn[br]);if(se(Un),this.autoPaging)for(var ti=Un[0],pi=Un[Un.length-1],Ei=ti;Ei<pi+1;Ei++){this.pdf.setPage(Ei);var Zi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ks=1===Ei?this.posY+this.margin[0]:this.margin[0],Ti=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jn=1===Ei?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ei-2)*Ti;if(0!==this.ctx.clip_path.length){var Wc=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(Ge,this.posX+this.margin[3],-jn+ks+this.ctx.prevPageLastElemOffset),Se.call(this,"fill",!0),this.path=Wc}var ts=JSON.parse(JSON.stringify(Sn));ts=z([ts],this.posX+this.margin[3],-jn+ks+this.ctx.prevPageLastElemOffset)[0];var Bf=(Ei>ti||Ei<pi)&&L.call(this);Bf&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zi,Ti,null).clip().discardPath()),this.pdf.addImage(te,"JPEG",ts.x,ts.y,ts.w,ts.h,null,null,dr),Bf&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(te,"JPEG",Sn.x,Sn.y,Sn.w,Sn.h,null,null,dr)};var V=function(te,Pe,Le){var et=[];Pe=Pe||this.pdf.internal.pageSize.width,Le=Le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var At=this.posY+this.ctx.prevPageLastElemOffset;switch(te.type){default:case"mt":case"lt":et.push(Math.floor((te.y+At)/Le)+1);break;case"arc":et.push(Math.floor((te.y+At-te.radius)/Le)+1),et.push(Math.floor((te.y+At+te.radius)/Le)+1);break;case"qct":var bt=yt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,te.x1,te.y1,te.x,te.y);et.push(Math.floor((bt.y+At)/Le)+1),et.push(Math.floor((bt.y+bt.h+At)/Le)+1);break;case"bct":var Dt=Mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,te.x1,te.y1,te.x2,te.y2,te.x,te.y);et.push(Math.floor((Dt.y+At)/Le)+1),et.push(Math.floor((Dt.y+Dt.h+At)/Le)+1);break;case"rect":et.push(Math.floor((te.y+At)/Le)+1),et.push(Math.floor((te.y+te.h+At)/Le)+1)}for(var Ft=0;Ft<et.length;Ft+=1)for(;this.pdf.internal.getNumberOfPages()<et[Ft];)j.call(this);return et},j=function(){var te=this.fillStyle,Pe=this.strokeStyle,Le=this.font,et=this.lineCap,At=this.lineWidth,bt=this.lineJoin;this.pdf.addPage(),this.fillStyle=te,this.strokeStyle=Pe,this.font=Le,this.lineCap=et,this.lineWidth=At,this.lineJoin=bt},z=function(te,Pe,Le){for(var et=0;et<te.length;et++)switch(te[et].type){case"bct":te[et].x2+=Pe,te[et].y2+=Le;case"qct":te[et].x1+=Pe,te[et].y1+=Le;default:te[et].x+=Pe,te[et].y+=Le}return te},se=function(te){return te.sort(function(Pe,Le){return Pe-Le})},ve=function(te,Pe){for(var Le,et,At=this.fillStyle,bt=this.strokeStyle,Dt=this.lineCap,Ft=this.lineWidth,fn=Math.abs(Ft*this.ctx.transform.scaleX),pn=this.lineJoin,Kn=JSON.parse(JSON.stringify(this.path)),$n=JSON.parse(JSON.stringify(this.path)),kr=[],Wt=0;Wt<$n.length;Wt++)if(void 0!==$n[Wt].x)for(var Ge=V.call(this,$n[Wt]),ri=0;ri<Ge.length;ri+=1)-1===kr.indexOf(Ge[ri])&&kr.push(Ge[ri]);for(var dr=0;dr<kr.length;dr++)for(;this.pdf.internal.getNumberOfPages()<kr[dr];)j.call(this);if(se(kr),this.autoPaging)for(var gn=kr[0],Sn=kr[kr.length-1],Vn=gn;Vn<Sn+1;Vn++){this.pdf.setPage(Vn),this.fillStyle=At,this.strokeStyle=bt,this.lineCap=Dt,this.lineWidth=fn,this.lineJoin=pn;var Un=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],br=1===Vn?this.posY+this.margin[0]:this.margin[0],pi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ei=1===Vn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Vn-2)*pi;if(0!==this.ctx.clip_path.length){var Zi=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(Le,this.posX+this.margin[3],-Ei+br+this.ctx.prevPageLastElemOffset),Se.call(this,te,!0),this.path=Zi}if(et=JSON.parse(JSON.stringify(Kn)),this.path=z(et,this.posX+this.margin[3],-Ei+br+this.ctx.prevPageLastElemOffset),!1===Pe||0===Vn){var ks=(Vn>gn||Vn<Sn)&&L.call(this);ks&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Un,pi,null).clip().discardPath()),Se.call(this,te,Pe),ks&&this.pdf.restoreGraphicsState()}this.lineWidth=Ft}else this.lineWidth=fn,Se.call(this,te,Pe),this.lineWidth=Ft;this.path=Kn},Se=function(te,Pe){if(("stroke"!==te||Pe||!P.call(this))&&("stroke"===te||Pe||!C.call(this))){for(var Le,et,At=[],bt=this.path,Dt=0;Dt<bt.length;Dt++){var Ft=bt[Dt];switch(Ft.type){case"begin":At.push({begin:!0});break;case"close":At.push({close:!0});break;case"mt":At.push({start:Ft,deltas:[],abs:[]});break;case"lt":var fn=At.length;if(bt[Dt-1]&&!isNaN(bt[Dt-1].x)&&(Le=[Ft.x-bt[Dt-1].x,Ft.y-bt[Dt-1].y],fn>0))for(;fn>=0;fn--)if(!0!==At[fn-1].close&&!0!==At[fn-1].begin){At[fn-1].deltas.push(Le),At[fn-1].abs.push(Ft);break}break;case"bct":At[At.length-1].deltas.push(Le=[Ft.x1-bt[Dt-1].x,Ft.y1-bt[Dt-1].y,Ft.x2-bt[Dt-1].x,Ft.y2-bt[Dt-1].y,Ft.x-bt[Dt-1].x,Ft.y-bt[Dt-1].y]);break;case"qct":At[At.length-1].deltas.push(Le=[bt[Dt-1].x+2/3*(Ft.x1-bt[Dt-1].x)-bt[Dt-1].x,bt[Dt-1].y+2/3*(Ft.y1-bt[Dt-1].y)-bt[Dt-1].y,Ft.x+2/3*(Ft.x1-Ft.x)-bt[Dt-1].x,Ft.y+2/3*(Ft.y1-Ft.y)-bt[Dt-1].y,Ft.x-bt[Dt-1].x,Ft.y-bt[Dt-1].y]);break;case"arc":At.push({deltas:[],abs:[],arc:!0}),Array.isArray(At[At.length-1].abs)&&At[At.length-1].abs.push(Ft)}}et=Pe?null:"stroke"===te?"stroke":"fill";for(var ri=!1,dr=0;dr<At.length;dr++)if(At[dr].arc)for(var gn=At[dr].abs,Sn=0;Sn<gn.length;Sn++){var Vn=gn[Sn];"arc"===Vn.type?Ce.call(this,Vn.x,Vn.y,Vn.radius,Vn.startAngle,Vn.endAngle,Vn.counterclockwise,void 0,Pe,!ri):qe.call(this,Vn.x,Vn.y),ri=!0}else!0===At[dr].close?(this.pdf.internal.out("h"),ri=!1):!0!==At[dr].begin&&(Ke.call(this,At[dr].deltas,At[dr].start.x,At[dr].start.y),ri=!0);et&&ut.call(this,et),Pe&&mt.call(this)}},Ve=function(te){var Pe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Le=Pe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return te-Le;case"top":return te+Pe-Le;case"hanging":return te+Pe-2*Le;case"middle":return te+Pe/2-Le;default:return te}},Oe=function(te){return te+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var te=function(){};return te.colorStops=[],te.addColorStop=function(Pe,Le){this.colorStops.push([Pe,Le])},te.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},te.isCanvasGradient=!0,te},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ce=function(te,Pe,Le,et,At,bt,Dt,Ft,fn){for(var pn=ze.call(this,Le,et,At,bt),Kn=0;Kn<pn.length;Kn++){var $n=pn[Kn];0===Kn&&(fn?ge.call(this,$n.x1+te,$n.y1+Pe):qe.call(this,$n.x1+te,$n.y1+Pe)),Ct.call(this,te,Pe,$n.x2,$n.y2,$n.x3,$n.y3,$n.x4,$n.y4)}Ft?mt.call(this):ut.call(this,Dt)},ut=function(te){switch(te){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},mt=function(){this.pdf.clip(),this.pdf.discardPath()},ge=function(te,Pe){this.pdf.internal.out(t(te)+" "+r(Pe)+" m")},me=function(te){var Pe;switch(te.align){case"right":case"end":Pe="right";break;case"center":Pe="center";break;default:Pe="left"}var Le=this.pdf.getTextDimensions(te.text),et=Ve.call(this,te.y),At=Oe.call(this,et)-Le.h,bt=this.ctx.transform.applyToPoint(new o(te.x,et)),Dt=this.ctx.transform.decompose(),Ft=new u;Ft=(Ft=(Ft=Ft.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale);for(var fn,pn,Kn,$n=this.ctx.transform.applyToRectangle(new a(te.x,et,Le.w,Le.h)),kr=Ft.applyToRectangle(new a(te.x,At,Le.w,Le.h)),Wt=V.call(this,kr),Ge=[],ri=0;ri<Wt.length;ri+=1)-1===Ge.indexOf(Wt[ri])&&Ge.push(Wt[ri]);if(se(Ge),this.autoPaging)for(var dr=Ge[0],gn=Ge[Ge.length-1],Sn=dr;Sn<gn+1;Sn++){this.pdf.setPage(Sn);var Vn=1===Sn?this.posY+this.margin[0]:this.margin[0],br=this.pdf.internal.pageSize.height-this.margin[2],ti=br-this.margin[0],pi=this.pdf.internal.pageSize.width-this.margin[1],Ei=pi-this.margin[3],Zi=1===Sn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Sn-2)*ti;if(0!==this.ctx.clip_path.length){var ks=this.path;fn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(fn,this.posX+this.margin[3],-1*Zi+Vn),Se.call(this,"fill",!0),this.path=ks}var Hr=z([JSON.parse(JSON.stringify(kr))],this.posX+this.margin[3],-Zi+Vn+this.ctx.prevPageLastElemOffset)[0];te.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*te.scale),this.lineWidth=(Kn=this.lineWidth)*te.scale);var Ti="text"!==this.autoPaging;if(Ti||Hr.y+Hr.h<=br){if(Ti||Hr.y>=Vn&&Hr.x<=pi){var jn=Ti?te.text:this.pdf.splitTextToSize(te.text,te.maxWidth||pi-Hr.x)[0],Wc=z([JSON.parse(JSON.stringify($n))],this.posX+this.margin[3],-Zi+Vn+this.ctx.prevPageLastElemOffset)[0],ts=Ti&&(Sn>dr||Sn<gn)&&L.call(this);ts&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ei,ti,null).clip().discardPath()),this.pdf.text(jn,Wc.x,Wc.y,{angle:te.angle,align:Pe,renderingMode:te.renderingMode}),ts&&this.pdf.restoreGraphicsState()}}else Hr.y<br&&(this.ctx.prevPageLastElemOffset+=br-Hr.y);te.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=Kn)}else te.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*te.scale),this.lineWidth=(Kn=this.lineWidth)*te.scale),this.pdf.text(te.text,bt.x+this.posX,bt.y+this.posY,{angle:te.angle,align:Pe,renderingMode:te.renderingMode,maxWidth:te.maxWidth}),te.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=Kn)},qe=function(te,Pe,Le,et){et=et||0,this.pdf.internal.out(t(te+(Le=Le||0))+" "+r(Pe+et)+" l")},Ke=function(te,Pe,Le){return this.pdf.lines(te,Pe,Le,null,null)},Ct=function(te,Pe,Le,et,At,bt,Dt,Ft){this.pdf.internal.out([e(i(Le+te)),e(s(et+Pe)),e(i(At+te)),e(s(bt+Pe)),e(i(Dt+te)),e(s(Ft+Pe)),"c"].join(" "))},ze=function(te,Pe,Le,et){for(var At=2*Math.PI,bt=Math.PI/2;Pe>Le;)Pe-=At;var Dt=Math.abs(Le-Pe);Dt<At&&et&&(Dt=At-Dt);for(var Ft=[],fn=et?-1:1,pn=Pe;Dt>1e-5;){var Kn=pn+fn*Math.min(Dt,bt);Ft.push(st.call(this,te,pn,Kn)),Dt-=Math.abs(Kn-pn),pn=Kn}return Ft},st=function(te,Pe,Le){var et=(Le-Pe)/2,At=te*Math.cos(et),bt=te*Math.sin(et),Dt=At,Ft=-bt,fn=Dt*Dt+Ft*Ft,pn=fn+Dt*At+Ft*bt,Kn=4/3*(Math.sqrt(2*fn*pn)-pn)/(Dt*bt-Ft*At),$n=Dt-Kn*Ft,kr=Ft+Kn*Dt,Wt=$n,Ge=-kr,ri=et+Pe,dr=Math.cos(ri),gn=Math.sin(ri);return{x1:te*Math.cos(Pe),y1:te*Math.sin(Pe),x2:$n*dr-kr*gn,y2:$n*gn+kr*dr,x3:Wt*dr-Ge*gn,y3:Wt*gn+Ge*dr,x4:te*Math.cos(Le),y4:te*Math.sin(Le)}},Ze=function(te){return 180*te/Math.PI},yt=function(te,Pe,Le,et,At,bt){var Dt=te+.5*(Le-te),Ft=Pe+.5*(et-Pe),fn=At+.5*(Le-At),pn=bt+.5*(et-bt),Kn=Math.min(te,At,Dt,fn),$n=Math.max(te,At,Dt,fn),kr=Math.min(Pe,bt,Ft,pn),Wt=Math.max(Pe,bt,Ft,pn);return new a(Kn,kr,$n-Kn,Wt-kr)},Mt=function(te,Pe,Le,et,At,bt,Dt,Ft){var fn,pn,Kn,$n,kr,Wt,Ge,ri,dr,gn,Sn,Vn,Un,br,ti=Le-te,pi=et-Pe,Ei=At-Le,Zi=bt-et,ks=Dt-At,Hr=Ft-bt;for(pn=0;pn<41;pn++)dr=(Ge=(Kn=te+(fn=pn/40)*ti)+fn*((kr=Le+fn*Ei)-Kn))+fn*(kr+fn*(At+fn*ks-kr)-Ge),gn=(ri=($n=Pe+fn*pi)+fn*((Wt=et+fn*Zi)-$n))+fn*(Wt+fn*(bt+fn*Hr-Wt)-ri),0==pn?(Sn=dr,Vn=gn,Un=dr,br=gn):(Sn=Math.min(Sn,dr),Vn=Math.min(Vn,gn),Un=Math.max(Un,dr),br=Math.max(br,gn));return new a(Math.round(Sn),Math.round(Vn),Math.round(Un-Sn),Math.round(br-Vn))},vn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Le=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Le)}}})(pr.API),function(n){var e=function(s){var o,a,u,h,f,y,I,C,P,L;for(/[^\x00-\xFF]/.test(s),a=[],u=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)0!==(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))?(y=(f=((f=((f=((f=(f-(L=f%85))/85)-(P=f%85))/85)-(C=f%85))/85)-(I=f%85))/85)%85,a.push(y+33,I+33,C+33,P+33,L+33)):a.push(122);return function(V,j){for(var z=j;z>0;z--)V.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,u,h,f,y=String,I="length",C=255,P="charCodeAt",L="slice",V="replace";for(s[L](-2),s=s[L](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),u=[],h=0,f=(s+=o="uuuuu"[L](s[I]%5||5))[I];f>h;h+=5)a=52200625*(s[P](h)-33)+614125*(s[P](h+1)-33)+7225*(s[P](h+2)-33)+85*(s[P](h+3)-33)+(s[P](h+4)-33),u.push(C&a>>24,C&a>>16,C&a>>8,C&a);return function(j,z){for(var se=z;se>0;se--)j.pop()}(u,o[I]),y.fromCharCode.apply(y,u)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",u=0;u<s.length;u+=2)a+=String.fromCharCode("0x"+(s[u]+s[u+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=qA(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};n.processDataByFilters=function(s,o){var a=0,u=s||"",h=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(pr.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(u,h,f){var y=new XMLHttpRequest,I=0,C=function(P){var L=P.length,V=[],j=String.fromCharCode;for(I=0;I<L;I+=1)V.push(j(255&P.charCodeAt(I)));return V.join("")};if(y.open("GET",u,!h),y.overrideMimeType("text/plain; charset=x-user-defined"),!1===h&&(y.onload=function(){f(200===y.status?C(this.responseText):void 0)}),y.send(null),h&&200===y.status)return C(y.responseText)}(i,s,o)}catch(u){}return a}(e,t,r)},n.loadImageFile=n.loadFile}(pr.API),function(n){function e(){return(gr.html2canvas?Promise.resolve(gr.html2canvas):Promise.resolve().then(U.t.bind(U,4159,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(gr.DOMPurify?Promise.resolve(gr.DOMPurify):U.e(735).then(U.t.bind(U,2735,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=di(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},i=function(o,a){var u=document.createElement(o);for(var h in a.className&&(u.className=a.className),a.innerHTML&&a.dompurify&&(u.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)u.style[h]=a.style[h];return u},s=function o(a){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(u){switch(r(u)){case"string":return"string";case"element":return"canvas"===u.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function u(h,f){for(var y=3===h.nodeType?document.createTextNode(h.nodeValue):h.cloneNode(!1),I=h.firstChild;I;I=I.nextSibling)!0!==f&&1===I.nodeType&&"SCRIPT"===I.nodeName||y.appendChild(u(I,f));return 1===h.nodeType&&("CANVAS"===h.nodeName?(y.width=h.width,y.height=h.height,y.getContext("2d").drawImage(h,0,0)):"TEXTAREA"!==h.nodeName&&"SELECT"!==h.nodeName||(y.value=h.value),y.addEventListener("load",function(){y.scrollTop=h.scrollTop,y.scrollLeft=h.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,a(this.prop.container,u)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var u=this.opt.jsPDF,h=this.opt.fontFaces,f="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var I=0;I<h.length;++I){var C=h[I],P=C.src.find(function(L){return"truetype"===L.format});P&&u.addFont(P.url,C.ref.name,C.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=0==y.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),a(this.prop.container,y)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,u){return"img"===(u=u||"pdf").toLowerCase()||"image"===u.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==r(o))return this;var a=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||pr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,u,h){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=u&&(this.progress.n=u),null!=h&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,u,h){return this.setProgress(o?this.progress.val+o:null,a||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var u=this;return this.thenCore(o,a,function(h,f){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,h),y}).then(h,f).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(o,a,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),f=u.call(h,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(u){a=a.thenCore(u)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,pr.getPageSize=function(o,a,u){if("object"===di(o)){var h=o;o=h.orientation,a=h.unit||a,u=h.format||u}a=a||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,y=(""+u).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var C,P=0,L=0;if(I.hasOwnProperty(y))P=I[y][1]/f,L=I[y][0]/f;else try{P=u[1],L=u[0]}catch(V){throw new Error("Invalid format: "+u)}if("p"===o||"portrait"===o)o="p",L>P&&(C=L,L=P,P=C);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",P>L&&(C=L,L=P,P=C)}return{width:L,height:P,unit:a,k:f,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Zd):null;var u=new s(a);return a.worker?u:u.from(o).doCallback()}}(pr.API),pr.API.addJS=function(n){return Fc=n,this.internal.events.subscribe("postPutResources",function(){Tc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Fc+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Tc&&void 0!==cA&&this.internal.out("/Names <</JavaScript "+Tc+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(s=0;s<h;s++){var y=t.internal.newObject();f.push(y);var I=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var C=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+C+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return null==r&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(pr.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var u,h=this.decode.DCT_DECODE,f=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(u=function(y){for(var I,C=256*y.charCodeAt(4)+y.charCodeAt(5),P=y.length,L={width:0,height:0,numcomponents:1},V=4;V<P;V+=2){if(-1!==e.indexOf(y.charCodeAt((V+=C)+1))){I=256*y.charCodeAt(V+5)+y.charCodeAt(V+6),L={width:256*y.charCodeAt(V+7)+y.charCodeAt(V+8),height:I,numcomponents:y.charCodeAt(V+9)};break}C=256*y.charCodeAt(V+2)+y.charCodeAt(V+3)}return L}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return f}}(pr.API);var Mc,wp,ba,wu,uA,Jd=function(){var n,e,t;function r(s){var o,u,h,f,y,I,C,P,L,V,j,z,se;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),P=function(){var ve,Se;for(Se=[],ve=0;ve<4;++ve)Se.push(String.fromCharCode(this.data[this.pos++]));return Se}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),h=this.readUInt16()||100,y.delay=1e3*f/h,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for("fdAT"===P&&(this.pos+=4,o-=4),s=(null!=y?y.data:void 0)||this.imgData,j=0;0<=o?j<o:j>o;0<=o?++j:--j)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((L=u-this.transparency.indexed.length)>0)for(z=0;0<=L?z<L:z>L;0<=L?++z:--z)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":I=(V=this.read(o)).indexOf(0),C=String.fromCharCode.apply(String,V.slice(0,I)),this.text[C]=String.fromCharCode.apply(String,V.slice(I+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(se=this.colorType)||6===se,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),u=0,h=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function f(y,I,C,P){var L,V,j,z,se,ve,Se,Ve,Ce,ut,mt,ge,me,qe,Ke,Ct,ze,st,Ze,yt,Mt=Math.ceil((h.width-y)/C),vn=Math.ceil((h.height-I)/P),te=h.width==Mt&&h.height==vn;for(me=o*Mt,mt=te?a:new Uint8Array(me*vn),ve=s.length,ge=0,V=0;ge<vn&&u<ve;){switch(s[u++]){case 0:for(z=Ct=0;Ct<me;z=Ct+=1)mt[V++]=s[u++];break;case 1:for(z=ze=0;ze<me;z=ze+=1)L=s[u++],se=z<o?0:mt[V-o],mt[V++]=(L+se)%256;break;case 2:for(z=st=0;st<me;z=st+=1)L=s[u++],j=(z-z%o)/o,mt[V++]=((qe=ge&&mt[(ge-1)*me+j*o+z%o])+L)%256;break;case 3:for(z=Ze=0;Ze<me;z=Ze+=1)L=s[u++],j=(z-z%o)/o,se=z<o?0:mt[V-o],qe=ge&&mt[(ge-1)*me+j*o+z%o],mt[V++]=(L+Math.floor((se+qe)/2))%256;break;case 4:for(z=yt=0;yt<me;z=yt+=1)L=s[u++],j=(z-z%o)/o,0===ge?qe=Ke=0:(qe=mt[(ge-1)*me+j*o+z%o],Ke=j&&mt[(ge-1)*me+(j-1)*o+z%o]),Se=(se=z<o?0:mt[V-o])+qe-Ke,Ve=Math.abs(Se-se),Ce=Math.abs(Se-qe),ut=Math.abs(Se-Ke),mt[V++]=(L+(Ve<=Ce&&Ve<=ut?se:Ce<=ut?qe:Ke))%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!te){var Pe=((I+ge*P)*h.width+y)*o,Le=ge*me;for(z=0;z<Mt;z+=1){for(var et=0;et<o;et+=1)a[Pe++]=mt[Le++];Pe+=(C-1)*o}}ge++}}return s=iA(s),1==h.interlaceMethod?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,u,h,f,y,I,C;for(a=this.palette,f=this.transparency.indexed||[],h=new Uint8Array((f.length||0)+a.length),u=0,s=0,o=y=0,I=a.length;y<I;o=y+=3)h[u++]=a[o],h[u++]=a[o+1],h[u++]=a[o+2],h[u++]=null!=(C=f[s++])?C:255;return h},r.prototype.copyToImageData=function(s,o){var a,u,h,f,y,I,C,P,L,V,j;if(u=this.colors,L=null,a=this.hasAlphaChannel,this.palette.length&&(L=null!=(j=this._decodedPalette)?j:this._decodedPalette=this.decodePalette(),u=4,a=!0),P=(h=s.data||s).length,y=L||o,f=I=0,1===u)for(;f<P;)C=L?4*o[f/4]:I,V=y[C++],h[f++]=V,h[f++]=V,h[f++]=V,h[f++]=a?y[C++]:255,I=C;else for(;f<P;)C=L?4*o[f/4]:I,h[f++]=y[C++],h[f++]=y[C++],h[f++]=y[C++],h[f++]=a?y[C++]:255,I=C},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if("[object Window]"===Object.prototype.toString.call(gr)){try{e=gr.document.createElement("canvas"),t=e.getContext("2d")}catch(s){return!1}return!0}return!1};return i(),n=function(s){var o;if(!0===i())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,u,h,f,y,I,C;if(this.animation){for(C=[],a=f=0,y=(I=this.animation.frames).length;f<y;a=++f)u=s.createImageData((o=I[a]).width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,h),o.imageData=u,C.push(o.image=n(u));return C}},r.prototype.renderFrame=function(s,o){var a,u,h;return a=(u=this.animation.frames)[o],h=u[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===(null!=h?h.disposeOp:void 0)?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):2===(null!=h?h.disposeOp:void 0)&&s.putImageData(h.imageData,h.xOffset,h.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,u,h,f,y,I=this;return a=0,h=(y=this.animation).numFrames,u=y.frames,f=y.numPlays,(o=function(){var C,P;if(C=a++%h,P=u[C],I.renderFrame(s,C),h>1&&a/h<f)return I.animation._timeout=setTimeout(o,P.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();function ef(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=1<<1+(7&i);e++,e++;var a=null,u=null;i>>7&&(a=e,u=o,e+=3*o);var h=!0,f=[],y=0,I=null,C=0,P=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,P=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((ge=n[e++])>=0))throw Error("Invalid block size");if(0===ge)break;e+=ge}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var L=n[e++];y=n[e++]|n[e++]<<8,I=n[e++],0==(1&L)&&(I=null),C=L>>2&7,e++;break;case 254:for(;;){if(!((ge=n[e++])>=0))throw Error("Invalid block size");if(0===ge)break;e+=ge}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var V=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,z=n[e++]|n[e++]<<8,se=n[e++]|n[e++]<<8,ve=n[e++],Se=ve>>6&1,Ve=1<<1+(7&ve),Oe=a,Ce=u,ut=!1;ve>>7&&(ut=!0,Oe=e,Ce=Ve,e+=3*Ve);var mt=e;for(e++;;){var ge;if(!((ge=n[e++])>=0))throw Error("Invalid block size");if(0===ge)break;e+=ge}f.push({x:V,y:j,width:z,height:se,has_local_palette:ut,palette_offset:Oe,palette_size:Ce,data_offset:mt,data_length:e-mt,transparent_index:I,interlaced:!!Se,delay:y,disposal:C});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return P},this.frameInfo=function(me){if(me<0||me>=f.length)throw new Error("Frame index out of range.");return f[me]},this.decodeAndBlitFrameBGRA=function(me,qe){var Ke=this.frameInfo(me),Ct=Ke.width*Ke.height,ze=new Uint8Array(Ct);Kh(n,Ke.data_offset,ze,Ct);var st=Ke.palette_offset,Ze=Ke.transparent_index;null===Ze&&(Ze=256);var yt=Ke.width,Mt=t-yt,vn=yt,te=4*(Ke.y*t+Ke.x),Pe=4*((Ke.y+Ke.height)*t+Ke.x),Le=te,et=4*Mt;!0===Ke.interlaced&&(et+=4*t*7);for(var At=8,bt=0,Dt=ze.length;bt<Dt;++bt){var Ft=ze[bt];if(0===vn&&(vn=yt,(Le+=et)>=Pe&&(et=4*Mt+4*t*(At-1),Le=te+(yt+Mt)*(At<<1),At>>=1)),Ft===Ze)Le+=4;else{var fn=n[st+3*Ft],pn=n[st+3*Ft+1];qe[Le++]=n[st+3*Ft+2],qe[Le++]=pn,qe[Le++]=fn,qe[Le++]=255}--vn}},this.decodeAndBlitFrameRGBA=function(me,qe){var Ke=this.frameInfo(me),Ct=Ke.width*Ke.height,ze=new Uint8Array(Ct);Kh(n,Ke.data_offset,ze,Ct);var st=Ke.palette_offset,Ze=Ke.transparent_index;null===Ze&&(Ze=256);var yt=Ke.width,Mt=t-yt,vn=yt,te=4*(Ke.y*t+Ke.x),Pe=4*((Ke.y+Ke.height)*t+Ke.x),Le=te,et=4*Mt;!0===Ke.interlaced&&(et+=4*t*7);for(var At=8,bt=0,Dt=ze.length;bt<Dt;++bt){var Ft=ze[bt];if(0===vn&&(vn=yt,(Le+=et)>=Pe&&(et=4*Mt+4*t*(At-1),Le=te+(yt+Mt)*(At<<1),At>>=1)),Ft===Ze)Le+=4;else{var pn=n[st+3*Ft+1],Kn=n[st+3*Ft+2];qe[Le++]=n[st+3*Ft],qe[Le++]=pn,qe[Le++]=Kn,qe[Le++]=255}--vn}}}function Kh(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,u=i+1,h=(1<<u)-1,f=0,y=0,I=0,C=n[e++],P=new Int32Array(4096),L=null;;){for(;f<16&&0!==C;)y|=n[e++]<<f,f+=8,1===C?C=n[e++]:--C;if(f<u)break;var V=y&h;if(y>>=u,f-=u,V!==s){if(V===o)break;for(var j=V<a?V:L,z=0,se=j;se>s;)se=P[se]>>8,++z;var ve=se;if(I+z+(j!==V?1:0)>r)return void Hi.log("Warning, gif stream longer than expected.");t[I++]=ve;var Se=I+=z;for(j!==V&&(t[I++]=ve),se=j;z--;)t[--Se]=255&(se=P[se]),se>>=8;null!==L&&a<4096&&(P[a++]=L<<8|ve,a>=h+1&&u<12&&(++u,h=h<<1|1)),L=V}else a=o+1,h=(1<<(u=i+1))-1,L=null}return I!==r&&Hi.log("Warning, gif stream shorter than expected."),t}function bp(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),u=new Array(64),h=new Array(64),f=new Array(64),y=new Array(65535),I=new Array(65535),C=new Array(64),P=new Array(64),L=[],V=0,j=7,z=new Array(64),se=new Array(64),ve=new Array(64),Se=new Array(256),Ve=new Array(2048),Oe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ce=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ut=[0,1,2,3,4,5,6,7,8,9,10,11],mt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ge=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],me=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],qe=[0,1,2,3,4,5,6,7,8,9,10,11],Ke=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ct=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ze(te,Pe){for(var Le=0,et=0,At=new Array,bt=1;bt<=16;bt++){for(var Dt=1;Dt<=te[bt];Dt++)At[Pe[et]]=[],At[Pe[et]][0]=Le,At[Pe[et]][1]=bt,et++,Le++;Le*=2}return At}function st(te){for(var Pe=te[0],Le=te[1]-1;Le>=0;)Pe&1<<Le&&(V|=1<<j),Le--,--j<0&&(255==V?(Ze(255),Ze(0)):Ze(V),j=7,V=0)}function Ze(te){L.push(te)}function yt(te){Ze(te>>8&255),Ze(255&te)}function Mt(te,Pe,Le,et,At){for(var bt,Dt=At[0],Ft=At[240],fn=function(gn,Sn){var Vn,Un,br,ti,pi,Ei,Zi,ks,Hr,Ti,jn=0;for(Hr=0;Hr<8;++Hr){var Wc=(Vn=gn[jn])+(ks=gn[jn+7]),ts=Vn-ks,Bf=(Un=gn[jn+1])+(Zi=gn[jn+6]),Zs=Un-Zi,Ho=(br=gn[jn+2])+(Ei=gn[jn+5]),sg=br-Ei,_s=(ti=gn[jn+3])+(pi=gn[jn+4]),fw=ti-pi,pa=Wc+_s,Sf=Wc-_s,Tm=Bf+Ho,ga=Bf-Ho;gn[jn]=pa+Tm,gn[jn+4]=pa-Tm;var ni=.707106781*(ga+Sf);gn[jn+2]=Sf+ni,gn[jn+6]=Sf-ni;var ws=.382683433*((pa=fw+sg)-(ga=Zs+ts)),pw=.5411961*pa+ws,yc=1.306562965*ga+ws,og=.707106781*(Tm=sg+Zs),ag=ts+og,Lr=ts-og;gn[jn+5]=Lr+pw,gn[jn+3]=Lr-pw,gn[jn+1]=ag+yc,gn[jn+7]=ag-yc,jn+=8}for(jn=0,Hr=0;Hr<8;++Hr){var xf=(Vn=gn[jn])+(ks=gn[jn+56]),lg=Vn-ks,IA=(Un=gn[jn+8])+(Zi=gn[jn+48]),vl=Un-Zi,za=(br=gn[jn+16])+(Ei=gn[jn+40]),_h=br-Ei,IC=(ti=gn[jn+24])+(pi=gn[jn+32]),Fm=ti-pi,Df=xf+IC,Tf=xf-IC,Ff=IA+za,cg=IA-za;gn[jn]=Df+Ff,gn[jn+32]=Df-Ff;var ld=.707106781*(cg+Tf);gn[jn+16]=Tf+ld,gn[jn+48]=Tf-ld;var ug=.382683433*((Df=Fm+_h)-(cg=vl+lg)),gw=.5411961*Df+ug,BC=1.306562965*cg+ug,SC=.707106781*(Ff=_h+vl),xC=lg+SC,DC=lg-SC;gn[jn+40]=DC+gw,gn[jn+24]=DC-gw,gn[jn+8]=xC+BC,gn[jn+56]=xC-BC,jn++}for(Hr=0;Hr<64;++Hr)C[Hr]=(Ti=gn[Hr]*Sn[Hr])>0?Ti+.5|0:Ti-.5|0;return C}(te,Pe),pn=0;pn<64;++pn)P[Oe[pn]]=fn[pn];var Kn=P[0]-Le;Le=P[0],0==Kn?st(et[0]):(st(et[I[bt=32767+Kn]]),st(y[bt]));for(var $n=63;$n>0&&0==P[$n];)$n--;if(0==$n)return st(Dt),Le;for(var kr,Wt=1;Wt<=$n;){for(var Ge=Wt;0==P[Wt]&&Wt<=$n;)++Wt;var ri=Wt-Ge;if(ri>=16){kr=ri>>4;for(var dr=1;dr<=kr;++dr)st(Ft);ri&=15}st(At[(ri<<4)+I[bt=32767+P[Wt]]]),st(y[bt]),Wt++}return 63!=$n&&st(Dt),Le}function vn(te){te=Math.min(Math.max(te,1),100),s!=te&&(function(Pe){for(var Le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],et=0;et<64;et++){var At=o((Le[et]*Pe+50)/100);At=Math.min(Math.max(At,1),255),a[Oe[et]]=At}for(var bt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Dt=0;Dt<64;Dt++){var Ft=o((bt[Dt]*Pe+50)/100);Ft=Math.min(Math.max(Ft,1),255),u[Oe[Dt]]=Ft}for(var fn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pn=0,Kn=0;Kn<8;Kn++)for(var $n=0;$n<8;$n++)h[pn]=1/(a[Oe[pn]]*fn[Kn]*fn[$n]*8),f[pn]=1/(u[Oe[pn]]*fn[Kn]*fn[$n]*8),pn++}(te<50?Math.floor(5e3/te):Math.floor(200-2*te)),s=te)}this.encode=function(te,Pe){var Un,br;Pe&&vn(Pe),L=new Array,V=0,j=7,yt(65496),yt(65504),yt(16),Ze(74),Ze(70),Ze(73),Ze(70),Ze(0),Ze(1),Ze(1),Ze(0),yt(1),yt(1),Ze(0),Ze(0),function(){yt(65499),yt(132),Ze(0);for(var Un=0;Un<64;Un++)Ze(a[Un]);Ze(1);for(var br=0;br<64;br++)Ze(u[br])}(),Un=te.width,br=te.height,yt(65472),yt(17),Ze(8),yt(br),yt(Un),Ze(3),Ze(1),Ze(17),Ze(0),Ze(2),Ze(17),Ze(1),Ze(3),Ze(17),Ze(1),function(){yt(65476),yt(418),Ze(0);for(var Un=0;Un<16;Un++)Ze(Ce[Un+1]);for(var br=0;br<=11;br++)Ze(ut[br]);Ze(16);for(var ti=0;ti<16;ti++)Ze(mt[ti+1]);for(var pi=0;pi<=161;pi++)Ze(ge[pi]);Ze(1);for(var Ei=0;Ei<16;Ei++)Ze(me[Ei+1]);for(var Zi=0;Zi<=11;Zi++)Ze(qe[Zi]);Ze(17);for(var ks=0;ks<16;ks++)Ze(Ke[ks+1]);for(var Hr=0;Hr<=161;Hr++)Ze(Ct[Hr])}(),yt(65498),yt(12),Ze(3),Ze(1),Ze(0),Ze(2),Ze(17),Ze(3),Ze(17),Ze(0),Ze(63),Ze(0);var Le=0,et=0,At=0;V=0,j=7,this.encode.displayName="_encode_";for(var bt,Dt,Ft,fn,pn,Kn,$n,kr,Wt,Ge=te.data,dr=te.height,gn=4*te.width,Sn=0;Sn<dr;){for(bt=0;bt<gn;){for(pn=gn*Sn+bt,$n=-1,kr=0,Wt=0;Wt<64;Wt++)Kn=pn+(kr=Wt>>3)*gn+($n=4*(7&Wt)),Sn+kr>=dr&&(Kn-=gn*(Sn+1+kr-dr)),bt+$n>=gn&&(Kn-=bt+$n-gn+4),Dt=Ge[Kn++],Ft=Ge[Kn++],fn=Ge[Kn++],z[Wt]=(Ve[Dt]+Ve[Ft+256>>0]+Ve[fn+512>>0]>>16)-128,se[Wt]=(Ve[Dt+768>>0]+Ve[Ft+1024>>0]+Ve[fn+1280>>0]>>16)-128,ve[Wt]=(Ve[Dt+1280>>0]+Ve[Ft+1536>>0]+Ve[fn+1792>>0]>>16)-128;Le=Mt(z,h,Le,e,r),et=Mt(se,f,et,t,i),At=Mt(ve,f,At,t,i),bt+=32}Sn+=8}if(j>=0){var Vn=[];Vn[1]=j+1,Vn[0]=(1<<j+1)-1,st(Vn)}return yt(65497),new Uint8Array(L)},n=n||50,function(){for(var te=String.fromCharCode,Pe=0;Pe<256;Pe++)Se[Pe]=te(Pe)}(),e=ze(Ce,ut),t=ze(me,qe),r=ze(mt,ge),i=ze(Ke,Ct),function(){for(var te=1,Pe=2,Le=1;Le<=15;Le++){for(var et=te;et<Pe;et++)I[32767+et]=Le,y[32767+et]=[],y[32767+et][1]=Le,y[32767+et][0]=et;for(var At=-(Pe-1);At<=-te;At++)I[32767+At]=Le,y[32767+At]=[],y[32767+At][1]=Le,y[32767+At][0]=Pe-1+At;te<<=1,Pe<<=1}}(),function(){for(var te=0;te<256;te++)Ve[te]=19595*te,Ve[te+256>>0]=38470*te,Ve[te+512>>0]=7471*te+32768,Ve[te+768>>0]=-11059*te,Ve[te+1024>>0]=-21709*te,Ve[te+1280>>0]=32768*te+8421375,Ve[te+1536>>0]=-27439*te,Ve[te+1792>>0]=-5329*te}(),vn(n)}function ul(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Pg(n){function e(Ce){if(!Ce)throw Error("assert :P")}function t(Ce,ut,mt){for(var ge=0;4>ge;ge++)if(Ce[ut+ge]!=mt.charCodeAt(ge))return!0;return!1}function r(Ce,ut,mt,ge,me){for(var qe=0;qe<me;qe++)Ce[ut+qe]=mt[ge+qe]}function i(Ce,ut,mt,ge){for(var me=0;me<ge;me++)Ce[ut+me]=mt}function s(Ce){return new Int32Array(Ce)}function o(Ce,ut){for(var mt=[],ge=0;ge<Ce;ge++)mt.push(new ut);return mt}function a(Ce,ut){var mt=[];return function ge(me,qe,Ke){for(var Ct=Ke[qe],ze=0;ze<Ct&&(me.push(Ke.length>qe+1?[]:new ut),!(Ke.length<qe+1));ze++)ge(me[ze],qe+1,Ke)}(mt,0,Ce),mt}var u=function(){var Ce=this;function ut(v,x){for(var R=1<<x-1>>>0;v&R;)R>>>=1;return R?(v&R-1)+R:v}function mt(v,x,R,K,$){e(!(K%R));do{v[x+(K-=R)]=$}while(0<K)}function ge(v,x,R,K,$){if(e(2328>=$),512>=$)var re=s(512);else if(null==(re=s($)))return 0;return function(oe,ue,ye,Me,nt,Et){var It,ht,Xt=ue,Qt=1<<ye,rt=s(16),ot=s(16);for(e(0!=nt),e(null!=Me),e(null!=oe),e(0<ye),ht=0;ht<nt;++ht){if(15<Me[ht])return 0;++rt[Me[ht]]}if(rt[0]==nt)return 0;for(ot[1]=0,It=1;15>It;++It){if(rt[It]>1<<It)return 0;ot[It+1]=ot[It]+rt[It]}for(ht=0;ht<nt;++ht)It=Me[ht],0<Me[ht]&&(Et[ot[It]++]=ht);if(1==ot[15])return(Me=new me).g=0,Me.value=Et[0],mt(oe,Xt,1,Qt,Me),Qt;var qt,rn=-1,Zt=Qt-1,Wn=0,xn=1,Mr=1,Pn=1<<ye;for(ht=0,It=1,nt=2;It<=ye;++It,nt<<=1){if(xn+=Mr<<=1,0>(Mr-=rt[It]))return 0;for(;0<rt[It];--rt[It])(Me=new me).g=It,Me.value=Et[ht++],mt(oe,Xt+Wn,nt,Pn,Me),Wn=ut(Wn,It)}for(It=ye+1,nt=2;15>=It;++It,nt<<=1){if(xn+=Mr<<=1,0>(Mr-=rt[It]))return 0;for(;0<rt[It];--rt[It]){if(Me=new me,(Wn&Zt)!=rn){for(Xt+=Pn,qt=1<<(rn=It)-ye;15>rn&&!(0>=(qt-=rt[rn]));)++rn,qt<<=1;Qt+=Pn=1<<(qt=rn-ye),oe[ue+(rn=Wn&Zt)].g=qt+ye,oe[ue+rn].value=Xt-ue-rn}Me.g=It-ye,Me.value=Et[ht++],mt(oe,Xt+(Wn>>ye),nt,Pn,Me),Wn=ut(Wn,It)}}return xn!=2*ot[15]-1?0:Qt}(v,x,R,K,$,re)}function me(){this.value=this.g=0}function qe(){this.value=this.g=0}function Ke(){this.G=o(5,me),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(SA,qe)}function Ct(v,x,R,K){e(null!=v),e(null!=x),e(2147483648>K),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=x,v.pa=R,v.Jd=x,v.Yc=R+K,v.Zc=4<=K?R+K-4+1:R,bt(v)}function ze(v,x){for(var R=0;0<x--;)R|=Ft(v,128)<<x;return R}function st(v,x){var R=ze(v,x);return Dt(v)?-R:R}function Ze(v,x,R,K){var $,re=0;for(e(null!=v),e(null!=x),e(4294967288>K),v.Sb=K,v.Ra=0,v.u=0,v.h=0,4<K&&(K=4),$=0;$<K;++$)re+=x[R+$]<<8*$;v.Ra=re,v.bb=K,v.oa=x,v.pa=R}function yt(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<KC-8>>>0,++v.bb,v.u-=8;Le(v)&&(v.h=1,v.u=0)}function Mt(v,x){if(e(0<=x),!v.h&&x<=jC){var R=Pe(v)&VC[x];return v.u+=x,yt(v),R}return v.h=1,v.u=0}function vn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function te(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Pe(v){return v.Ra>>>(v.u&KC-1)>>>0}function Le(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>KC}function et(v,x){v.u=x,v.h=Le(v)}function At(v){v.u>=g2&&(e(v.u>=g2),yt(v))}function bt(v){e(null!=v&&null!=v.oa),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(null!=v&&null!=v.oa),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function Dt(v){return ze(v,1)}function Ft(v,x){var R=v.Ca;0>v.b&&bt(v);var K=v.b,$=R*x>>>8,re=(v.I>>>K>$)+0;for(re?(R-=$,v.I-=$+1<<K>>>0):R=$+1,K=R,$=0;256<=K;)$+=8,K>>=8;return v.b-=K=7^$+xA[K],v.Ca=(R<<K)-1,re}function fn(v,x,R){v[x+0]=R>>24&255,v[x+1]=R>>16&255,v[x+2]=R>>8&255,v[x+3]=R>>0&255}function pn(v,x){return v[x+0]<<0|v[x+1]<<8}function Kn(v,x){return pn(v,x)|v[x+2]<<16}function $n(v,x){return pn(v,x)|pn(v,x+2)<<16}function kr(v,x){var R=1<<x;return e(null!=v),e(0<x),v.X=s(R),null==v.X?0:(v.Mb=32-x,v.Xa=x,1)}function Wt(v,x){e(null!=v),e(null!=x),e(v.Xa==x.Xa),r(x.X,0,v.X,0,1<<x.Xa)}function Ge(){this.X=[],this.Xa=this.Mb=0}function ri(v,x,R,K){e(null!=R),e(null!=K);var $=R[0],re=K[0];return 0==$&&($=(v*re+x/2)/x),0==re&&(re=(x*$+v/2)/v),0>=$||0>=re?0:(R[0]=$,K[0]=re,1)}function dr(v,x){return v+(1<<x)-1>>>x}function gn(v,x){return((4278255360&v)+(4278255360&x)>>>0&4278255360)+((16711935&v)+(16711935&x)>>>0&16711935)>>>0}function Sn(v,x){Ce[x]=function(R,K,$,re,oe,ue,ye){var Me;for(Me=0;Me<oe;++Me){var nt=Ce[v](ue[ye+Me-1],$,re+Me);ue[ye+Me]=gn(R[K+Me],nt)}}}function Vn(){this.ud=this.hd=this.jd=0}function Un(v,x){return((4278124286&(v^x))>>>1)+(v&x)>>>0}function br(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function ti(v,x){return br(v+(v-x+.5>>1))}function pi(v,x,R){return Math.abs(x-R)-Math.abs(v-R)}function Ei(v,x,R,K,$,re,oe){for(K=re[oe-1],R=0;R<$;++R)re[oe+R]=K=gn(v[x+R],K)}function Zi(v,x,R,K,$){var re;for(re=0;re<R;++re){var oe=v[x+re],ue=oe>>8&255,ye=16711935&(ye=(ye=16711935&oe)+((ue<<16)+ue));K[$+re]=(4278255360&oe)+ye>>>0}}function ks(v,x){x.jd=v>>0&255,x.hd=v>>8&255,x.ud=v>>16&255}function Hr(v,x,R,K,$,re){var oe;for(oe=0;oe<K;++oe){var ue=x[R+oe],ye=ue>>>8,Me=ue,nt=255&(nt=(nt=ue>>>16)+((v.jd<<24>>24)*(ye<<24>>24)>>>5));Me=255&(Me=(Me+=(v.hd<<24>>24)*(ye<<24>>24)>>>5)+((v.ud<<24>>24)*(nt<<24>>24)>>>5)),$[re+oe]=(4278255360&ue)+(nt<<16)+Me}}function Ti(v,x,R,K,$){Ce[x]=function(re,oe,ue,ye,Me,nt,Et,It,ht){for(ye=Et;ye<It;++ye)for(Et=0;Et<ht;++Et)Me[nt++]=$(ue[K(re[oe++])])},Ce[v]=function(re,oe,ue,ye,Me,nt,Et){var It=8>>re.b,ht=re.Ea,Xt=re.K[0],Qt=re.w;if(8>It)for(re=(1<<re.b)-1,Qt=(1<<It)-1;oe<ue;++oe){var rt,ot=0;for(rt=0;rt<ht;++rt)rt&re||(ot=K(ye[Me++])),nt[Et++]=$(Xt[ot&Qt]),ot>>=It}else Ce["VP8LMapColor"+R](ye,Me,Xt,Qt,nt,Et,oe,ue,ht)}}function jn(v,x,R,K,$){for(R=x+R;x<R;){var re=v[x++];K[$++]=re>>16&255,K[$++]=re>>8&255,K[$++]=re>>0&255}}function Wc(v,x,R,K,$){for(R=x+R;x<R;){var re=v[x++];K[$++]=re>>16&255,K[$++]=re>>8&255,K[$++]=re>>0&255,K[$++]=re>>24&255}}function ts(v,x,R,K,$){for(R=x+R;x<R;){var re=(oe=v[x++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;K[$++]=re,K[$++]=oe}}function Bf(v,x,R,K,$){for(R=x+R;x<R;){var re=(oe=v[x++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;K[$++]=re,K[$++]=oe}}function Zs(v,x,R,K,$){for(R=x+R;x<R;){var re=v[x++];K[$++]=re>>0&255,K[$++]=re>>8&255,K[$++]=re>>16&255}}function Ho(v,x,R,K,$,re){if(0==re)for(R=x+R;x<R;)fn(K,((re=v[x++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),$+=32;else r(K,$,v,x,R)}function sg(v,x){Ce[x][0]=Ce[v+"0"],Ce[x][1]=Ce[v+"1"],Ce[x][2]=Ce[v+"2"],Ce[x][3]=Ce[v+"3"],Ce[x][4]=Ce[v+"4"],Ce[x][5]=Ce[v+"5"],Ce[x][6]=Ce[v+"6"],Ce[x][7]=Ce[v+"7"],Ce[x][8]=Ce[v+"8"],Ce[x][9]=Ce[v+"9"],Ce[x][10]=Ce[v+"10"],Ce[x][11]=Ce[v+"11"],Ce[x][12]=Ce[v+"12"],Ce[x][13]=Ce[v+"13"],Ce[x][14]=Ce[v+"0"],Ce[x][15]=Ce[v+"0"]}function _s(v){return v==EQ||v==IQ||v==oN||v==BQ}function fw(){this.eb=[],this.size=this.A=this.fb=0}function pa(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sf(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fw,this.f.kb=new pa,this.sd=null}function Tm(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ga(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ni(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function ws(v,x){var R=v.T,K=x.ba.f.RGBA,$=K.eb,re=K.fb+v.ka*K.A,oe=hd[x.ba.S],ue=v.y,ye=v.O,Me=v.f,nt=v.N,Et=v.ea,It=v.W,ht=x.cc,Xt=x.dc,Qt=x.Mc,rt=x.Nc,ot=v.ka,qt=v.ka+v.T,rn=v.U,Zt=rn+1>>1;for(0==ot?oe(ue,ye,null,null,Me,nt,Et,It,Me,nt,Et,It,$,re,null,null,rn):(oe(x.ec,x.fc,ue,ye,ht,Xt,Qt,rt,Me,nt,Et,It,$,re-K.A,$,re,rn),++R);ot+2<qt;ot+=2)oe(ue,(ye+=2*v.fa)-v.fa,ue,ye,ht=Me,Xt=nt,Qt=Et,rt=It,Me,nt+=v.Rc,Et,It+=v.Rc,$,(re+=2*K.A)-K.A,$,re,rn);return ye+=v.fa,v.j+qt<v.o?(r(x.ec,x.fc,ue,ye,rn),r(x.cc,x.dc,Me,nt,Zt),r(x.Mc,x.Nc,Et,It,Zt),R--):1&qt||oe(ue,ye,null,null,Me,nt,Et,It,Me,nt,Et,It,$,re+K.A,null,null,rn),R}function pw(v,x,R){var K=v.F,$=[v.J];if(null!=K){var re=v.U,oe=x.ba.S,ue=oe==sN||oe==oN;x=x.ba.f.RGBA;var ye=[0],Me=v.ka;ye[0]=v.T,v.Kb&&(0==Me?--ye[0]:(--Me,$[0]-=v.width),v.j+v.ka+v.T==v.o&&(ye[0]=v.o-v.j-Me));var nt=x.eb;v=eN(K,$[0],v.width,re,ye,nt,(Me=x.fb+Me*x.A)+(ue?0:3),x.A),e(R==ye),v&&_s(oe)&&$0(nt,Me,ue,re,ye,x.A)}return 0}function yc(v){var x=v.ma,R=x.ba.S,K=11>R,$=R==rN||R==iN||R==sN||R==CQ||12==R||_s(R);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!f2(x.Oa,v,$?11:12))return 0;if($&&_s(R)&&cn(),v.da)alert("todo:use_scaling");else{if(K){if(x.Ib=ni,v.Kb){if(x.memory=s(v.U+2*(R=v.U+1>>1)),null==x.memory)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+v.U,x.Mc=x.cc,x.Nc=x.dc+R,x.Ib=ws,cn()}}else alert("todo:EmitYUV");$&&(x.Jb=pw,K&&vt())}if(K&&!v9){for(v=0;256>v;++v)Wue[v]=89858*(v-128)+lN>>aN,$ue[v]=-22014*(v-128)+lN,que[v]=-45773*(v-128),zue[v]=113618*(v-128)+lN>>aN;for(v=b2;v<DQ;++v)Yue[v-b2]=wh(x=76283*(v-16)+lN>>aN,255),Zue[v-b2]=wh(x+8>>4,15);v9=1}return 1}function og(v){var x=v.ma,R=v.U,K=v.T;return e(!(1&v.ka)),0>=R||0>=K?0:(R=x.Ib(v,x),null!=x.Jb&&x.Jb(v,x,R),x.Dc+=R,1)}function ag(v){v.ma.memory=null}function Lr(v,x,R,K){return 47!=Mt(v,8)?0:(x[0]=Mt(v,14)+1,R[0]=Mt(v,14)+1,K[0]=Mt(v,1),0!=Mt(v,3)?0:!v.h)}function xf(v,x){if(4>v)return v+1;var R=v-2>>1;return(2+(1&v)<<R)+Mt(x,R)+1}function lg(v,x){return 120<x?x-120:1<=(R=((R=Mue[x-1])>>4)*v+(8-(15&R)))?R:1;var R}function IA(v,x,R){var K=Pe(R),$=v[x+=255&K].g-8;return 0<$&&(et(R,R.u+8),K=Pe(R),x+=v[x].value,x+=K&(1<<$)-1),et(R,R.u+v[x].g),v[x].value}function vl(v,x,R){return R.g+=v.g,R.value+=v.value<<x>>>0,e(8>=R.g),v.g}function za(v,x,R){var K=v.xc;return e((x=0==K?0:v.vc[v.md*(R>>K)+(x>>K)])<v.Wb),v.Ya[x]}function _h(v,x,R,K){var $=v.ab,re=v.c*x,oe=v.C;x=oe+x;var ue=R,ye=K;for(K=v.Ta,R=v.Ua;0<$--;){var Me=v.gc[$],nt=oe,Et=x,It=ue,ht=ye,Xt=(ye=K,ue=R,Me.Ea);switch(e(nt<Et),e(Et<=Me.nc),Me.hc){case 2:J5(It,ht,(Et-nt)*Xt,ye,ue);break;case 0:var Qt=nt,rt=Et,ot=ye,qt=ue,rn=(Pn=Me).Ea;0==Qt&&(vQ(It,ht,null,null,1,ot,qt),Ei(It,ht+1,0,0,rn-1,ot,qt+1),ht+=rn,qt+=rn,++Qt);for(var Zt=1<<Pn.b,Wn=Zt-1,xn=dr(rn,Pn.b),Mr=Pn.K,Pn=Pn.w+(Qt>>Pn.b)*xn;Qt<rt;){var as=Mr,Ss=Pn,Xi=1;for(m2(It,ht,ot,qt-rn,1,ot,qt);Xi<rn;){var Ri=(Xi&~Wn)+Zt;Ri>rn&&(Ri=rn),(0,G0[as[Ss++]>>8&15])(It,ht+ +Xi,ot,qt+Xi-rn,Ri-Xi,ot,qt+Xi),Xi=Ri}ht+=rn,qt+=rn,++Qt&Wn||(Pn+=xn)}Et!=Me.nc&&r(ye,ue-Xt,ye,ue+(Et-nt-1)*Xt,Xt);break;case 1:for(Xt=It,rt=ht,rn=(It=Me.Ea)-(qt=It&~(ot=(ht=1<<Me.b)-1)),Qt=dr(It,Me.b),Zt=Me.K,Me=Me.w+(nt>>Me.b)*Qt;nt<Et;){for(Wn=Zt,xn=Me,Mr=new Vn,Pn=rt+qt,as=rt+It;rt<Pn;)ks(Wn[xn++],Mr),cd(Mr,Xt,rt,ht,ye,ue),rt+=ht,ue+=ht;rt<as&&(ks(Wn[xn++],Mr),cd(Mr,Xt,rt,rn,ye,ue),rt+=rn,ue+=rn),++nt&ot||(Me+=Qt)}break;case 3:if(It==ye&&ht==ue&&0<Me.b){for(rt=ye,It=Xt=ue+(Et-nt)*Xt-(qt=(Et-nt)*dr(Me.Ea,Me.b)),ht=ye,ot=ue,Qt=[],qt=(rn=qt)-1;0<=qt;--qt)Qt[qt]=ht[ot+qt];for(qt=rn-1;0<=qt;--qt)rt[It+qt]=Qt[qt];Of(Me,nt,Et,ye,Xt,ye,ue)}else Of(Me,nt,Et,It,ht,ye,ue)}ue=K,ye=R}ye!=R&&r(K,R,ue,ye,re)}function IC(v,x){var R=v.V,K=v.Ba+v.c*v.C,$=x-v.C;if(e(x<=v.l.o),e(16>=$),0<$){var re=v.l,oe=v.Ta,ue=v.Ua,ye=re.width;if(_h(v,$,R,K),$=ue=[ue],e((R=v.C)<(K=x)),e(re.v<re.va),K>re.o&&(K=re.o),R<re.j){var Me=re.j-R;R=re.j,$[0]+=Me*ye}if(R>=K?R=0:($[0]+=4*re.v,re.ka=R-re.j,re.U=re.va-re.v,re.T=K-R,R=1),R){if(ue=ue[0],11>(R=v.ca).S){var nt=R.f.RGBA,Et=(K=R.S,$=re.U,re=re.T,Me=nt.eb,nt.A),It=re;for(nt=nt.fb+v.Ma*nt.A;0<It--;){var ht=oe,Xt=ue,Qt=$,rt=Me,ot=nt;switch(K){case nN:Lf(ht,Xt,Qt,rt,ot);break;case rN:W0(ht,Xt,Qt,rt,ot);break;case EQ:W0(ht,Xt,Qt,rt,ot),$0(rt,ot,0,Qt,1,0);break;case c9:GC(ht,Xt,Qt,rt,ot);break;case iN:Ho(ht,Xt,Qt,rt,ot,1);break;case IQ:Ho(ht,Xt,Qt,rt,ot,1),$0(rt,ot,0,Qt,1,0);break;case sN:Ho(ht,Xt,Qt,rt,ot,0);break;case oN:Ho(ht,Xt,Qt,rt,ot,0),$0(rt,ot,1,Qt,1,0);break;case CQ:hg(ht,Xt,Qt,rt,ot);break;case BQ:hg(ht,Xt,Qt,rt,ot),qC(rt,ot,Qt,1,0);break;case u9:Om(ht,Xt,Qt,rt,ot);break;default:e(0)}ue+=ye,nt+=Et}v.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=R.height)}}v.C=x,e(v.C<=v.i)}function Fm(v){var x;if(0<v.ua)return 0;for(x=0;x<v.Wb;++x){var R=v.Ya[x].G,K=v.Ya[x].H;if(0<R[1][K[1]+0].g||0<R[2][K[2]+0].g||0<R[3][K[3]+0].g)return 0}return 1}function Df(v,x,R,K,$,re){if(0!=v.Z){var oe=v.qd,ue=v.rd;for(e(null!=Z0[v.Z]);x<R;++x)Z0[v.Z](oe,ue,K,$,K,$,re),oe=K,ue=$,$+=re;v.qd=oe,v.rd=ue}}function Tf(v,x){var R=v.l.ma,K=0==R.Z||1==R.Z?v.l.j:v.C;if(K=v.C<K?K:v.C,e(x<=v.l.o),x>K){var $=v.l.width,re=R.ca,oe=R.tb+$*K,ue=v.V,ye=v.Ba+v.c*K,Me=v.gc;e(1==v.ab),e(3==Me[0].hc),_Q(Me[0],K,x,ue,ye,re,oe),Df(R,K,x,re,oe,$)}v.C=v.Ma=x}function Ff(v,x,R,K,$,re,oe){var ue=v.$/K,ye=v.$%K,Me=v.m,nt=v.s,Et=R+v.$,It=Et;$=R+K*$;var ht=R+K*re,Xt=280+nt.ua,Qt=v.Pb?ue:16777216,rt=0<nt.ua?nt.Wa:null,ot=nt.wc,qt=Et<ht?za(nt,ye,ue):null;e(v.C<re),e(ht<=$);var rn=!1;e:for(;;){for(;rn||Et<ht;){var Zt=0;if(ue>=Qt){var Wn=Et-R;e((Qt=v).Pb),Qt.wd=Qt.m,Qt.xd=Wn,0<Qt.s.ua&&Wt(Qt.s.Wa,Qt.s.vb),Qt=ue+Pue}if(ye&ot||(qt=za(nt,ye,ue)),e(null!=qt),qt.Qb&&(x[Et]=qt.qb,rn=!0),!rn)if(At(Me),qt.jc){Wn=x;var xn=Et,Mr=qt.pd[Pe(Zt=Me)&SA-1];e(qt.jc),256>Mr.g?(et(Zt,Zt.u+Mr.g),Wn[xn]=Mr.value,Zt=0):(et(Zt,Zt.u+Mr.g-256),e(256<=Mr.value),Zt=Mr.value),0==Zt&&(rn=!0)}else Zt=IA(qt.G[0],qt.H[0],Me);if(Me.h)break;if(rn||256>Zt){if(!rn)if(qt.nd)x[Et]=(qt.qb|Zt<<8)>>>0;else{if(At(Me),rn=IA(qt.G[1],qt.H[1],Me),At(Me),Wn=IA(qt.G[2],qt.H[2],Me),xn=IA(qt.G[3],qt.H[3],Me),Me.h)break;x[Et]=(xn<<24|rn<<16|Zt<<8|Wn)>>>0}if(rn=!1,++Et,++ye>=K&&(ye=0,++ue,null!=oe&&ue<=re&&!(ue%16)&&oe(v,ue),null!=rt))for(;It<Et;)Zt=x[It++],rt.X[(506832829*Zt&4294967295)>>>rt.Mb]=Zt}else if(280>Zt){if(Zt=xf(Zt-256,Me),Wn=IA(qt.G[4],qt.H[4],Me),At(Me),Wn=lg(K,Wn=xf(Wn,Me)),Me.h)break;if(Et-R<Wn||$-Et<Zt)break e;for(xn=0;xn<Zt;++xn)x[Et+xn]=x[Et+xn-Wn];for(Et+=Zt,ye+=Zt;ye>=K;)ye-=K,++ue,null!=oe&&ue<=re&&!(ue%16)&&oe(v,ue);if(e(Et<=$),ye&ot&&(qt=za(nt,ye,ue)),null!=rt)for(;It<Et;)Zt=x[It++],rt.X[(506832829*Zt&4294967295)>>>rt.Mb]=Zt}else{if(!(Zt<Xt))break e;for(rn=Zt-280,e(null!=rt);It<Et;)Zt=x[It++],rt.X[(506832829*Zt&4294967295)>>>rt.Mb]=Zt;Zt=Et,e(!(rn>>>(Wn=rt).Xa)),x[Zt]=Wn.X[rn],rn=!0}rn||e(Me.h==Le(Me))}if(v.Pb&&Me.h&&Et<$)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Wt(v.s.vb,v.s.Wa);else{if(Me.h)break e;null!=oe&&oe(v,ue>re?re:ue),v.a=0,v.$=Et-R}return 1}return v.a=3,0}function cg(v){e(null!=v),v.vc=null,v.yc=null,v.Ya=null;var x=v.Wa;null!=x&&(x.X=null),v.vb=null,e(null!=v)}function ld(){var v=new yQ;return null==v?null:(v.a=0,v.xb=d9,sg("Predictor","VP8LPredictors"),sg("Predictor","VP8LPredictors_C"),sg("PredictorAdd","VP8LPredictorsAdd"),sg("PredictorAdd","VP8LPredictorsAdd_C"),J5=Zi,cd=Hr,Lf=jn,W0=Wc,hg=ts,Om=Bf,GC=Zs,Ce.VP8LMapColor32b=y2,Ce.VP8LMapColor8b=wQ,v)}function ug(v,x,R,K,$){var re=1,oe=[v],ue=[x],ye=K.m,Me=K.s,nt=null,Et=0;e:for(;;){if(R)for(;re&&Mt(ye,1);){var It=oe,ht=ue,Xt=K,Qt=1,rt=Xt.m,ot=Xt.gc[Xt.ab],qt=Mt(rt,2);if(Xt.Oc&1<<qt)re=0;else{switch(Xt.Oc|=1<<qt,ot.hc=qt,ot.Ea=It[0],ot.nc=ht[0],ot.K=[null],++Xt.ab,e(4>=Xt.ab),qt){case 0:case 1:ot.b=Mt(rt,3)+2,Qt=ug(dr(ot.Ea,ot.b),dr(ot.nc,ot.b),0,Xt,ot.K),ot.K=ot.K[0];break;case 3:var rn,Zt=Mt(rt,8)+1,Wn=16<Zt?0:4<Zt?1:2<Zt?2:3;if(It[0]=dr(ot.Ea,Wn),ot.b=Wn,rn=Qt=ug(Zt,1,0,Xt,ot.K)){var xn,Mr=Zt,Pn=ot,as=1<<(8>>Pn.b),Ss=s(as);if(null==Ss)rn=0;else{var Xi=Pn.K[0],Ri=Pn.w;for(Ss[0]=Pn.K[0][0],xn=1;xn<1*Mr;++xn)Ss[xn]=gn(Xi[Ri+xn],Ss[xn-1]);for(;xn<4*as;++xn)Ss[xn]=0;Pn.K[0]=null,Pn.K[0]=Ss,rn=1}}Qt=rn;break;case 2:break;default:e(0)}re=Qt}}if(oe=oe[0],ue=ue[0],re&&Mt(ye,1)&&!(re=1<=(Et=Mt(ye,4))&&11>=Et)){K.a=3;break e}var Xs;if(Xs=re)t:{var Us,Ai,$a,DA=K,Ya=oe,TA=ue,xs=Et,Ch=R,Eh=DA.m,ql=DA.s,vc=[null],Qu=1,dd=0,dg=Nue[xs];n:for(;;){if(Ch&&Mt(Eh,1)){var $l=Mt(Eh,3)+2,Qm=dr(Ya,$l),Cw=dr(TA,$l),$C=Qm*Cw;if(!ug(Qm,Cw,0,DA,vc))break n;for(vc=vc[0],ql.xc=$l,Us=0;Us<$C;++Us){var X0=vc[Us]>>8&65535;vc[Us]=X0,X0>=Qu&&(Qu=X0+1)}}if(Eh.h)break n;for(Ai=0;5>Ai;++Ai){var ya=A9[Ai];!Ai&&0<xs&&(ya+=1<<xs),dd<ya&&(dd=ya)}var TQ=o(Qu*dg,me),b9=Qu,C9=o(b9,Ke);if(null==C9)var uN=null;else e(65536>=b9),uN=C9;var C2=s(dd);if(null==uN||null==C2||null==TQ){DA.a=1;break n}var AN=TQ;for(Us=$a=0;Us<Qu;++Us){var Qf=uN[Us],YC=Qf.G,ZC=Qf.H,E9=0,hN=1,I9=0;for(Ai=0;5>Ai;++Ai){ya=A9[Ai],YC[Ai]=AN,ZC[Ai]=$a,!Ai&&0<xs&&(ya+=1<<xs);i:{var dN,FQ=ya,fN=DA,E2=C2,eAe=AN,tAe=$a,MQ=0,J0=fN.m,nAe=Mt(J0,1);if(i(E2,0,0,FQ),nAe){var rAe=Mt(J0,1)+1,iAe=Mt(J0,1),B9=Mt(J0,0==iAe?1:8);E2[B9]=1,2==rAe&&(E2[B9=Mt(J0,8)]=1);var pN=1}else{var S9=s(19),x9=Mt(J0,4)+4;if(19<x9){fN.a=3;var gN=0;break i}for(dN=0;dN<x9;++dN)S9[Fue[dN]]=Mt(J0,3);var NQ=void 0,I2=void 0,D9=fN,sAe=S9,mN=FQ,T9=E2,PQ=0,ev=D9.m,F9=8,M9=o(128,me);r:for(;ge(M9,0,7,sAe,19);){if(Mt(ev,1)){var oAe=2+2*Mt(ev,3);if((NQ=2+Mt(ev,oAe))>mN)break r}else NQ=mN;for(I2=0;I2<mN&&NQ--;){At(ev);var N9=M9[0+(127&Pe(ev))];et(ev,ev.u+N9.g);var XC=N9.value;if(16>XC)T9[I2++]=XC,0!=XC&&(F9=XC);else{var aAe=16==XC,P9=XC-16,lAe=Due[P9],O9=Mt(ev,xue[P9])+lAe;if(I2+O9>mN)break r;for(var cAe=aAe?F9:0;0<O9--;)T9[I2++]=cAe}}PQ=1;break r}PQ||(D9.a=3),pN=PQ}(pN=pN&&!J0.h)&&(MQ=ge(eAe,tAe,8,E2,FQ)),pN&&0!=MQ?gN=MQ:(fN.a=3,gN=0)}if(0==gN)break n;if(hN&&1==Tue[Ai]&&(hN=0==AN[$a].g),E9+=AN[$a].g,$a+=gN,3>=Ai){var B2,OQ=C2[0];for(B2=1;B2<ya;++B2)C2[B2]>OQ&&(OQ=C2[B2]);I9+=OQ}}if(Qf.nd=hN,Qf.Qb=0,hN&&(Qf.qb=(YC[3][ZC[3]+0].value<<24|YC[1][ZC[1]+0].value<<16|YC[2][ZC[2]+0].value)>>>0,0==E9&&256>YC[0][ZC[0]+0].value&&(Qf.Qb=1,Qf.qb+=YC[0][ZC[0]+0].value<<8)),Qf.jc=!Qf.Qb&&6>I9,Qf.jc){var yN,Hm=Qf;for(yN=0;yN<SA;++yN){var tv=yN,nv=Hm.pd[tv],vN=Hm.G[0][Hm.H[0]+tv];256<=vN.value?(nv.g=vN.g+256,nv.value=vN.value):(nv.g=0,nv.value=0,tv>>=vl(vN,8,nv),tv>>=vl(Hm.G[1][Hm.H[1]+tv],16,nv),tv>>=vl(Hm.G[2][Hm.H[2]+tv],0,nv),vl(Hm.G[3][Hm.H[3]+tv],24,nv))}}}ql.vc=vc,ql.Wb=Qu,ql.Ya=uN,ql.yc=TQ,Xs=1;break t}Xs=0}if(!(re=Xs)){K.a=3;break e}if(0<Et){if(Me.ua=1<<Et,!kr(Me.Wa,Et)){K.a=1,re=0;break e}}else Me.ua=0;var LQ=K,L9=oe,uAe=ue,RQ=LQ.s,kQ=RQ.xc;if(LQ.c=L9,LQ.i=uAe,RQ.md=dr(L9,kQ),RQ.wc=0==kQ?-1:(1<<kQ)-1,R){K.xb=Hue;break e}if(null==(nt=s(oe*ue))){K.a=1,re=0;break e}re=(re=Ff(K,nt,0,oe,ue,ue,null))&&!ye.h;break e}return re?(null!=$?$[0]=nt:(e(null==nt),e(R)),K.$=0,R||cg(Me)):cg(Me),re}function gw(v,x){var R=v.c*v.i,K=R+x+16*x;return e(v.c<=x),v.V=s(K),null==v.V?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+R+x,1)}function BC(v,x){var R=v.C,K=x-R,$=v.V,re=v.Ba+v.c*R;for(e(x<=v.l.o);0<K;){var oe=16<K?16:K,ue=v.l.ma,ye=v.l.width,Me=ye*oe,nt=ue.ca,Et=ue.tb+ye*R,It=v.Ta,ht=v.Ua;_h(v,oe,$,re),r9(It,ht,nt,Et,Me),Df(ue,R,R+oe,nt,Et,ye),K-=oe,$+=oe*v.c,R+=oe}e(R==x),v.C=v.Ma=x}function SC(){this.ub=this.yd=this.td=this.Rb=0}function xC(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function DC(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function N5(){var v;this.Yb=(function x(R,K,$){for(var re=$[K],oe=0;oe<re&&(R.push($.length>K+1?[]:0),!($.length<K+1));oe++)x(R[oe],K+1,$)}(v=[],0,[3,11]),v)}function $3(){this.jb=s(3),this.Wc=a([4,8],N5),this.Xc=a([4,17],N5)}function Y3(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function TC(){this.ld=this.La=this.dd=this.tc=0}function P5(){this.Na=this.la=0}function Z3(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ZS(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function X3(){this.uc=this.M=this.Nb=0,this.wa=Array(new TC),this.Y=0,this.ya=Array(new ZS),this.aa=0,this.l=new FC}function O5(){this.y=s(16),this.f=s(8),this.ea=s(8)}function J3(){this.cb=this.a=0,this.sc="",this.m=new vn,this.Od=new SC,this.Kc=new xC,this.ed=new Y3,this.Qa=new DC,this.Ic=this.$c=this.Aa=0,this.D=new X3,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,vn),this.ia=0,this.pb=o(4,Z3),this.Pa=new $3,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new O5),this.Hd=0,this.rb=Array(new P5),this.sb=0,this.wa=Array(new TC),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ZS),this.L=this.aa=0,this.gd=a([4,2],TC),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function FC(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function eQ(){var v=new J3;return null!=v&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,w2||(w2=k5)),v}function Fa(v,x,R){return 0==v.a&&(v.a=x,v.sc=R,v.cb=0),0}function L5(v,x,R){return 3<=R&&157==v[x+0]&&1==v[x+1]&&42==v[x+2]}function R5(v,x){if(null==v)return 0;if(v.a=0,v.sc="OK",null==x)return Fa(v,2,"null VP8Io passed to VP8GetHeaders()");var R=x.data,K=x.w,$=x.ha;if(4>$)return Fa(v,7,"Truncated header.");var re=R[K+0]|R[K+1]<<8|R[K+2]<<16,oe=v.Od;if(oe.Rb=!(1&re),oe.td=re>>1&7,oe.yd=re>>4&1,oe.ub=re>>5,3<oe.td)return Fa(v,3,"Incorrect keyframe parameters.");if(!oe.yd)return Fa(v,4,"Frame not displayable.");K+=3,$-=3;var ue=v.Kc;if(oe.Rb){if(7>$)return Fa(v,7,"cannot parse picture header");if(!L5(R,K,$))return Fa(v,3,"Bad code word");ue.c=16383&(R[K+4]<<8|R[K+3]),ue.Td=R[K+4]>>6,ue.i=16383&(R[K+6]<<8|R[K+5]),ue.Ud=R[K+6]>>6,K+=7,$-=7,v.za=ue.c+15>>4,v.Ub=ue.i+15>>4,x.width=ue.c,x.height=ue.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((re=v.Pa).jb,0,255,re.jb.length),e(null!=(re=v.Qa)),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(oe.ub>$)return Fa(v,7,"bad partition length");Ct(re=v.m,R,K,oe.ub),K+=oe.ub,$-=oe.ub,oe.Rb&&(ue.Ld=Dt(re),ue.Kd=Dt(re)),ue=v.Qa;var ye,Me=v.Pa;if(e(null!=re),e(null!=ue),ue.Cb=Dt(re),ue.Cb){if(ue.Bb=Dt(re),Dt(re)){for(ue.Fb=Dt(re),ye=0;4>ye;++ye)ue.Zb[ye]=Dt(re)?st(re,7):0;for(ye=0;4>ye;++ye)ue.Lb[ye]=Dt(re)?st(re,6):0}if(ue.Bb)for(ye=0;3>ye;++ye)Me.jb[ye]=Dt(re)?ze(re,8):255}else ue.Bb=0;if(re.Ka)return Fa(v,3,"cannot parse segment header");if((ue=v.ed).zd=Dt(re),ue.Tb=ze(re,6),ue.wb=ze(re,3),ue.Pc=Dt(re),ue.Pc&&Dt(re)){for(Me=0;4>Me;++Me)Dt(re)&&(ue.vd[Me]=st(re,6));for(Me=0;4>Me;++Me)Dt(re)&&(ue.od[Me]=st(re,6))}if(v.L=0==ue.Tb?0:ue.zd?1:2,re.Ka)return Fa(v,3,"cannot parse filter header");var nt=$;if($=ye=K,K=ye+nt,ue=nt,v.Xb=(1<<ze(v.m,2))-1,nt<3*(Me=v.Xb))R=7;else{for(ye+=3*Me,ue-=3*Me,nt=0;nt<Me;++nt){var Et=R[$+0]|R[$+1]<<8|R[$+2]<<16;Et>ue&&(Et=ue),Ct(v.Jc[+nt],R,ye,Et),ye+=Et,ue-=Et,$+=3}Ct(v.Jc[+Me],R,ye,ue),R=ye<K?0:5}if(0!=R)return Fa(v,R,"cannot parse partitions");for(R=ze(ye=v.m,7),$=Dt(ye)?st(ye,4):0,K=Dt(ye)?st(ye,4):0,ue=Dt(ye)?st(ye,4):0,Me=Dt(ye)?st(ye,4):0,ye=Dt(ye)?st(ye,4):0,nt=v.Qa,Et=0;4>Et;++Et){if(nt.Cb){var It=nt.Zb[Et];nt.Fb||(It+=R)}else{if(0<Et){v.pb[Et]=v.pb[0];continue}It=R}var ht=v.pb[Et];ht.Sc[0]=SQ[wh(It+$,127)],ht.Sc[1]=xQ[wh(It+0,127)],ht.Eb[0]=2*SQ[wh(It+K,127)],ht.Eb[1]=101581*xQ[wh(It+ue,127)]>>16,8>ht.Eb[1]&&(ht.Eb[1]=8),ht.Qc[0]=SQ[wh(It+Me,117)],ht.Qc[1]=xQ[wh(It+ye,127)],ht.lc=It+ye}if(!oe.Rb)return Fa(v,4,"Not a key frame.");for(Dt(re),oe=v.Pa,R=0;4>R;++R){for($=0;8>$;++$)for(K=0;3>K;++K)for(ue=0;11>ue;++ue)Me=Ft(re,Uue[R][$][K][ue])?ze(re,8):Rue[R][$][K][ue],oe.Wc[R][$].Yb[K][ue]=Me;for($=0;17>$;++$)oe.Xc[R][$]=oe.Wc[R][Que[$]]}return v.kc=Dt(re),v.kc&&(v.Bd=ze(re,8)),v.cb=1}function k5(v,x,R,K,$,re,oe){var ue=x[$].Yb[R];for(R=0;16>$;++$){if(!Ft(v,ue[R+0]))return $;for(;!Ft(v,ue[R+1]);)if(ue=x[++$].Yb[0],R=0,16==$)return 16;var ye=x[$+1].Yb;if(Ft(v,ue[R+2])){var Me=v,nt=0;if(Ft(Me,(It=ue)[(Et=R)+3]))if(Ft(Me,It[Et+6])){for(ue=0,Et=2*(nt=Ft(Me,It[Et+8]))+(It=Ft(Me,It[Et+9+nt])),nt=0,It=Oue[Et];It[ue];++ue)nt+=nt+Ft(Me,It[ue]);nt+=3+(8<<Et)}else Ft(Me,It[Et+7])?(nt=7+2*Ft(Me,165),nt+=Ft(Me,145)):nt=5+Ft(Me,159);else nt=Ft(Me,It[Et+4])?3+Ft(Me,It[Et+5]):2;ue=ye[2]}else nt=1,ue=ye[1];ye=oe+Lue[$],0>(Me=v).b&&bt(Me);var Et,It=Me.b,ht=(Et=Me.Ca>>1)-(Me.I>>It)>>31;--Me.b,Me.Ca+=ht,Me.Ca|=1,Me.I-=(Et+1&ht)<<It,re[ye]=((nt^ht)-ht)*K[(0<$)+0]}return 16}function XS(v){var x=v.rb[v.sb-1];x.la=0,x.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function Mf(v,x,R,K,$){v[x+R+32*K]=-256&($=v[x+R+32*K]+($>>3))?0>$?0:255:$}function MC(v,x,R,K,$,re){Mf(v,x,0,R,K+$),Mf(v,x,1,R,K+re),Mf(v,x,2,R,K-re),Mf(v,x,3,R,K-$)}function BA(v){return(20091*v>>16)+v}function JS(v,x,R,K){var $,re=0,oe=s(16);for($=0;4>$;++$){var ue=v[x+0]+v[x+8],ye=v[x+0]-v[x+8],Me=(35468*v[x+4]>>16)-BA(v[x+12]),nt=BA(v[x+4])+(35468*v[x+12]>>16);oe[re+0]=ue+nt,oe[re+1]=ye+Me,oe[re+2]=ye-Me,oe[re+3]=ue-nt,re+=4,x++}for($=re=0;4>$;++$)ue=(v=oe[re+0]+4)+oe[re+8],ye=v-oe[re+8],Me=(35468*oe[re+4]>>16)-BA(oe[re+12]),Mf(R,K,0,0,ue+(nt=BA(oe[re+4])+(35468*oe[re+12]>>16))),Mf(R,K,1,0,ye+Me),Mf(R,K,2,0,ye-Me),Mf(R,K,3,0,ue-nt),re++,K+=32}function U5(v,x,R,K){var $=v[x+0]+4,re=35468*v[x+4]>>16,oe=BA(v[x+4]),ue=35468*v[x+1]>>16;MC(R,K,0,$+oe,v=BA(v[x+1]),ue),MC(R,K,1,$+re,v,ue),MC(R,K,2,$-re,v,ue),MC(R,K,3,$-oe,v,ue)}function nQ(v,x,R,K,$){JS(v,x,R,K),$&&JS(v,x+16,R,K+4)}function Q5(v,x,R,K){WC(v,x+0,R,K,1),WC(v,x+32,R,K+128,1)}function rQ(v,x,R,K){var $;for(v=v[x+0]+4,$=0;4>$;++$)for(x=0;4>x;++x)Mf(R,K,x,$,v)}function H5(v,x,R,K){v[x+0]&&kf(v,x+0,R,K),v[x+16]&&kf(v,x+16,R,K+4),v[x+32]&&kf(v,x+32,R,K+128),v[x+48]&&kf(v,x+48,R,K+128+4)}function iQ(v,x,R,K){var $,re=s(16);for($=0;4>$;++$){var oe=v[x+0+$]+v[x+12+$],ue=v[x+4+$]+v[x+8+$],ye=v[x+4+$]-v[x+8+$],Me=v[x+0+$]-v[x+12+$];re[0+$]=oe+ue,re[8+$]=oe-ue,re[4+$]=Me+ye,re[12+$]=Me-ye}for($=0;4>$;++$)oe=(v=re[0+4*$]+3)+re[3+4*$],ye=re[1+4*$]-re[2+4*$],Me=v-re[3+4*$],R[K+0]=oe+(ue=re[1+4*$]+re[2+4*$])>>3,R[K+16]=Me+ye>>3,R[K+32]=oe-ue>>3,R[K+48]=Me-ye>>3,K+=64}function e2(v,x,R){var K,$=x-32,re=bh,oe=255-v[$-1];for(K=0;K<R;++K){var ue,ye=re,Me=oe+v[x-1];for(ue=0;ue<R;++ue)v[x+ue]=ye[Me+v[$+ue]];x+=32}}function sQ(v,x){e2(v,x,4)}function oQ(v,x){e2(v,x,8)}function aQ(v,x){e2(v,x,16)}function Mm(v,x){var R;for(R=0;16>R;++R)r(v,x+32*R,v,x-32,16)}function NC(v,x){var R;for(R=16;0<R;--R)i(v,x,v[x-1],16),x+=32}function PC(v,x,R){var K;for(K=0;16>K;++K)i(x,R+32*K,v,16)}function V5(v,x){var R,K=16;for(R=0;16>R;++R)K+=v[x-1+32*R]+v[x+R-32];PC(K>>5,v,x)}function zc(v,x){var R,K=8;for(R=0;16>R;++R)K+=v[x-1+32*R];PC(K>>4,v,x)}function lQ(v,x){var R,K=8;for(R=0;16>R;++R)K+=v[x+R-32];PC(K>>4,v,x)}function j5(v,x){PC(128,v,x)}function Yr(v,x,R){return v+2*x+R+2>>2}function cQ(v,x){var R,K=x-32;for(K=new Uint8Array([Yr(v[K-1],v[K+0],v[K+1]),Yr(v[K+0],v[K+1],v[K+2]),Yr(v[K+1],v[K+2],v[K+3]),Yr(v[K+2],v[K+3],v[K+4])]),R=0;4>R;++R)r(v,x+32*R,K,0,K.length)}function uQ(v,x){var R=v[x-1],K=v[x-1+32],$=v[x-1+64],re=v[x-1+96];fn(v,x+0,16843009*Yr(v[x-1-32],R,K)),fn(v,x+32,16843009*Yr(R,K,$)),fn(v,x+64,16843009*Yr(K,$,re)),fn(v,x+96,16843009*Yr($,re,re))}function Ag(v,x){var R,K=4;for(R=0;4>R;++R)K+=v[x+R-32]+v[x-1+32*R];for(K>>=3,R=0;4>R;++R)i(v,x+32*R,K,4)}function K5(v,x){var R=v[x-1+0],K=v[x-1+32],$=v[x-1+64],re=v[x-1-32],oe=v[x+0-32],ue=v[x+1-32],ye=v[x+2-32],Me=v[x+3-32];v[x+0+96]=Yr(K,$,v[x-1+96]),v[x+1+96]=v[x+0+64]=Yr(R,K,$),v[x+2+96]=v[x+1+64]=v[x+0+32]=Yr(re,R,K),v[x+3+96]=v[x+2+64]=v[x+1+32]=v[x+0+0]=Yr(oe,re,R),v[x+3+64]=v[x+2+32]=v[x+1+0]=Yr(ue,oe,re),v[x+3+32]=v[x+2+0]=Yr(ye,ue,oe),v[x+3+0]=Yr(Me,ye,ue)}function G5(v,x){var R=v[x+1-32],K=v[x+2-32],$=v[x+3-32],re=v[x+4-32],oe=v[x+5-32],ue=v[x+6-32],ye=v[x+7-32];v[x+0+0]=Yr(v[x+0-32],R,K),v[x+1+0]=v[x+0+32]=Yr(R,K,$),v[x+2+0]=v[x+1+32]=v[x+0+64]=Yr(K,$,re),v[x+3+0]=v[x+2+32]=v[x+1+64]=v[x+0+96]=Yr($,re,oe),v[x+3+32]=v[x+2+64]=v[x+1+96]=Yr(re,oe,ue),v[x+3+64]=v[x+2+96]=Yr(oe,ue,ye),v[x+3+96]=Yr(ue,ye,ye)}function OC(v,x){var R=v[x-1+0],K=v[x-1+32],$=v[x-1+64],re=v[x-1-32],oe=v[x+0-32],ue=v[x+1-32],ye=v[x+2-32],Me=v[x+3-32];v[x+0+0]=v[x+1+64]=re+oe+1>>1,v[x+1+0]=v[x+2+64]=oe+ue+1>>1,v[x+2+0]=v[x+3+64]=ue+ye+1>>1,v[x+3+0]=ye+Me+1>>1,v[x+0+96]=Yr($,K,R),v[x+0+64]=Yr(K,R,re),v[x+0+32]=v[x+1+96]=Yr(R,re,oe),v[x+1+32]=v[x+2+96]=Yr(re,oe,ue),v[x+2+32]=v[x+3+96]=Yr(oe,ue,ye),v[x+3+32]=Yr(ue,ye,Me)}function t2(v,x){var R=v[x+0-32],K=v[x+1-32],$=v[x+2-32],re=v[x+3-32],oe=v[x+4-32],ue=v[x+5-32],ye=v[x+6-32],Me=v[x+7-32];v[x+0+0]=R+K+1>>1,v[x+1+0]=v[x+0+64]=K+$+1>>1,v[x+2+0]=v[x+1+64]=$+re+1>>1,v[x+3+0]=v[x+2+64]=re+oe+1>>1,v[x+0+32]=Yr(R,K,$),v[x+1+32]=v[x+0+96]=Yr(K,$,re),v[x+2+32]=v[x+1+96]=Yr($,re,oe),v[x+3+32]=v[x+2+96]=Yr(re,oe,ue),v[x+3+64]=Yr(oe,ue,ye),v[x+3+96]=Yr(ue,ye,Me)}function AQ(v,x){var R=v[x-1+0],K=v[x-1+32],$=v[x-1+64],re=v[x-1+96];v[x+0+0]=R+K+1>>1,v[x+2+0]=v[x+0+32]=K+$+1>>1,v[x+2+32]=v[x+0+64]=$+re+1>>1,v[x+1+0]=Yr(R,K,$),v[x+3+0]=v[x+1+32]=Yr(K,$,re),v[x+3+32]=v[x+1+64]=Yr($,re,re),v[x+3+64]=v[x+2+64]=v[x+0+96]=v[x+1+96]=v[x+2+96]=v[x+3+96]=re}function hQ(v,x){var R=v[x-1+0],K=v[x-1+32],$=v[x-1+64],re=v[x-1+96],oe=v[x-1-32],ue=v[x+0-32],ye=v[x+1-32],Me=v[x+2-32];v[x+0+0]=v[x+2+32]=R+oe+1>>1,v[x+0+32]=v[x+2+64]=K+R+1>>1,v[x+0+64]=v[x+2+96]=$+K+1>>1,v[x+0+96]=re+$+1>>1,v[x+3+0]=Yr(ue,ye,Me),v[x+2+0]=Yr(oe,ue,ye),v[x+1+0]=v[x+3+32]=Yr(R,oe,ue),v[x+1+32]=v[x+3+64]=Yr(K,R,oe),v[x+1+64]=v[x+3+96]=Yr($,K,R),v[x+1+96]=Yr(re,$,K)}function dQ(v,x){var R;for(R=0;8>R;++R)r(v,x+32*R,v,x-32,8)}function n2(v,x){var R;for(R=0;8>R;++R)i(v,x,v[x-1],8),x+=32}function mw(v,x,R){var K;for(K=0;8>K;++K)i(x,R+32*K,v,8)}function H0(v,x){var R,K=8;for(R=0;8>R;++R)K+=v[x+R-32]+v[x-1+32*R];mw(K>>4,v,x)}function fQ(v,x){var R,K=4;for(R=0;8>R;++R)K+=v[x+R-32];mw(K>>3,v,x)}function yw(v,x){var R,K=4;for(R=0;8>R;++R)K+=v[x-1+32*R];mw(K>>3,v,x)}function r2(v,x){mw(128,v,x)}function LC(v,x,R){var K=v[x-R],$=v[x+0],re=3*($-K)+bQ[1020+v[x-2*R]-v[x+R]],oe=tN[112+(re+4>>3)];v[x-R]=bh[255+K+tN[112+(re+3>>3)]],v[x+0]=bh[255+$-oe]}function W5(v,x,R,K){return Ad[255+v[x-2*R]-v[x-R]]>K||Ad[255+v[x+R]-v[x+0]]>K}function z5(v,x,R,K){return 4*Ad[255+v[x-R]-v[x+0]]+Ad[255+v[x-2*R]-v[x+R]]<=K}function q5(v,x,R,K,$){var re=v[x-3*R],oe=v[x-2*R],ue=v[x-R],ye=v[x+0],Me=v[x+R],nt=v[x+2*R];return 4*Ad[255+ue-ye]+Ad[255+oe-Me]>K?0:Ad[255+v[x-4*R]-re]<=$&&Ad[255+re-oe]<=$&&Ad[255+oe-ue]<=$&&Ad[255+v[x+3*R]-nt]<=$&&Ad[255+nt-Me]<=$&&Ad[255+Me-ye]<=$}function $5(v,x,R,K){var $=2*K+1;for(K=0;16>K;++K)z5(v,x+K,R,$)&&LC(v,x+K,R)}function Nm(v,x,R,K){var $=2*K+1;for(K=0;16>K;++K)z5(v,x+K*R,1,$)&&LC(v,x+K*R,1)}function V0(v,x,R,K){var $;for($=3;0<$;--$)$5(v,x+=4*R,R,K)}function pQ(v,x,R,K){var $;for($=3;0<$;--$)Nm(v,x+=4,R,K)}function j0(v,x,R,K,$,re,oe,ue){for(re=2*re+1;0<$--;){if(q5(v,x,R,re,oe))if(W5(v,x,R,ue))LC(v,x,R);else{var ye=v,Me=x,nt=R,Et=ye[Me-2*nt],It=ye[Me-nt],ht=ye[Me+0],Xt=ye[Me+nt],Qt=ye[Me+2*nt],rt=27*(qt=bQ[1020+3*(ht-It)+bQ[1020+Et-Xt]])+63>>7,ot=18*qt+63>>7,qt=9*qt+63>>7;ye[Me-3*nt]=bh[255+ye[Me-3*nt]+qt],ye[Me-2*nt]=bh[255+Et+ot],ye[Me-nt]=bh[255+It+rt],ye[Me+0]=bh[255+ht-rt],ye[Me+nt]=bh[255+Xt-ot],ye[Me+2*nt]=bh[255+Qt-qt]}x+=K}}function Nf(v,x,R,K,$,re,oe,ue){for(re=2*re+1;0<$--;){if(q5(v,x,R,re,oe))if(W5(v,x,R,ue))LC(v,x,R);else{var ye=v,Me=x,nt=R,Et=ye[Me-nt],It=ye[Me+0],ht=ye[Me+nt],Xt=tN[112+(4+(Qt=3*(It-Et))>>3)],Qt=tN[112+(Qt+3>>3)],rt=Xt+1>>1;ye[Me-2*nt]=bh[255+ye[Me-2*nt]+rt],ye[Me-nt]=bh[255+Et+Qt],ye[Me+0]=bh[255+It-Xt],ye[Me+nt]=bh[255+ht-rt]}x+=K}}function s2(v,x,R,K,$,re){j0(v,x,R,1,16,K,$,re)}function vw(v,x,R,K,$,re){j0(v,x,1,R,16,K,$,re)}function gQ(v,x,R,K,$,re){var oe;for(oe=3;0<oe;--oe)Nf(v,x+=4*R,R,1,16,K,$,re)}function RC(v,x,R,K,$,re){var oe;for(oe=3;0<oe;--oe)Nf(v,x+=4,1,R,16,K,$,re)}function mQ(v,x,R,K,$,re,oe,ue){j0(v,x,$,1,8,re,oe,ue),j0(R,K,$,1,8,re,oe,ue)}function o2(v,x,R,K,$,re,oe,ue){j0(v,x,1,$,8,re,oe,ue),j0(R,K,1,$,8,re,oe,ue)}function a2(v,x,R,K,$,re,oe,ue){Nf(v,x+4*$,$,1,8,re,oe,ue),Nf(R,K+4*$,$,1,8,re,oe,ue)}function Y5(v,x,R,K,$,re,oe,ue){Nf(v,x+4,1,$,8,re,oe,ue),Nf(R,K+4,1,$,8,re,oe,ue)}function kC(){this.ba=new Sf,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ga,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function l2(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function c2(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Z5(){this.ua=0,this.Wa=new Ge,this.vb=new Ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ke,this.yc=new me}function yQ(){this.xb=this.a=0,this.l=new FC,this.ca=new Sf,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new te,this.Pb=0,this.wd=new te,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Z5,this.ab=0,this.gc=o(4,c2),this.Oc=0}function UC(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new FC,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _w(v,x,R,K,$,re,oe){for(v=null==v?0:v[x+0],x=0;x<oe;++x)$[re+x]=v+R[K+x]&255,v=$[re+x]}function u2(v,x,R,K,$,re,oe){var ue;if(null==v)_w(null,null,R,K,$,re,oe);else for(ue=0;ue<oe;++ue)$[re+ue]=v[x+ue]+R[K+ue]&255}function K0(v,x,R,K,$,re,oe){if(null==v)_w(null,null,R,K,$,re,oe);else{var ue,ye=v[x+0],Me=ye,nt=ye;for(ue=0;ue<oe;++ue)Me=nt+(ye=v[x+ue])-Me,nt=R[K+ue]+(-256&Me?0>Me?0:255:Me)&255,Me=ye,$[re+ue]=nt}}function A2(v,x,R,K){var $=x.width,re=x.o;if(e(null!=v&&null!=x),0>R||0>=K||R+K>re)return null;if(!v.Cc){if(null==v.ga){var oe;if(v.ga=new UC,(oe=null==v.ga)||(oe=x.width*x.o,e(0==v.Gb.length),v.Gb=s(oe),v.Uc=0,null==v.Gb?oe=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,oe=1),oe=!oe),!oe){var ue=v.Fa,ye=v.P,Me=v.qc,nt=v.mb,Et=v.nb,It=ye+1,ht=Me-1,Xt=(oe=v.ga).l;if(e(null!=ue&&null!=nt&&null!=x),Z0[0]=null,Z0[1]=_w,Z0[2]=u2,Z0[3]=K0,oe.ca=nt,oe.tb=Et,oe.c=x.width,oe.i=x.height,e(0<oe.c&&0<oe.i),1>=Me)x=0;else if(oe.$a=ue[ye+0]>>0&3,oe.Z=ue[ye+0]>>2&3,oe.Lc=ue[ye+0]>>4&3,ye=ue[ye+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||ye)x=0;else if(Xt.put=og,Xt.ac=yc,Xt.bc=ag,Xt.ma=oe,Xt.width=x.width,Xt.height=x.height,Xt.Da=x.Da,Xt.v=x.v,Xt.va=x.va,Xt.j=x.j,Xt.o=x.o,oe.$a)e:{e(1==oe.$a),x=ld();t:for(;;){if(null==x){x=0;break e}if(e(null!=oe),oe.mc=x,x.c=oe.c,x.i=oe.i,x.l=oe.l,x.l.ma=oe,x.l.width=oe.c,x.l.height=oe.i,x.a=0,Ze(x.m,ue,It,ht),!ug(oe.c,oe.i,1,x,null)||(1==x.ab&&3==x.gc[0].hc&&Fm(x.s)?(oe.ic=1,ue=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(ue),x.Ba=0,null==x.V?(x.a=1,x=0):x=1):(oe.ic=0,x=gw(x,oe.c)),!x))break t;x=1;break e}oe.mc=null,x=0}else x=ht>=oe.c*oe.i;oe=!x}if(oe)return null;1!=v.ga.Lc?v.Ga=0:K=re-R}e(null!=v.ga),e(R+K<=re);e:{if(x=(ue=v.ga).c,re=ue.l.o,0==ue.$a){if(It=v.rc,ht=v.Vc,Xt=v.Fa,Me=v.mb,nt=v.nb+R*x,e((ye=v.P+1+R*x)<=v.P+v.qc),0!=ue.Z)for(e(null!=Z0[ue.Z]),oe=0;oe<K;++oe)Z0[ue.Z](It,ht,Xt,ye,Me,nt,x),It=Me,ht=nt,nt+=x,ye+=x;else for(oe=0;oe<K;++oe)r(Me,nt,Xt,ye,x),It=Me,ht=nt,nt+=x,ye+=x;v.rc=It,v.Vc=ht}else{if(e(null!=ue.mc),x=R+K,e(null!=(oe=ue.mc)),e(x<=oe.i),oe.C>=x)x=1;else if(ue.ic||vt(),ue.ic){ue=oe.V,It=oe.Ba;var Qt=oe.i,rt=(Xt=1,ye=oe.$/(ht=oe.c),Me=oe.$%ht,nt=oe.m,Et=oe.s,oe.$),ot=ht*Qt,qt=ht*x,rn=Et.wc,Zt=rt<qt?za(Et,Me,ye):null;e(rt<=ot),e(x<=Qt),e(Fm(Et));t:for(;;){for(;!nt.h&&rt<qt;){if(Me&rn||(Zt=za(Et,Me,ye)),e(null!=Zt),At(nt),256>(Qt=IA(Zt.G[0],Zt.H[0],nt)))ue[It+rt]=Qt,++rt,++Me>=ht&&(Me=0,++ye<=x&&!(ye%16)&&Tf(oe,ye));else{if(!(280>Qt)){Xt=0;break t}Qt=xf(Qt-256,nt);var Wn,xn=IA(Zt.G[4],Zt.H[4],nt);if(At(nt),!(rt>=(xn=lg(ht,xn=xf(xn,nt)))&&ot-rt>=Qt)){Xt=0;break t}for(Wn=0;Wn<Qt;++Wn)ue[It+rt+Wn]=ue[It+rt+Wn-xn];for(rt+=Qt,Me+=Qt;Me>=ht;)Me-=ht,++ye<=x&&!(ye%16)&&Tf(oe,ye);rt<qt&&Me&rn&&(Zt=za(Et,Me,ye))}e(nt.h==Le(nt))}Tf(oe,ye>x?x:ye);break t}!Xt||nt.h&&rt<ot?(Xt=0,oe.a=nt.h?5:3):oe.$=rt,x=Xt}else x=Ff(oe,oe.V,oe.Ba,oe.c,oe.i,x,BC);if(!x){K=0;break e}}R+K>=re&&(v.Cc=1),K=1}if(!K)return null;if(v.Cc&&(null!=(K=v.ga)&&(K.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+R*$}function N(v,x,R,K,$,re){for(;0<$--;){var oe,ue=v,ye=x+(R?1:0),Me=v,nt=x+(R?0:3);for(oe=0;oe<K;++oe){var Et=Me[nt+4*oe];255!=Et&&(ue[ye+4*oe+0]=ue[ye+4*oe+0]*(Et*=32897)>>23,ue[ye+4*oe+1]=ue[ye+4*oe+1]*Et>>23,ue[ye+4*oe+2]=ue[ye+4*oe+2]*Et>>23)}x+=re}}function Y(v,x,R,K,$){for(;0<K--;){var re;for(re=0;re<R;++re){var oe=v[x+2*re+0],ue=15&(Me=v[x+2*re+1]),ye=4369*ue,Me=(240&Me|Me>>4)*ye>>16;v[x+2*re+0]=(240&oe|oe>>4)*ye>>16&240|(15&oe|oe<<4)*ye>>16>>4&15,v[x+2*re+1]=240&Me|ue}x+=$}}function ke(v,x,R,K,$,re,oe,ue){var ye,Me,nt=255;for(Me=0;Me<$;++Me){for(ye=0;ye<K;++ye){var Et=v[x+ye];re[oe+4*ye]=Et,nt&=Et}x+=R,oe+=ue}return 255!=nt}function Xe(v,x,R,K,$){var re;for(re=0;re<$;++re)R[K+re]=v[x+re]>>8}function vt(){$0=N,qC=Y,eN=ke,r9=Xe}function Gt(v,x,R){Ce[v]=function(K,$,re,oe,ue,ye,Me,nt,Et,It,ht,Xt,Qt,rt,ot,qt,rn){var Zt,Wn=rn-1>>1,xn=ue[ye+0]|Me[nt+0]<<16,Mr=Et[It+0]|ht[Xt+0]<<16;e(null!=K);var Pn=3*xn+Mr+131074>>2;for(x(K[$+0],255&Pn,Pn>>16,Qt,rt),null!=re&&x(re[oe+0],255&(Pn=3*Mr+xn+131074>>2),Pn>>16,ot,qt),Zt=1;Zt<=Wn;++Zt){var as=ue[ye+Zt]|Me[nt+Zt]<<16,Ss=Et[It+Zt]|ht[Xt+Zt]<<16,Xi=xn+as+Mr+Ss+524296,Ri=Xi+2*(as+Mr)>>3;Pn=Ri+xn>>1,xn=(Xi=Xi+2*(xn+Ss)>>3)+as>>1,x(K[$+2*Zt-1],255&Pn,Pn>>16,Qt,rt+(2*Zt-1)*R),x(K[$+2*Zt-0],255&xn,xn>>16,Qt,rt+(2*Zt-0)*R),null!=re&&(xn=Ri+Ss>>1,x(re[oe+2*Zt-1],255&(Pn=Xi+Mr>>1),Pn>>16,ot,qt+(2*Zt-1)*R),x(re[oe+2*Zt+0],255&xn,xn>>16,ot,qt+(2*Zt+0)*R)),xn=as,Mr=Ss}1&rn||(x(K[$+rn-1],255&(Pn=3*xn+Mr+131074>>2),Pn>>16,Qt,rt+(rn-1)*R),null!=re&&x(re[oe+rn-1],255&(Pn=3*Mr+xn+131074>>2),Pn>>16,ot,qt+(rn-1)*R))}}function cn(){hd[nN]=Vue,hd[rN]=f9,hd[c9]=jue,hd[iN]=p9,hd[sN]=g9,hd[CQ]=m9,hd[u9]=Kue,hd[EQ]=f9,hd[IQ]=p9,hd[oN]=g9,hd[BQ]=m9}function Gn(v){return v&~Gue?0>v?0:255:v>>y9}function Br(v,x){return Gn((19077*v>>8)+(26149*x>>8)-14234)}function ii(v,x,R){return Gn((19077*v>>8)-(6419*x>>8)-(13320*R>>8)+8708)}function wi(v,x){return Gn((19077*v>>8)+(33050*x>>8)-17685)}function zi(v,x,R,K,$){K[$+0]=Br(v,R),K[$+1]=ii(v,x,R),K[$+2]=wi(v,x)}function Zo(v,x,R,K,$){K[$+0]=wi(v,x),K[$+1]=ii(v,x,R),K[$+2]=Br(v,R)}function ma(v,x,R,K,$){var re=ii(v,x,R);x=re<<3&224|wi(v,x)>>3,K[$+0]=248&Br(v,R)|re>>5,K[$+1]=x}function qa(v,x,R,K,$){var re=240&wi(v,x)|15;K[$+0]=240&Br(v,R)|ii(v,x,R)>>4,K[$+1]=re}function qc(v,x,R,K,$){K[$+0]=255,zi(v,x,R,K,$+1)}function zl(v,x,R,K,$){Zo(v,x,R,K,$),K[$+3]=255}function Pf(v,x,R,K,$){zi(v,x,R,K,$),K[$+3]=255}function wh(v,x){return 0>v?0:v>x?x:v}function Pm(v,x,R){Ce[v]=function(K,$,re,oe,ue,ye,Me,nt,Et){for(var It=nt+(-2&Et)*R;nt!=It;)x(K[$+0],re[oe+0],ue[ye+0],Me,nt),x(K[$+1],re[oe+0],ue[ye+0],Me,nt+R),$+=2,++oe,++ye,nt+=2*R;1&Et&&x(K[$+0],re[oe+0],ue[ye+0],Me,nt)}}function X5(v,x,R){return 0==R?0==v?0==x?6:5:0==x?4:0:R}function h2(v,x,R,K,$){switch(v>>>30){case 3:WC(x,R,K,$,0);break;case 2:v2(x,R,K,$);break;case 1:kf(x,R,K,$)}}function d2(v,x){var R,K,$=x.M,re=x.Nb,oe=v.oc,ue=v.pc+40,ye=v.oc,Me=v.pc+584,nt=v.oc,Et=v.pc+600;for(R=0;16>R;++R)oe[ue+32*R-1]=129;for(R=0;8>R;++R)ye[Me+32*R-1]=129,nt[Et+32*R-1]=129;for(0<$?oe[ue-1-32]=ye[Me-1-32]=nt[Et-1-32]=129:(i(oe,ue-32-1,127,21),i(ye,Me-32-1,127,9),i(nt,Et-32-1,127,9)),K=0;K<v.za;++K){var It=x.ya[x.aa+K];if(0<K){for(R=-1;16>R;++R)r(oe,ue+32*R-4,oe,ue+32*R+12,4);for(R=-1;8>R;++R)r(ye,Me+32*R-4,ye,Me+32*R+4,4),r(nt,Et+32*R-4,nt,Et+32*R+4,4)}var ht=v.Gd,Xt=v.Hd+K,Qt=It.ad,rt=It.Hc;if(0<$&&(r(oe,ue-32,ht[Xt].y,0,16),r(ye,Me-32,ht[Xt].f,0,8),r(nt,Et-32,ht[Xt].ea,0,8)),It.Za){var ot=oe,qt=ue-32+16;for(0<$&&(K>=v.za-1?i(ot,qt,ht[Xt].y[15],4):r(ot,qt,ht[Xt+1].y,0,4)),R=0;4>R;R++)ot[qt+128+R]=ot[qt+256+R]=ot[qt+384+R]=ot[qt+0+R];for(R=0;16>R;++R,rt<<=2)Uf[It.Ob[R]](ot=oe,qt=ue+_9[R]),h2(rt,Qt,16*+R,ot,qt)}else if(ot=X5(K,$,It.Ob[0]),Y0[ot](oe,ue),0!=rt)for(R=0;16>R;++R,rt<<=2)h2(rt,Qt,16*+R,oe,ue+_9[R]);for(R=It.Gc,ot=X5(K,$,It.Dd),Um[ot](ye,Me),Um[ot](nt,Et),rt=Qt,ot=ye,qt=Me,255&(It=R>>0)&&(170&It?z0(rt,256,ot,qt):Lm(rt,256,ot,qt)),It=nt,rt=Et,255&(R>>=8)&&(170&R?z0(Qt,320,It,rt):Lm(Qt,320,It,rt)),$<v.Ub-1&&(r(ht[Xt].y,0,oe,ue+480,16),r(ht[Xt].f,0,ye,Me+224,8),r(ht[Xt].ea,0,nt,Et+224,8)),ht=v.sa,Xt=v.ta+16*K+16*re*v.R,Qt=v.qa,It=v.ra+8*K+(R=8*re*v.B),rt=v.Ha,ot=v.Ia+8*K+R,R=0;16>R;++R)r(ht,Xt+R*v.R,oe,ue+32*R,16);for(R=0;8>R;++R)r(Qt,It+R*v.B,ye,Me+32*R,8),r(rt,ot+R*v.B,nt,Et+32*R,8)}}function QC(v,x,R,K,$,re,oe,ue,ye){var Me=[0],nt=[0],Et=0,It=null!=ye?ye.kd:0,ht=null!=ye?ye:new l2;if(null==v||12>R)return 7;ht.data=v,ht.w=x,ht.ha=R,x=[x],R=[R],ht.gb=[ht.gb];e:{var Xt=x,Qt=R,rt=ht.gb;if(e(null!=v),e(null!=Qt),e(null!=rt),rt[0]=0,12<=Qt[0]&&!t(v,Xt[0],"RIFF")){if(t(v,Xt[0]+8,"WEBP")){rt=3;break e}var ot=$n(v,Xt[0]+4);if(12>ot||4294967286<ot){rt=3;break e}if(It&&ot>Qt[0]-8){rt=7;break e}rt[0]=ot,Xt[0]+=12,Qt[0]-=12}rt=0}if(0!=rt)return rt;for(ot=0<ht.gb[0],R=R[0];;){e:{var qt=v;Qt=x,rt=R;var rn=Me,Zt=nt,Wn=Xt=[0];if((Pn=Et=[Et])[0]=0,8>rt[0])rt=7;else{if(!t(qt,Qt[0],"VP8X")){if(10!=$n(qt,Qt[0]+4)){rt=3;break e}if(18>rt[0]){rt=7;break e}var xn=$n(qt,Qt[0]+8),Mr=1+Kn(qt,Qt[0]+12);if(2147483648<=Mr*(qt=1+Kn(qt,Qt[0]+15))){rt=3;break e}null!=Wn&&(Wn[0]=xn),null!=rn&&(rn[0]=Mr),null!=Zt&&(Zt[0]=qt),Qt[0]+=18,rt[0]-=18,Pn[0]=1}rt=0}}if(Et=Et[0],0!=rt)return rt;if(Qt=!!(2&(Xt=Xt[0])),!ot&&Et)return 3;if(null!=re&&(re[0]=!!(16&Xt)),null!=oe&&(oe[0]=Qt),null!=ue&&(ue[0]=0),oe=Me[0],Xt=nt[0],Et&&Qt&&null==ye){rt=0;break}if(4>R){rt=7;break}if(ot&&Et||!ot&&!Et&&!t(v,x[0],"ALPH")){R=[R],ht.na=[ht.na],ht.P=[ht.P],ht.Sa=[ht.Sa];e:{rt=x,ot=R;var Pn=ht.gb;rn=ht.na,Zt=ht.P,Wn=ht.Sa,Mr=22,e(null!=(xn=v)),e(null!=ot),qt=rt[0];var as=ot[0];for(e(null!=rn),e(null!=Wn),rn[0]=null,Zt[0]=null,Wn[0]=0;;){if(rt[0]=qt,ot[0]=as,8>as){rt=7;break e}var Ss=$n(xn,qt+4);if(4294967286<Ss){rt=3;break e}var Xi=8+Ss+1&-2;if(Mr+=Xi,0<Pn&&Mr>Pn){rt=3;break e}if(!t(xn,qt,"VP8 ")||!t(xn,qt,"VP8L")){rt=0;break e}if(as[0]<Xi){rt=7;break e}t(xn,qt,"ALPH")||(rn[0]=xn,Zt[0]=qt+8,Wn[0]=Ss),qt+=Xi,as-=Xi}}if(R=R[0],ht.na=ht.na[0],ht.P=ht.P[0],ht.Sa=ht.Sa[0],0!=rt)break}R=[R],ht.Ja=[ht.Ja],ht.xa=[ht.xa];e:if(Pn=v,rt=x,ot=R,rn=ht.gb[0],Zt=ht.Ja,Wn=ht.xa,xn=rt[0],qt=!t(Pn,xn,"VP8 "),Mr=!t(Pn,xn,"VP8L"),e(null!=Pn),e(null!=ot),e(null!=Zt),e(null!=Wn),8>ot[0])rt=7;else{if(qt||Mr){if(Pn=$n(Pn,xn+4),12<=rn&&Pn>rn-12){rt=3;break e}if(It&&Pn>ot[0]-8){rt=7;break e}Zt[0]=Pn,rt[0]+=8,ot[0]-=8,Wn[0]=Mr}else Wn[0]=5<=ot[0]&&47==Pn[xn+0]&&!(Pn[xn+4]>>5),Zt[0]=ot[0];rt=0}if(R=R[0],ht.Ja=ht.Ja[0],ht.xa=ht.xa[0],x=x[0],0!=rt)break;if(4294967286<ht.Ja)return 3;if(null==ue||Qt||(ue[0]=ht.xa?2:1),oe=[oe],Xt=[Xt],ht.xa){if(5>R){rt=7;break}ue=oe,It=Xt,Qt=re,null==v||5>R?v=0:5<=R&&47==v[x+0]&&!(v[x+4]>>5)?(ot=[0],Pn=[0],rn=[0],Ze(Zt=new te,v,x,R),Lr(Zt,ot,Pn,rn)?(null!=ue&&(ue[0]=ot[0]),null!=It&&(It[0]=Pn[0]),null!=Qt&&(Qt[0]=rn[0]),v=1):v=0):v=0}else{if(10>R){rt=7;break}ue=Xt,null==v||10>R||!L5(v,x+3,R-3)?v=0:(It=v[x+0]|v[x+1]<<8|v[x+2]<<16,Qt=16383&(v[x+7]<<8|v[x+6]),v=16383&(v[x+9]<<8|v[x+8]),1&It||3<(It>>1&7)||!(It>>4&1)||It>>5>=ht.Ja||!Qt||!v?v=0:(oe&&(oe[0]=Qt),ue&&(ue[0]=v),v=1))}if(!v||(oe=oe[0],Xt=Xt[0],Et&&(Me[0]!=oe||nt[0]!=Xt)))return 3;null!=ye&&(ye[0]=ht,ye.offset=x-ye.w,e(4294967286>x-ye.w),e(ye.offset==ye.ha-R));break}return 0==rt||7==rt&&Et&&null==ye?(null!=re&&(re[0]|=null!=ht.na&&0<ht.na.length),null!=K&&(K[0]=oe),null!=$&&($[0]=Xt),0):rt}function f2(v,x,R){var K=x.width,$=x.height,re=0,oe=0,ue=K,ye=$;if(x.Da=null!=v&&0<v.Da,x.Da&&(ue=v.cd,ye=v.bd,re=v.v,oe=v.j,11>R||(re&=-2,oe&=-2),0>re||0>oe||0>=ue||0>=ye||re+ue>K||oe+ye>$))return 0;if(x.v=re,x.j=oe,x.va=re+ue,x.o=oe+ye,x.U=ue,x.T=ye,x.da=null!=v&&0<v.da,x.da){if(!ri(ue,ye,R=[v.ib],re=[v.hb]))return 0;x.ib=R[0],x.hb=re[0]}return x.ob=null!=v&&v.ob,x.Kb=null==v||!v.Sd,x.da&&(x.ob=x.ib<3*K/4&&x.hb<3*$/4,x.Kb=0),1}function p2(v){if(null==v)return 2;if(11>v.S){var x=v.f.RGBA;x.fb+=(v.height-1)*x.A,x.A=-x.A}else(x=v.f.kb).O+=((v=v.height)-1)*x.fa,x.fa=-x.fa,x.N+=(v-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(v-1>>1)*x.Db,x.Db=-x.Db,null!=x.F&&(x.J+=(v-1)*x.lb,x.lb=-x.lb);return 0}function HC(v,x,R,K){if(null==K||0>=v||0>=x)return 2;if(null!=R){if(R.Da){var $=R.cd,re=R.bd,oe=-2&R.v,ue=-2&R.j;if(0>oe||0>ue||0>=$||0>=re||oe+$>v||ue+re>x)return 2;v=$,x=re}if(R.da){if(!ri(v,x,$=[R.ib],re=[R.hb]))return 2;v=$[0],x=re[0]}}K.width=v,K.height=x;e:{var ye=K.width,Me=K.height;if(v=K.S,0>=ye||0>=Me||!(v>=nN&&13>v))v=2;else{if(0>=K.Rd&&null==K.sd){oe=re=$=x=0;var nt=(ue=ye*w9[v])*Me;if(11>v||(re=(Me+1)/2*(x=(ye+1)/2),12==v&&(oe=($=ye)*Me)),null==(Me=s(nt+2*re+oe))){v=1;break e}K.sd=Me,11>v?((ye=K.f.RGBA).eb=Me,ye.fb=0,ye.A=ue,ye.size=nt):((ye=K.f.kb).y=Me,ye.O=0,ye.fa=ue,ye.Fd=nt,ye.f=Me,ye.N=0+nt,ye.Ab=x,ye.Cd=re,ye.ea=Me,ye.W=0+nt+re,ye.Db=x,ye.Ed=re,12==v&&(ye.F=Me,ye.J=0+nt+2*re),ye.Tc=oe,ye.lb=$)}if(x=1,re=K.width,oe=K.height,($=K.S)>=nN&&13>$)if(11>$)v=K.f.RGBA,x&=(ue=Math.abs(v.A))*(oe-1)+re<=v.size,x&=ue>=re*w9[$],x&=null!=v.eb;else{v=K.f.kb,ue=(re+1)/2,nt=(oe+1)/2,ye=Math.abs(v.fa),Me=Math.abs(v.Ab);var Et=Math.abs(v.Db),It=Math.abs(v.lb);x&=ye*(oe-1)+re<=v.Fd,x&=Me*(nt-1)+ue<=v.Cd,x=(x&=Et*(nt-1)+ue<=v.Ed)&ye>=re&Me>=ue&Et>=ue,x&=null!=v.y,x&=null!=v.f,x&=null!=v.ea,12==$&&(x&=It>=re,x&=It*(oe-1)+re<=v.Tc,x&=null!=v.F)}else x=0;v=x?0:2}}return 0!=v||null!=R&&R.fd&&(v=p2(K)),v}var SA=64,VC=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jC=24,KC=32,g2=8,xA=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Sn("Predictor0","PredictorAdd0"),Ce.Predictor0=function(){return 4278190080},Ce.Predictor1=function(v){return v},Ce.Predictor2=function(v,x,R){return x[R+0]},Ce.Predictor3=function(v,x,R){return x[R+1]},Ce.Predictor4=function(v,x,R){return x[R-1]},Ce.Predictor5=function(v,x,R){return Un(Un(v,x[R+1]),x[R+0])},Ce.Predictor6=function(v,x,R){return Un(v,x[R-1])},Ce.Predictor7=function(v,x,R){return Un(v,x[R+0])},Ce.Predictor8=function(v,x,R){return Un(x[R-1],x[R+0])},Ce.Predictor9=function(v,x,R){return Un(x[R+0],x[R+1])},Ce.Predictor10=function(v,x,R){return Un(Un(v,x[R-1]),Un(x[R+0],x[R+1]))},Ce.Predictor11=function(v,x,R){var K=x[R+0];return 0>=pi(K>>24&255,v>>24&255,(x=x[R-1])>>24&255)+pi(K>>16&255,v>>16&255,x>>16&255)+pi(K>>8&255,v>>8&255,x>>8&255)+pi(255&K,255&v,255&x)?K:v},Ce.Predictor12=function(v,x,R){var K=x[R+0];return(br((v>>24&255)+(K>>24&255)-((x=x[R-1])>>24&255))<<24|br((v>>16&255)+(K>>16&255)-(x>>16&255))<<16|br((v>>8&255)+(K>>8&255)-(x>>8&255))<<8|br((255&v)+(255&K)-(255&x)))>>>0},Ce.Predictor13=function(v,x,R){var K=x[R-1];return(ti((v=Un(v,x[R+0]))>>24&255,K>>24&255)<<24|ti(v>>16&255,K>>16&255)<<16|ti(v>>8&255,K>>8&255)<<8|ti(v>>0&255,K>>0&255))>>>0};var vQ=Ce.PredictorAdd0;Ce.PredictorAdd1=Ei,Sn("Predictor2","PredictorAdd2"),Sn("Predictor3","PredictorAdd3"),Sn("Predictor4","PredictorAdd4"),Sn("Predictor5","PredictorAdd5"),Sn("Predictor6","PredictorAdd6"),Sn("Predictor7","PredictorAdd7"),Sn("Predictor8","PredictorAdd8"),Sn("Predictor9","PredictorAdd9"),Sn("Predictor10","PredictorAdd10"),Sn("Predictor11","PredictorAdd11"),Sn("Predictor12","PredictorAdd12"),Sn("Predictor13","PredictorAdd13");var m2=Ce.PredictorAdd2;Ti("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Ti("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var J5,Of=Ce.ColorIndexInverseTransform,y2=Ce.MapARGB,_Q=Ce.VP8LColorIndexInverseTransformAlpha,wQ=Ce.MapAlpha,G0=Ce.VP8LPredictorsAdd=[];G0.length=16,(Ce.VP8LPredictors=[]).length=16,(Ce.VP8LPredictorsAdd_C=[]).length=16,(Ce.VP8LPredictors_C=[]).length=16;var cd,Lf,W0,hg,Om,GC,Rf,WC,v2,z0,kf,Lm,ww,zC,bw,q0,_2,ud,Rm,Ao,ho,Ma,_l,km,$0,qC,eN,r9,i9=s(511),s9=s(2041),o9=s(225),a9=s(767),l9=0,bQ=s9,tN=o9,bh=a9,Ad=i9,nN=0,rN=1,c9=2,iN=3,sN=4,CQ=5,u9=6,EQ=7,IQ=8,oN=9,BQ=10,xue=[2,3,7],Due=[3,3,11],A9=[280,256,256,256,40],Tue=[0,1,1,1,0],Fue=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mue=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nue=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pue=8,SQ=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xQ=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],w2=null,Oue=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lue=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],h9=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rue=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kue=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Uue=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Que=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Y0=[],Uf=[],Um=[],Hue=1,d9=2,Z0=[],hd=[];Gt("UpsampleRgbLinePair",zi,3),Gt("UpsampleBgrLinePair",Zo,3),Gt("UpsampleRgbaLinePair",Pf,4),Gt("UpsampleBgraLinePair",zl,4),Gt("UpsampleArgbLinePair",qc,4),Gt("UpsampleRgba4444LinePair",qa,2),Gt("UpsampleRgb565LinePair",ma,2);var Vue=Ce.UpsampleRgbLinePair,jue=Ce.UpsampleBgrLinePair,f9=Ce.UpsampleRgbaLinePair,p9=Ce.UpsampleBgraLinePair,g9=Ce.UpsampleArgbLinePair,m9=Ce.UpsampleRgba4444LinePair,Kue=Ce.UpsampleRgb565LinePair,aN=16,lN=1<<aN-1,b2=-227,DQ=482,y9=6,Gue=(256<<y9)-1,v9=0,Wue=s(256),zue=s(256),que=s(256),$ue=s(256),Yue=s(DQ-b2),Zue=s(DQ-b2);Pm("YuvToRgbRow",zi,3),Pm("YuvToBgrRow",Zo,3),Pm("YuvToRgbaRow",Pf,4),Pm("YuvToBgraRow",zl,4),Pm("YuvToArgbRow",qc,4),Pm("YuvToRgba4444Row",qa,2),Pm("YuvToRgb565Row",ma,2);var _9=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cN=[0,2,8],Xue=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(v,x,R,K,$){var re=rN,oe=new kC,ue=new Sf;oe.ba=ue,ue.S=re,ue.width=[ue.width],ue.height=[ue.height];var ye=ue.width,Me=ue.height,nt=new Tm;if(null==nt||null==v)var Et=2;else e(null!=nt),Et=QC(v,x,R,nt.width,nt.height,nt.Pd,nt.Qd,nt.format,null);if(0!=Et?ye=0:(null!=ye&&(ye[0]=nt.width[0]),null!=Me&&(Me[0]=nt.height[0]),ye=1),ye){ue.width=ue.width[0],ue.height=ue.height[0],null!=K&&(K[0]=ue.width),null!=$&&($[0]=ue.height);e:{if(K=new FC,($=new l2).data=v,$.w=x,$.ha=R,$.kd=1,x=[0],e(null!=$),(0==(v=QC($.data,$.w,$.ha,null,null,null,x,null,$))||7==v)&&x[0]&&(v=4),0==(x=v)){if(e(null!=oe),K.data=$.data,K.w=$.w+$.offset,K.ha=$.ha-$.offset,K.put=og,K.ac=yc,K.bc=ag,K.ma=oe,$.xa){if(null==(v=ld())){oe=1;break e}if(function(It,ht){var Xt=[0],Qt=[0],rt=[0];t:for(;;){if(null==It)return 0;if(null==ht)return It.a=2,0;if(It.l=ht,It.a=0,Ze(It.m,ht.data,ht.w,ht.ha),!Lr(It.m,Xt,Qt,rt)){It.a=3;break t}if(It.xb=d9,ht.width=Xt[0],ht.height=Qt[0],!ug(Xt[0],Qt[0],1,It,null))break t;return 1}return e(0!=It.a),0}(v,K)){if(K=0==(x=HC(K.width,K.height,oe.Oa,oe.ba))){t:{K=v;n:for(;;){if(null==K){K=0;break t}if(e(null!=K.s.yc),e(null!=K.s.Ya),e(0<K.s.Wb),e(null!=(R=K.l)),e(null!=($=R.ma)),0!=K.xb){if(K.ca=$.ba,K.tb=$.tb,e(null!=K.ca),!f2($.Oa,R,iN)){K.a=2;break n}if(!gw(K,R.width)||R.da)break n;if((R.da||_s(K.ca.S))&&vt(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=K.ca.f.kb.F&&vt()),K.Pb&&0<K.s.ua&&null==K.s.vb.X&&!kr(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!Ff(K,K.V,K.Ba,K.c,K.i,R.o,IC))break n;$.Dc=K.Ma,K=1;break t}e(0!=K.a),K=0}K=!K}K&&(x=v.a)}else x=v.a}else{if(null==(v=new eQ)){oe=1;break e}if(v.Fa=$.na,v.P=$.P,v.qc=$.Sa,R5(v,K)){if(0==(x=HC(K.width,K.height,oe.Oa,oe.ba))){if(v.Aa=0,R=oe.Oa,e(null!=($=v)),null!=R){if(0<(ye=0>(ye=R.Md)?0:100<ye?255:255*ye/100)){for(Me=nt=0;4>Me;++Me)12>(Et=$.pb[Me]).lc&&(Et.ia=ye*Xue[0>Et.lc?0:Et.lc]>>3),nt|=Et.ia;nt&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=R.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function tQ(v,x){if(null==v)return 0;if(null==x)return Fa(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!R5(v,x))return 0;if(e(v.cb),null==x.ac||x.ac(x)){x.ob&&(v.L=0);var R=cN[v.L];if(2==v.L?(v.yb=0,v.zb=0):(v.yb=x.v-R>>4,v.zb=x.j-R>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=x.o+15+R>>4,v.Hb=x.va+15+R>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var K=v.ed;for(R=0;4>R;++R){var $;if(v.Qa.Cb){var re=v.Qa.Lb[R];v.Qa.Fb||(re+=K.Tb)}else re=K.Tb;for($=0;1>=$;++$){var oe=v.gd[R][$],ue=re;if(K.Pc&&(ue+=K.vd[0],$&&(ue+=K.od[0])),0<(ue=0>ue?0:63<ue?63:ue)){var ye=ue;0<K.wb&&(ye=4<K.wb?ye>>2:ye>>1)>9-K.wb&&(ye=9-K.wb),1>ye&&(ye=1),oe.dd=ye,oe.tc=2*ue+ye,oe.ld=40<=ue?2:15<=ue?1:0}else oe.tc=0;oe.La=$}}}R=0}else Fa(v,6,"Frame setup failed"),R=v.a;if(R=0==R){if(R){v.$c=0,0<v.Aa||(v.Ic=1);e:{K=4*(ye=v.za);var Me=32*ye,nt=ye+1,Et=0<v.L?ye*(0<v.Aa?2:1):0,It=(2==v.Aa?2:1)*ye;if((oe=K+832+($=3*(16*(R=v.Ic)+cN[v.L])/2*Me)+(re=null!=v.Fa&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=oe)R=0;else{if(oe>v.Vb){if(v.Vb=0,v.Ec=s(oe),v.Fc=0,null==v.Ec){R=Fa(v,1,"no memory during frame initialization.");break e}v.Vb=oe}ue=v.Fc,v.Ac=oe=v.Ec,v.Bc=ue,ue+=K,v.Gd=o(Me,O5),v.Hd=0,v.rb=o(nt+1,P5),v.sb=1,v.wa=Et?o(Et,TC):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=ye),e(!0),v.oc=oe,v.pc=ue,ue+=832,v.ya=o(It,ZS),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,2==v.Aa&&(v.D.aa+=ye),v.R=16*ye,v.B=8*ye,ye=(Me=cN[v.L])*v.R,Me=Me/2*v.B,v.sa=oe,v.ta=ue+ye,v.qa=v.sa,v.ra=v.ta+16*R*v.R+Me,v.Ha=v.qa,v.Ia=v.ra+8*R*v.B+Me,v.$c=0,ue+=$,v.mb=re?oe:null,v.nb=re?ue:null,e(ue+re<=v.Fc+v.Vb),XS(v),i(v.Ac,v.Bc,0,K),R=1}}if(R){if(x.ka=0,x.y=v.sa,x.O=v.ta,x.f=v.qa,x.N=v.ra,x.ea=v.Ha,x.Vd=v.Ia,x.fa=v.R,x.Rc=v.B,x.F=null,x.J=0,!l9){for(R=-255;255>=R;++R)i9[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)s9[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)o9[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)a9[255+R]=0>R?0:255<R?255:R;l9=1}Rf=iQ,WC=nQ,z0=Q5,kf=rQ,Lm=H5,v2=U5,ww=s2,zC=vw,bw=mQ,q0=o2,_2=gQ,ud=RC,Rm=a2,Ao=Y5,ho=$5,Ma=Nm,_l=V0,km=pQ,Uf[0]=Ag,Uf[1]=sQ,Uf[2]=cQ,Uf[3]=uQ,Uf[4]=K5,Uf[5]=OC,Uf[6]=G5,Uf[7]=t2,Uf[8]=hQ,Uf[9]=AQ,Y0[0]=V5,Y0[1]=aQ,Y0[2]=Mm,Y0[3]=NC,Y0[4]=zc,Y0[5]=lQ,Y0[6]=j5,Um[0]=H0,Um[1]=oQ,Um[2]=dQ,Um[3]=n2,Um[4]=yw,Um[5]=fQ,Um[6]=r2,R=1}else R=0}R&&(R=function(ht,Xt){for(ht.M=0;ht.M<ht.Va;++ht.M){var Qt,rt=ht.Jc[ht.M&ht.Xb],ot=ht.m,qt=ht;for(Qt=0;Qt<qt.za;++Qt){var rn=ot,Zt=qt,Wn=Zt.Ac,xn=Zt.Bc+4*Qt,Mr=Zt.zc,Pn=Zt.ya[Zt.aa+Qt];if(Pn.$b=Zt.Qa.Bb?Ft(rn,Zt.Pa.jb[0])?2+Ft(rn,Zt.Pa.jb[2]):Ft(rn,Zt.Pa.jb[1]):0,Zt.kc&&(Pn.Ad=Ft(rn,Zt.Bd)),Pn.Za=!Ft(rn,145)+0,Pn.Za){var as=Pn.Ob,Ss=0;for(Zt=0;4>Zt;++Zt){var Xi,Ri=Mr[0+Zt];for(Xi=0;4>Xi;++Xi){for(var Xs=h9[Ft(rn,(Ri=kue[Wn[xn+Xi]][Ri])[0])];0<Xs;)Xs=h9[2*Xs+Ft(rn,Ri[Xs])];Wn[xn+Xi]=Ri=-Xs}r(as,Ss,Wn,xn,4),Ss+=4,Mr[0+Zt]=Ri}}else Ri=Ft(rn,156)?Ft(rn,128)?1:3:Ft(rn,163)?2:0,Pn.Ob[0]=Ri,i(Wn,xn,Ri,4),i(Mr,0,Ri,4);Pn.Dd=Ft(rn,142)?Ft(rn,114)?Ft(rn,183)?1:3:2:0}if(qt.m.Ka)return Fa(ht,7,"Premature end-of-partition0 encountered.");for(;ht.ja<ht.za;++ht.ja){if(qt=rt,rn=(ot=ht).rb[ot.sb-1],Wn=ot.rb[ot.sb+ot.ja],Qt=ot.ya[ot.aa+ot.ja],xn=ot.kc?Qt.Ad:0)rn.la=Wn.la=0,Qt.Za||(rn.Na=Wn.Na=0),Qt.Hc=0,Qt.Gc=0,Qt.ia=0;else{var Us,Ai;if(rn=Wn,Wn=qt,xn=ot.Pa.Xc,Pn=ot.pb[(Mr=ot.ya[ot.aa+ot.ja]).$b],Ss=ot.rb[ot.sb-1],Ri=Xi=0,i(Zt=Mr.ad,as=0,0,384),Mr.Za)var $a=0,DA=xn[3];else{Xs=s(16);var Ya=rn.Na+Ss.Na;if(Ya=w2(Wn,xn[1],Ya,Pn.Eb,0,Xs,0),rn.Na=Ss.Na=(0<Ya)+0,1<Ya)Rf(Xs,0,Zt,as);else{var TA=Xs[0]+3>>3;for(Xs=0;256>Xs;Xs+=16)Zt[as+Xs]=TA}$a=1,DA=xn[0]}var xs=15&rn.la,Ch=15&Ss.la;for(Xs=0;4>Xs;++Xs){var Eh=1&Ch;for(TA=Ai=0;4>TA;++TA)xs=xs>>1|(Eh=(Ya=w2(Wn,DA,Ya=Eh+(1&xs),Pn.Sc,$a,Zt,as))>$a)<<7,Ai=Ai<<2|(3<Ya?3:1<Ya?2:0!=Zt[as+0]),as+=16;xs>>=4,Ch=Ch>>1|Eh<<7,Xi=(Xi<<8|Ai)>>>0}for(DA=xs,$a=Ch>>4,Us=0;4>Us;Us+=2){for(Ai=0,xs=rn.la>>4+Us,Ch=Ss.la>>4+Us,Xs=0;2>Xs;++Xs){for(Eh=1&Ch,TA=0;2>TA;++TA)xs=xs>>1|(Eh=0<(Ya=w2(Wn,xn[2],Ya=Eh+(1&xs),Pn.Qc,0,Zt,as)))<<3,Ai=Ai<<2|(3<Ya?3:1<Ya?2:0!=Zt[as+0]),as+=16;xs>>=2,Ch=Ch>>1|Eh<<5}Ri|=Ai<<4*Us,DA|=xs<<4<<Us,$a|=(240&Ch)<<Us}rn.la=DA,Ss.la=$a,Mr.Hc=Xi,Mr.Gc=Ri,Mr.ia=43690&Ri?0:Pn.ia,xn=!(Xi|Ri)}if(0<ot.L&&(ot.wa[ot.Y+ot.ja]=ot.gd[Qt.$b][Qt.Za],ot.wa[ot.Y+ot.ja].La|=!xn),qt.Ka)return Fa(ht,7,"Premature end-of-file encountered.")}if(XS(ht),ot=Xt,qt=1,Qt=(rt=ht).D,rn=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,0==rt.Aa)e:{if(Qt.M=rt.M,Qt.uc=rn,d2(rt,Qt),qt=1,Qt=(Ai=rt.D).Nb,rn=(Ri=cN[rt.L])*rt.R,xn=rt.sa,Mr=rt.ta-rn+(Xs=16*Qt*rt.R),Pn=rt.qa,Zt=rt.ra-(Wn=Ri/2*rt.B)+(TA=8*Qt*rt.B),as=rt.Ha,Ss=rt.Ia-Wn+TA,Ch=0==(xs=Ai.M),Xi=xs>=rt.Va-1,2==rt.Aa&&d2(rt,Ai),Ai.uc)for(Eh=(Ya=rt).D.M,e(Ya.D.uc),Ai=Ya.yb;Ai<Ya.Hb;++Ai){DA=Eh;var ql=(vc=(ya=Ya).D).Nb,vc=vc.wa[vc.Y+($a=Ai)],Qu=ya.sa,dd=ya.ta+16*ql*(Us=ya.R)+16*$a,dg=vc.dd,$l=vc.tc;if(0!=$l)if(e(3<=$l),1==ya.L)0<$a&&Ma(Qu,dd,Us,$l+4),vc.La&&km(Qu,dd,Us,$l),0<DA&&ho(Qu,dd,Us,$l+4),vc.La&&_l(Qu,dd,Us,$l);else{var Qm=ya.B,Cw=ya.qa,$C=ya.ra+8*ql*Qm+8*$a,X0=ya.Ha,ya=ya.Ia+8*ql*Qm+8*$a;ql=vc.ld,0<$a&&(zC(Qu,dd,Us,$l+4,dg,ql),q0(Cw,$C,X0,ya,Qm,$l+4,dg,ql)),vc.La&&(ud(Qu,dd,Us,$l,dg,ql),Ao(Cw,$C,X0,ya,Qm,$l,dg,ql)),0<DA&&(ww(Qu,dd,Us,$l+4,dg,ql),bw(Cw,$C,X0,ya,Qm,$l+4,dg,ql)),vc.La&&(_2(Qu,dd,Us,$l,dg,ql),Rm(Cw,$C,X0,ya,Qm,$l,dg,ql))}}if(rt.ia&&alert("todo:DitherRow"),null!=ot.put){if(Ai=16*xs,xs=16*(xs+1),Ch?(ot.y=rt.sa,ot.O=rt.ta+Xs,ot.f=rt.qa,ot.N=rt.ra+TA,ot.ea=rt.Ha,ot.W=rt.Ia+TA):(Ai-=Ri,ot.y=xn,ot.O=Mr,ot.f=Pn,ot.N=Zt,ot.ea=as,ot.W=Ss),Xi||(xs-=Ri),xs>ot.o&&(xs=ot.o),ot.F=null,ot.J=null,null!=rt.Fa&&0<rt.Fa.length&&Ai<xs&&(ot.J=A2(rt,ot,Ai,xs-Ai),ot.F=rt.mb,null==ot.F&&0==ot.F.length)){qt=Fa(rt,3,"Could not decode alpha data.");break e}Ai<ot.j&&(Ri=ot.j-Ai,Ai=ot.j,e(!(1&Ri)),ot.O+=rt.R*Ri,ot.N+=rt.B*(Ri>>1),ot.W+=rt.B*(Ri>>1),null!=ot.F&&(ot.J+=ot.width*Ri)),Ai<xs&&(ot.O+=ot.v,ot.N+=ot.v>>1,ot.W+=ot.v>>1,null!=ot.F&&(ot.J+=ot.v),ot.ka=Ai-ot.j,ot.U=ot.va-ot.v,ot.T=xs-Ai,qt=ot.put(ot))}Qt+1!=rt.Ic||Xi||(r(rt.sa,rt.ta-rn,xn,Mr+16*rt.R,rn),r(rt.qa,rt.ra-Wn,Pn,Zt+8*rt.B,Wn),r(rt.Ha,rt.Ia-Wn,as,Ss+8*rt.B,Wn))}if(!qt)return Fa(ht,6,"Output aborted.")}return 1}(v,x)),null!=x.bc&&x.bc(x),R&=1}return R?(v.cb=0,R):0})(v,K)||(x=v.a)}}else x=v.a}0==x&&null!=oe.Oa&&oe.Oa.fd&&(x=p2(oe.ba))}oe=x}re=0!=oe?null:11>re?ue.f.RGBA.eb:ue.f.kb.y}else re=null;return re};var w9=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(Ce,ut){for(var mt="",ge=0;ge<4;ge++)mt+=String.fromCharCode(Ce[ut++]);return mt}function f(Ce,ut){return(Ce[ut+0]<<0|Ce[ut+1]<<8|Ce[ut+2]<<16)>>>0}function y(Ce,ut){return(Ce[ut+0]<<0|Ce[ut+1]<<8|Ce[ut+2]<<16|Ce[ut+3]<<24)>>>0}new u;var I=[0],C=[0],P=[],L=new u,V=n,j=function(Ce,ut){var mt={},ge=0,me=!1,qe=0,Ke=0;if(mt.frames=[],!function(Pe,Le,et,At){for(var bt=0;bt<4;bt++)if(Pe[Le+bt]!="RIFF".charCodeAt(bt))return!0;return!1}(Ce,ut)){var Ct,ze;for(y(Ce,ut+=4),ut+=8;ut<Ce.length;){var st=h(Ce,ut),Ze=y(Ce,ut+=4);ut+=4;var yt=Ze+(1&Ze);switch(st){case"VP8 ":case"VP8L":void 0===mt.frames[ge]&&(mt.frames[ge]={}),(te=mt.frames[ge]).src_off=me?Ke:ut-8,te.src_size=qe+Ze+8,ge++,me&&(me=!1,qe=0,Ke=0);break;case"VP8X":(te=mt.header={}).feature_flags=Ce[ut];var Mt=ut+4;te.canvas_width=1+f(Ce,Mt),te.canvas_height=1+f(Ce,Mt+=3),Mt+=3;break;case"ALPH":me=!0,qe=yt+8,Ke=ut-8;break;case"ANIM":(te=mt.header).bgcolor=y(Ce,ut),te.loop_count=(Ct=Ce)[(ze=Mt=ut+4)+0]<<0|Ct[ze+1]<<8,Mt+=2;break;case"ANMF":var vn,te;(te=mt.frames[ge]={}).offset_x=2*f(Ce,ut),te.offset_y=2*f(Ce,ut+=3),te.width=1+f(Ce,ut+=3),te.height=1+f(Ce,ut+=3),te.duration=f(Ce,ut+=3),ut+=3,vn=Ce[ut++],te.dispose=1&vn,te.blend=vn>>1&1}"ANMF"!=st&&(ut+=yt)}return mt}}(V,0);j.response=V,j.rgbaoutput=!0,j.dataurl=!1;var z=j.header?j.header:null,se=j.frames?j.frames:null;if(z){z.loop_counter=z.loop_count,I=[z.canvas_height],C=[z.canvas_width];for(var ve=0;ve<se.length&&0!=se[ve].blend;ve++);}var Se=se[0],Ve=L.WebPDecodeRGBA(V,Se.src_off,Se.src_size,C,I);Se.rgba=Ve,Se.imgwidth=C[0],Se.imgheight=I[0];for(var Oe=0;Oe<C[0]*I[0]*4;Oe++)P[Oe]=Ve[Oe];return this.width=C,this.height=I,this.data=P,this}(function(n){var t=function(I,C,P,L){var V=4,j=o;switch(L){case n.image_compression.FAST:V=1,j=s;break;case n.image_compression.MEDIUM:V=6,j=a;break;case n.image_compression.SLOW:V=9,j=u}var z=qA(I=r(I,C,P,j),{level:V});return n.__addimage__.arrayBufferToBinaryString(z)},r=function(I,C,P,L){for(var V,j,z,se=I.length/C,ve=new Uint8Array(I.length+se),Se=f(),Ve=0;Ve<se;Ve+=1){if(V=I.subarray(z=Ve*C,z+C),L)ve.set(L(V,P,j),z+Ve);else{for(var Oe,Ce=Se.length,ut=[];Oe<Ce;Oe+=1)ut[Oe]=Se[Oe](V,P,j);var mt=y(ut.concat());ve.set(ut[mt],z+Ve)}j=V}return ve},i=function(I){var C=Array.apply([],I);return C.unshift(0),C},s=function(I,C){var L=[],V=I.length;L[0]=1;for(var j=0;j<V;j+=1)L[j+1]=I[j]-(I[j-C]||0)+256&255;return L},o=function(I,C,P){var V=[],j=I.length;V[0]=2;for(var z=0;z<j;z+=1)V[z+1]=I[z]-(P&&P[z]||0)+256&255;return V},a=function(I,C,P){var j=[],z=I.length;j[0]=3;for(var se=0;se<z;se+=1)j[se+1]=I[se]+256-((I[se-C]||0)+(P&&P[se]||0)>>>1)&255;return j},u=function(I,C,P){var z,se=[],ve=I.length;se[0]=4;for(var Se=0;Se<ve;Se+=1)z=h(I[Se-C]||0,P&&P[Se]||0,P&&P[Se-C]||0),se[Se+1]=I[Se]-z+256&255;return se},h=function(I,C,P){if(I===C&&C===P)return I;var L=Math.abs(C-P),V=Math.abs(I-P),j=Math.abs(I+C-P-P);return L<=V&&L<=j?I:V<=j?C:P},f=function(){return[i,s,o,a,u]},y=function(I){var C=I.map(function(P){return P.reduce(function(L,V){return L+Math.abs(V)},0)});return C.indexOf(Math.min.apply(null,C))};n.processPNG=function(I,C,P,L){var V,j,z,se,ve,Se,Ve,Oe,Ce,ut,mt,ge,me,qe,Ke,Ct=this.decode.FLATE_DECODE,ze="";if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){if(I=(z=new Jd(I)).imgData,j=z.bits,V=z.colorSpace,ve=z.colors,-1!==[4,6].indexOf(z.colorType)){if(8===z.bits){Ce=(Oe=32==z.pixelBitlength?new Uint32Array(z.decodePixels().buffer):16==z.pixelBitlength?new Uint16Array(z.decodePixels().buffer):new Uint8Array(z.decodePixels().buffer)).length,mt=new Uint8Array(Ce*z.colors),ut=new Uint8Array(Ce);var st,Ze=z.pixelBitlength-z.bits;for(qe=0,Ke=0;qe<Ce;qe++){for(me=Oe[qe],st=0;st<Ze;)mt[Ke++]=me>>>st&255,st+=z.bits;ut[qe]=me>>>st&255}}if(16===z.bits){Ce=(Oe=new Uint32Array(z.decodePixels().buffer)).length,mt=new Uint8Array(Ce*(32/z.pixelBitlength)*z.colors),ut=new Uint8Array(Ce*(32/z.pixelBitlength)),ge=z.colors>1,qe=0,Ke=0;for(var yt=0;qe<Ce;)me=Oe[qe++],mt[Ke++]=me>>>0&255,ge&&(mt[Ke++]=me>>>16&255,me=Oe[qe++],mt[Ke++]=me>>>0&255),ut[yt++]=me>>>16&255;j=8}L!==n.image_compression.NONE?(I=t(mt,z.width*z.colors,z.colors,L),Ve=t(ut,z.width,1,L)):(I=mt,Ve=ut,Ct=void 0)}if(3===z.colorType&&(V=this.color_spaces.INDEXED,Se=z.palette,z.transparency.indexed)){var Mt=z.transparency.indexed,vn=0;for(qe=0,Ce=Mt.length;qe<Ce;++qe)vn+=Mt[qe];if((vn/=255)==Ce-1&&-1!==Mt.indexOf(0))se=[Mt.indexOf(0)];else if(vn!==Ce){for(Oe=z.decodePixels(),ut=new Uint8Array(Oe.length),qe=0,Ce=Oe.length;qe<Ce;qe++)ut[qe]=Mt[Oe[qe]];Ve=t(ut,z.width,1)}}var te=function(Pe){var Le;switch(Pe){case n.image_compression.FAST:Le=11;break;case n.image_compression.MEDIUM:Le=13;break;case n.image_compression.SLOW:Le=14;break;default:Le=12}return Le}(L);return Ct===this.decode.FLATE_DECODE&&(ze="/Predictor "+te+" "),ze+="/Colors "+ve+" /BitsPerComponent "+j+" /Columns "+z.width,(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(Ve&&this.__addimage__.isArrayBuffer(Ve)||this.__addimage__.isArrayBufferView(Ve))&&(Ve=this.__addimage__.arrayBufferToBinaryString(Ve)),{alias:P,data:I,index:C,filter:Ct,decodeParameters:ze,transparency:se,palette:Se,sMask:Ve,predictor:te,width:z.width,height:z.height,bitsPerComponent:j,colorSpace:V}}}})(pr.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new ef(e),o=s.width,a=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:o,height:a},f=new bp(100).encode(h,100);return n.processJPEG.call(this,f,t,r,i)},n.processGIF87A=n.processGIF89A}(pr.API),ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ul.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){Hi.log("bit decode error:"+t)}},ul.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[s>>7-a&1];this.data[o+4*a]=u.blue,this.data[o+4*a+1]=u.green,this.data[o+4*a+2]=u.red,this.data[o+4*a+3]=255}0!==t&&(this.pos+=4-t)}},ul.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,u=15&s,h=this.palette[s>>4];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(h=this.palette[u]).blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},ul.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},ul.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,h=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=(s>>10&e)/e*255|0,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=h}this.pos+=n}},ul.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,f=i*this.width*4+4*s;this.data[f]=(o>>11)/e*255|0,this.data[f+1]=u,this.data[f+2]=a,this.data[f+3]=255}this.pos+=n}},ul.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ul.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ul.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new ul(e,!1),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},h=new bp(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}}(pr.API),Pg.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new Pg(e,!1),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},h=new bp(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}}(pr.API),pr.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,u=0,h=0;h<i;h+=4){var y=r[h+1],I=r[h+2],C=r[h+3];s[a++]=r[h],s[a++]=y,s[a++]=I,o[u++]=C}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:P,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},pr.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wp=(Mc=pr.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,u=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,y=!1!==e.doKerning,I=0,C=n.length,P=0,L=a[0]||u,V=[];for(t=0;t<C;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?V.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(I=y&&"object"===di(h[r])&&!isNaN(parseInt(h[r][P],10))?h[r][P]/f:0,V.push((a[r]||L)/u+I)),P=r;return V},ba=Mc.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Mc.processArabic&&(n=Mc.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:wp.apply(this,arguments).reduce(function(s,o){return s+o},0)},wu=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var u=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(u,s)),a=0,u=s),a+=e[s],s++;return u!==s&&i.push(n.slice(u,s)),i},uA=function(n,e,t){t||(t={});var r,i,s,o,a,u,f=[],y=[f],I=t.textIndent||0,C=0,P=0,L=n.split(" "),V=wp.apply(this,[" ",t])[0];if(u=-1===t.lineIndent?L[0].length+2:t.lineIndent||0){var j=Array(u).join(" "),z=[];L.map(function(ve){(ve=ve.split(/\s*\n/)).length>1?z=z.concat(ve.map(function(Se,Ve){return(Ve&&Se.length?"\n":"")+Se})):z.push(ve[0])}),L=z,u=ba.apply(this,[j,t])}for(s=0,o=L.length;s<o;s++){var se=0;if(r=L[s],u&&"\n"==r[0]&&(r=r.substr(1),se=1),I+C+(P=(i=wp.apply(this,[r,t])).reduce(function(ve,Se){return ve+Se},0))>e||se){if(P>e){for(a=wu.apply(this,[r,i,e-(I+C),e]),f.push(a.shift()),f=[a.pop()];a.length;)y.push([a.shift()]);P=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(ve,Se){return ve+Se},0)}else f=[r];y.push(f),I=P+u,C=V}else f.push(r),I+=C+P,C=V}return y.map(u?function(ve,Se){return(Se?j:"")+ve.join(" ")}:function(ve){return ve.join(" ")})},Mc.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var y=this.internal.getFont(f.fontName,f.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,u,h=[];for(a=0,u=r.length;a<u;a++)h=h.concat(uA.apply(this,[r[a],o,s]));return h},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=n.__fontmetrics__.compress=function(y){var I,C,P,L,V=["{"];for(var j in y){if(I=y[j],isNaN(parseInt(j,10))?C="'"+j+"'":(j=parseInt(j,10),C=(C=s(j).slice(2)).slice(0,-1)+r[C.slice(-1)]),"number"==typeof I)I<0?(P=s(I).slice(3),L="-"):(P=s(I).slice(2),L=""),P=L+P.slice(0,-1)+r[P.slice(-1)];else{if("object"!==di(I))throw new Error("Don't know what to do with value type "+di(I)+".");P=o(I)}V.push(C+P)}return V.push("}"),V.join("")},a=n.__fontmetrics__.uncompress=function(y){if("string"!=typeof y)throw new Error("Invalid argument passed to uncompress.");for(var I,C,P,L,V={},j=1,z=V,se=[],ve="",Se="",Ve=y.length-1,Oe=1;Oe<Ve;Oe+=1)"'"==(L=y[Oe])?I?(P=I.join(""),I=void 0):I=[]:I?I.push(L):"{"==L?(se.push([z,P]),z={},P=void 0):"}"==L?((C=se.pop())[0][C[1]]=z,P=void 0,z=C[0]):"-"==L?j=-1:void 0===P?t.hasOwnProperty(L)?(ve+=t[L],P=parseInt(ve,16)*j,j=1,ve=""):ve+=L:t.hasOwnProperty(L)?(Se+=t[L],z[P]=parseInt(Se,16)*j,j=1,P=void 0,Se=""):Se+=L;return V},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var I=y.font,C=f.Unicode[I.postScriptName];C&&(I.metadata.Unicode={},I.metadata.Unicode.widths=C.widths,I.metadata.Unicode.kerning=C.kerning);var P=h.Unicode[I.postScriptName];P&&(I.metadata.Unicode.encoding=P,I.encoding=P.codePages[0])}])}(pr.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var o,a,r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");o=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(pu(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(pr),function(n){function e(){return(gr.canvg?Promise.resolve(gr.canvg):U.e(489).then(U.bind(U,6489))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}pr.API.addSvgAsImage=function(t,r,i,s,o,a,u,h){if(isNaN(r)||isNaN(i))throw Hi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Hi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var y=f.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,f.width,f.height);var I={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},C=this;return e().then(function(P){return P.fromString(y,t,I)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(I)}).then(function(){C.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,u,h)})}}(),pr.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},pr.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),u=[],h=0,f=0,y=0;function I(P,L){var V,j=!1;for(V=0;V<P.length;V+=1)P[V]===L&&(j=!0);return j}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var C=a.length;for(y=0;y<C;y+=1)t[a[y]].value=t[a[y]].defaultValue,t[a[y]].explicitSet=!1}if("object"===di(n))for(i in n)if(s=n[i],I(a,i)&&void 0!==s){if("boolean"===t[i].type&&"boolean"==typeof s)t[i].value=s;else if("name"===t[i].type&&I(t[i].valueSet,s))t[i].value=s;else if("integer"===t[i].type&&Number.isInteger(s))t[i].value=s;else if("array"===t[i].type){for(h=0;h<s.length;h+=1)if(r=!0,1===s[h].length&&"number"==typeof s[h][0])u.push(String(s[h]-1));else if(s[h].length>1){for(f=0;f<s[h].length;f+=1)"number"!=typeof s[h][f]&&(r=!1);!0===r&&u.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var P,L=[];for(P in t)!0===t[P].explicitSet&&L.push("name"===t[P].type?"/"+P+" /"+t[P].value:"/"+P+" "+t[P].value);0!==L.length&&this.internal.write("/ViewerPreferences\n<<\n"+L.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(pr.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,u=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],y=0,I=s.length;y<I;++y){if(a=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(y),-1==u.indexOf(a)&&(u.push(a),u.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return f.join("");a=a.toString(16),f.push(h[4-a.length],a)}return f.join("")},r=function(s){var o,a,u,h,f,y,I;for(f="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",u=[],y=0,I=(a=Object.keys(s).sort(function(C,P){return C-P})).length;y<I;y++)o=a[y],u.length>=100&&(f+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar",u=[]),null!=s[o]&&"function"==typeof s[o].toString&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+h+">"));return u.length&&(f+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar\n"),f+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var a=o.font,u=o.out,h=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var y=a.metadata.Unicode.widths,I=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),C="",P=0;P<I.length;P++)C+=String.fromCharCode(I[P]);var L=h();f({data:C,addLength1:!0,objectId:L}),u("endobj");var V=h();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:V}),u("endobj");var j=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Ml(a.fontName)),u("/FontFile2 "+L+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),u("/Flags "+a.metadata.flags),u("/StemV "+a.metadata.stemV),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u(">>"),u("endobj");var z=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+Ml(a.fontName)),u("/FontDescriptor "+j+" 0 R"),u("/W "+n.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+a.encoding+")"),u(">>"),u(">>"),u("endobj"),a.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+V+" 0 R"),u("/BaseFont /"+Ml(a.fontName)),u("/Encoding /"+a.encoding),u("/DescendantFonts ["+z+" 0 R]"),u(">>"),u("endobj"),a.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var a=o.font,u=o.out,h=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var y=a.metadata.rawData,I="",C=0;C<y.length;C++)I+=String.fromCharCode(y[C]);var P=h();f({data:I,addLength1:!0,objectId:P}),u("endobj");var L=h();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),u("endobj");var V=h();u("<<"),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u("/StemV "+a.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+P+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),u("/FontName /"+Ml(a.fontName)),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u(">>"),u("endobj"),a.objectNumber=h();for(var j=0;j<a.metadata.hmtx.widths.length;j++)a.metadata.hmtx.widths[j]=parseInt(a.metadata.hmtx.widths[j]*(1e3/a.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Ml(a.fontName)+"/FontDescriptor "+V+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),u("endobj"),a.isAlreadyPutted=!0}}(s)}]);var i=function(s){var o,a=s.text||"",u=s.x,h=s.y,f=s.options||{},y=s.mutex||{},I=y.pdfEscape,C=y.activeFontKey,P=y.fonts,L=C,V="",j=0,z="",se=P[L].encoding;if("Identity-H"!==P[L].encoding)return{text:a,x:u,y:h,options:f,mutex:y};for(z=a,L=C,Array.isArray(a)&&(z=a[0]),j=0;j<z.length;j+=1)P[L].metadata.hasOwnProperty("cmap")&&(o=P[L].metadata.cmap.unicode.codeMap[z[j].charCodeAt(0)]),o||z[j].charCodeAt(0)<256&&P[L].metadata.hasOwnProperty("Unicode")?V+=z[j]:V+="";var ve="";return parseInt(L.slice(1))<14||"WinAnsiEncoding"===se?ve=I(V,L).split("").map(function(Se){return Se.charCodeAt(0).toString(16)}).join(""):"Identity-H"===se&&(ve=t(V,P[L])),y.isHex=!0,{text:ve,x:u,y:h,options:f,mutex:y}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&3===o[h].length?a.push([i(Object.assign({},u,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},u,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},u,{text:o})).text}])}(pr),function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(pr.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,u,h,f,y=e,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],C=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},V=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),z=!1,se=0;this.__bidiEngine__={};var ve=function(ge){var me=ge.charCodeAt(),qe=me>>8,Ke=L[qe];return void 0!==Ke?y[256*Ke+(255&me)]:252===qe||253===qe?"AL":j.test(qe)?"L":8===qe?"R":"N"},Se=function(ge){for(var me,qe=0;qe<ge.length;qe++){if("L"===(me=ve(ge.charAt(qe))))return!1;if("R"===me)return!0}return!1},Ve=function(ge,me,qe,Ke){var Ct,ze,st,Ze,yt=me[Ke];switch(yt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":z=!1;break;case"N":case"AN":break;case"EN":z&&(yt="AN");break;case"AL":z=!0,yt="R";break;case"WS":case"BN":yt="N";break;case"CS":Ke<1||Ke+1>=me.length||"EN"!==(Ct=qe[Ke-1])&&"AN"!==Ct||"EN"!==(ze=me[Ke+1])&&"AN"!==ze?yt="N":z&&(ze="AN"),yt=ze===Ct?ze:"N";break;case"ES":yt="EN"===(Ct=Ke>0?qe[Ke-1]:"B")&&Ke+1<me.length&&"EN"===me[Ke+1]?"EN":"N";break;case"ET":if(Ke>0&&"EN"===qe[Ke-1]){yt="EN";break}if(z){yt="N";break}for(st=Ke+1,Ze=me.length;st<Ze&&"ET"===me[st];)st++;yt=st<Ze&&"EN"===me[st]?"EN":"N";break;case"NSM":if(o&&!a){for(Ze=me.length,st=Ke+1;st<Ze&&"NSM"===me[st];)st++;if(st<Ze){var Mt=ge[Ke];if(Ct=me[st],(Mt>=1425&&Mt<=2303||64286===Mt)&&("R"===Ct||"AL"===Ct)){yt="R";break}}}yt=Ke<1||"B"===(Ct=me[Ke-1])?"N":qe[Ke-1];break;case"B":z=!1,i=!0,yt=se;break;case"S":s=!0,yt="N"}return yt},Oe=function(ge,me,qe){var Ke=ge.split("");return qe&&Ce(Ke,qe,{hiLevel:se}),Ke.reverse(),me&&me.reverse(),Ke.join("")},Ce=function(ge,me,qe){var Ke,Ct,ze,st,Ze,yt=-1,Mt=ge.length,vn=0,te=[],Pe=se?C:I,Le=[];for(z=!1,i=!1,s=!1,Ct=0;Ct<Mt;Ct++)Le[Ct]=ve(ge[Ct]);for(ze=0;ze<Mt;ze++){if(Ze=vn,te[ze]=Ve(ge,Le,te,ze),Ke=240&(vn=Pe[Ze][P[te[ze]]]),me[ze]=st=Pe[vn&=15][5],Ke>0)if(16===Ke){for(Ct=yt;Ct<ze;Ct++)me[Ct]=1;yt=-1}else yt=-1;if(Pe[vn][6])-1===yt&&(yt=ze);else if(yt>-1){for(Ct=yt;Ct<ze;Ct++)me[Ct]=st;yt=-1}"B"===Le[ze]&&(me[ze]=0),qe.hiLevel|=st}s&&function(et,At,bt){for(var Dt=0;Dt<bt;Dt++)if("S"===et[Dt]){At[Dt]=se;for(var Ft=Dt-1;Ft>=0&&"WS"===et[Ft];Ft--)At[Ft]=se}}(Le,me,Mt)},ut=function(ge,me,qe,Ke,Ct){if(!(Ct.hiLevel<ge)){if(1===ge&&1===se&&!i)return me.reverse(),void(qe&&qe.reverse());for(var ze,st,Ze,yt,Mt=me.length,vn=0;vn<Mt;){if(Ke[vn]>=ge){for(Ze=vn+1;Ze<Mt&&Ke[Ze]>=ge;)Ze++;for(yt=vn,st=Ze-1;yt<st;yt++,st--)ze=me[yt],me[yt]=me[st],me[st]=ze,qe&&(ze=qe[yt],qe[yt]=qe[st],qe[st]=ze);vn=Ze}vn++}}},mt=function(ge,me,qe){var Ke=ge.split(""),Ct={hiLevel:se};return qe||(qe=[]),Ce(Ke,qe,Ct),function(ze,st,Ze){if(0!==Ze.hiLevel&&f)for(var yt,Mt=0;Mt<ze.length;Mt++)1===st[Mt]&&(yt=V.indexOf(ze[Mt]))>=0&&(ze[Mt]=V[yt+1])}(Ke,qe,Ct),ut(2,Ke,me,qe,Ct),ut(1,Ke,me,qe,Ct),Ke.join("")};return this.__bidiEngine__.doBidiReorder=function(ge,me,qe){if(function(Ct,ze){if(ze)for(var st=0;st<Ct.length;st++)ze[st]=st;void 0===a&&(a=Se(Ct)),void 0===h&&(h=Se(Ct))}(ge,me),o||!u||h)if(o&&u&&a^h)se=a?1:0,ge=Oe(ge,me,qe);else if(!o&&u&&h)se=a?1:0,ge=mt(ge,me,qe),ge=Oe(ge,me);else if(!o||a||u||h){if(o&&!u&&a^h)ge=Oe(ge,me),a?(se=0,ge=mt(ge,me,qe)):(se=1,ge=mt(ge,me,qe),ge=Oe(ge,me));else if(o&&a&&!u&&h)se=1,ge=mt(ge,me,qe),ge=Oe(ge,me);else if(!o&&!u&&a^h){var Ke=f;a?(se=1,ge=mt(ge,me,qe),se=0,f=!1,ge=mt(ge,me,qe),f=Ke):(se=0,ge=mt(ge,me,qe),ge=Oe(ge,me),se=1,f=!1,ge=mt(ge,me,qe),f=Ke,ge=Oe(ge,me))}}else se=0,ge=mt(ge,me,qe);else se=a?1:0,ge=mt(ge,me,qe);return ge},this.__bidiEngine__.setOptions=function(ge){ge&&(o=ge.isInputVisual,u=ge.isOutputVisual,a=ge.isInputRtl,h=ge.isOutputRtl,f=ge.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=r.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(o=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(pr),pr.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new bu(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new D(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Gh(this.contents),this.head=new AA(this),this.name=new Og(this),this.cmap=new Nc(this),this.toUnicode={},this.hhea=new Eu(this),this.maxp=new Lg(this),this.hmtx=new Rg(this),this.post=new aa(this),this.os2=new Cp(this),this.loca=new uy(this),this.glyf=new hv(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,u,h;for(h=[],o=0,a=(u=this.bbox).length;o<a;o++)h.push(Math.round(u[o]*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),0!=(32768&(t=i>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var Po,bu=function(){function n(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,s;for(s=[],r=0,i=e.length;r<i;r++)s.push(this.writeByte(e[r]));return s},n}(),Gh=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,a,u,h,f,y,I,C,P,L;for(L in C=Object.keys(t).length,u=Math.log(2),y=16*Math.floor(Math.log(C)/u),o=Math.floor(y/u),f=16*C-y,(i=new bu).writeInt(this.scalarType),i.writeShort(C),i.writeShort(y),i.writeShort(o),i.writeShort(f),h=i.pos+16*C,a=null,P=[],t)for(I=t[L],i.writeString(L),i.writeInt(n(I)),i.writeInt(h),i.writeInt(I.length),P=P.concat(I),"head"===L&&(a=h),h+=I.length;h%4;)P.push(0),h++;return i.write(P),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=hA.call(t);t.length%4;)t.push(0);for(s=new bu(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Cu={}.hasOwnProperty,mi=function(n,e){for(var t in e)Cu.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Po=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var AA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new bu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),wo=function(){function n(e,t){var r,i,s,o,a,u,h,f,y,I,C,P,L,V,j,z,se;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(C=e.readUInt16(),I=C/2,e.pos+=6,s=function(){var ve,Se;for(Se=[],u=ve=0;0<=I?ve<I:ve>I;u=0<=I?++ve:--ve)Se.push(e.readUInt16());return Se}(),e.pos+=2,L=function(){var ve,Se;for(Se=[],u=ve=0;0<=I?ve<I:ve>I;u=0<=I?++ve:--ve)Se.push(e.readUInt16());return Se}(),h=function(){var ve,Se;for(Se=[],u=ve=0;0<=I?ve<I:ve>I;u=0<=I?++ve:--ve)Se.push(e.readUInt16());return Se}(),f=function(){var ve,Se;for(Se=[],u=ve=0;0<=I?ve<I:ve>I;u=0<=I?++ve:--ve)Se.push(e.readUInt16());return Se}(),i=(this.length-e.pos+this.offset)/2,a=function(){var ve,Se;for(Se=[],u=ve=0;0<=i?ve<i:ve>i;u=0<=i?++ve:--ve)Se.push(e.readUInt16());return Se}(),u=j=0,se=s.length;j<se;u=++j)for(V=s[u],r=z=P=L[u];P<=V?z<=V:z>=V;r=P<=V?++z:--z)0===f[u]?o=r+h[u]:0!==(o=a[f[u]/2+(r-P)-(I-u)]||0)&&(o+=h[u]),this.codeMap[r]=65535&o}e.pos=y}return n.encode=function(e,t){var r,i,s,o,a,u,h,f,y,I,C,P,L,V,j,z,se,Se,Ve,Oe,Ce,ut,mt,ge,me,qe,Ke,Ct,ze,st,Ze,yt,Mt,vn,te,Pe,Le,et,At,bt,Dt,Ft,fn,pn,Kn;switch(Ke=new bu,o=Object.keys(e).sort(function($n,kr){return $n-kr}),t){case"macroman":for(L=0,V=function(){var $n=[];for(P=0;P<256;++P)$n.push(0);return $n}(),z={0:0},s={},Ct=0,yt=o.length;Ct<yt;Ct++)null==z[Ft=e[i=o[Ct]]]&&(z[Ft]=++L),s[i]={old:e[i],new:z[e[i]]},V[i]=z[e[i]];return Ke.writeUInt16(1),Ke.writeUInt16(0),Ke.writeUInt32(12),Ke.writeUInt16(0),Ke.writeUInt16(262),Ke.writeUInt16(0),Ke.write(V),{charMap:s,subtable:Ke.data,maxGlyphID:L+1};case"unicode":for(me=[],y=[],se=0,z={},r={},j=h=null,ze=0,Mt=o.length;ze<Mt;ze++)null==z[Se=e[i=o[ze]]]&&(z[Se]=++se),r[i]={old:Se,new:z[Se]},a=z[Se]-i,null!=j&&a===h||(j&&y.push(j),me.push(i),h=a),j=i;for(j&&y.push(j),y.push(65535),me.push(65535),mt=2*(ut=me.length),Ce=2*Math.pow(Math.log(ut)/Math.LN2,2),I=Math.log(Ce/2)/Math.LN2,Oe=2*ut-Ce,u=[],Ve=[],C=[],P=st=0,vn=me.length;st<vn;P=++st){if(f=y[P],65535===(ge=me[P])){u.push(0),Ve.push(0);break}if(ge-(qe=r[ge].new)>=32768)for(u.push(0),Ve.push(2*(C.length+ut-P)),i=Ze=ge;ge<=f?Ze<=f:Ze>=f;i=ge<=f?++Ze:--Ze)C.push(r[i].new);else u.push(qe-ge),Ve.push(0)}for(Ke.writeUInt16(3),Ke.writeUInt16(1),Ke.writeUInt32(12),Ke.writeUInt16(4),Ke.writeUInt16(16+8*ut+2*C.length),Ke.writeUInt16(0),Ke.writeUInt16(mt),Ke.writeUInt16(Ce),Ke.writeUInt16(I),Ke.writeUInt16(Oe),bt=0,te=y.length;bt<te;bt++)Ke.writeUInt16(i=y[bt]);for(Ke.writeUInt16(0),Dt=0,Pe=me.length;Dt<Pe;Dt++)Ke.writeUInt16(i=me[Dt]);for(fn=0,Le=u.length;fn<Le;fn++)Ke.writeUInt16(a=u[fn]);for(pn=0,et=Ve.length;pn<et;pn++)Ke.writeUInt16(Ve[pn]);for(Kn=0,At=C.length;Kn<At;Kn++)Ke.writeUInt16(L=C[Kn]);return{charMap:r,subtable:Ke.data,maxGlyphID:se+1}}},n}(),Nc=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new wo(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return null==r&&(r="macroman"),i=wo.encode(t,r),(s=new bu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Eu=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Cp=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),aa=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var a,u,h;for(h=[],o=a=0,u=this.file.maxp.numGlyphs;0<=u?a<u:a>u;o=0<=u?++a:--a)h.push(t.readUInt32());return h}.call(this)}},e}(),ih=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Og=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,u,h,f,y,I,C;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(h={},o=y=0,I=i.length;y<I;o=++y)t.pos=(s=i[o]).offset,f=t.readString(s.length),a=new ih(f,s),null==h[C=s.nameID]&&(h[C]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(P){this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),Lg=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Rg=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,u,h;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,y;for(y=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)y.push(t.readInt16());return y}(),this.widths=function(){var f,y,I,C;for(C=[],f=0,y=(I=this.metrics).length;f<y;f++)C.push(I[f].advance);return C}.call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),hA=[].slice,hv=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,u,h,f,y,I;return t in this.cache?this.cache[t]:(r=this.file.contents,i=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+i,a=(u=new bu(r.read(s))).readShort(),f=u.readShort(),I=u.readShort(),h=u.readShort(),y=u.readShort(),this.cache[t]=-1===a?new Iu(u,f,I,h,y):new cy(u,a,f,I,h,y),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,u,h;for(a=[],o=[],u=0,h=r.length;u<h;u++)s=t[r[u]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),cy=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Iu=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new bu(hA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),uy=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mi(e,Po),e.prototype.tag="loca",e.prototype.parse=function(t){var i;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var h=this.offsets[a+1]-this.offsets[a];h>0&&(s+=h)}for(var f=new Array(4*i.length),y=0;y<i.length;++y)f[4*y+3]=255&i[y],f[4*y+2]=(65280&i[y])>>8,f[4*y+1]=(16711680&i[y])>>16,f[4*y]=(4278190080&i[y])>>24;return f},e}(),D=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=i[s[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,u;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(null!=(r=i[s])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))i[s]=r=u[s];return i},n.prototype.encode=function(e,t){var r,i,s,o,u,h,f,y,I,C,P,L,V,j;for(i in r=Nc.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),C={0:0},j=r.charMap)C[(u=j[i]).old]=u.new;for(P in I=r.maxGlyphID,o)P in C||(C[P]=I++);return f=function(z){var se,ve;for(se in ve={},z)ve[z[se]]=se;return ve}(C),y=Object.keys(f).sort(function(z,se){return z-se}),L=function(){var z,se,ve;for(ve=[],z=0,se=y.length;z<se;z++)ve.push(f[y[z]]);return ve}(),s=this.font.glyf.encode(o,L,C),h=this.font.loca.encode(s.offsets,L),V={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(V["OS/2"]=this.font.os2.raw()),this.font.directory.encode(V)},n}();pr.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,s;if(Array.isArray(t))return"["+function(){var a,u,h;for(h=[],a=0,u=t.length;a<u;a++)h.push(e.convert(t[a]));return h}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(null!=t?t.isString:void 0)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in s=["<<"],t)s.push("/"+i+" "+e.convert(t[i]));return s.push(">>"),s.join("\n")}return""+t},e}();const m=pr;var _=U(4159),M=U.n(_),W=U(655),Ue=(U(5561),U(1086)),Ot=U(4202),on=U(1406),wn=U(2198),en=U(4850);class sr{}class oo{}class ao{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ao?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ao;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ao?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ep{encodeKey(e){return Ip(e)}encodeValue(e){return Ip(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ug=/%(\d[a-f0-9])/gi,Ay={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ip(n){return encodeURIComponent(n).replace(Ug,(e,t)=>{var r;return null!==(r=Ay[t])&&void 0!==r?r:e})}function sh(n){return`${n}`}class Bu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ep,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kg(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Bu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(sh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(sh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Qg{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function hy(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function En(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Su(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ha{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Es(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ao),this.context||(this.context=new Qg),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Bu,this.urlWithParams=t}serializeBody(){return null===this.body?null:hy(this.body)||En(this.body)||Su(this.body)||function Hg(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Su(this.body)?null:En(this.body)?this.body.type||null:hy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let h=e.headers||this.headers,f=e.params||this.params;const y=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(h=Object.keys(e.setHeaders).reduce((I,C)=>I.set(C,e.setHeaders[C]),h)),e.setParams&&(f=Object.keys(e.setParams).reduce((I,C)=>I.set(C,e.setParams[C]),f)),new Ha(r,i,o,{params:f,headers:h,context:y,reportProgress:u,responseType:s,withCredentials:a})}}var Oo=(()=>((Oo=Oo||{})[Oo.Sent=0]="Sent",Oo[Oo.UploadProgress=1]="UploadProgress",Oo[Oo.ResponseHeader=2]="ResponseHeader",Oo[Oo.DownloadProgress=3]="DownloadProgress",Oo[Oo.Response=4]="Response",Oo[Oo.User=5]="User",Oo))();class xi{constructor(e,t=200,r="OK"){this.headers=e.headers||new ao,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ys extends xi{constructor(e={}){super(e),this.type=Oo.ResponseHeader}clone(e={}){return new ys({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nf extends xi{constructor(e={}){super(e),this.type=Oo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tE extends xi{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Vg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Bp=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ha)s=t;else{let u,h;u=i.headers instanceof ao?i.headers:new ao(i.headers),i.params&&(h=i.params instanceof Bu?i.params:new Bu({fromObject:i.params})),s=new Ha(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=(0,Ue.of)(s).pipe((0,on.b)(u=>this.handler.handle(u)));if(t instanceof Ha||"events"===i.observe)return o;const a=o.pipe((0,wn.h)(u=>u instanceof nf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe((0,en.U)(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe((0,en.U)(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe((0,en.U)(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe((0,en.U)(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Bu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Vg(i,r))}post(t,r,i={}){return this.request("POST",t,Vg(i,r))}put(t,r,i={}){return this.request("PUT",t,Vg(i,r))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(sr))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class rf{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Fw=new p.OlP("HTTP_INTERCEPTORS");let nE=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const aE=/^\)\]\}',?\n/;let Pw=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ot.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((C,P)=>i.setRequestHeader(C,P.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&i.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();i.responseType="json"!==C?C:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const C=i.statusText||"OK",P=new ao(i.getAllResponseHeaders()),L=function Nw(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new ys({headers:P,status:i.status,statusText:C,url:L}),o},u=()=>{let{headers:C,status:P,statusText:L,url:V}=a(),j=null;204!==P&&(j=void 0===i.response?i.responseText:i.response),0===P&&(P=j?200:0);let z=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof j){const se=j;j=j.replace(aE,"");try{j=""!==j?JSON.parse(j):null}catch(ve){j=se,z&&(z=!1,j={error:ve,text:j})}}z?(r.next(new nf({body:j,headers:C,status:P,statusText:L,url:V||void 0})),r.complete()):r.error(new tE({error:j,headers:C,status:P,statusText:L,url:V||void 0}))},h=C=>{const{url:P}=a(),L=new tE({error:C,status:i.status||0,statusText:i.statusText||"Unknown Error",url:P||void 0});r.error(L)};let f=!1;const y=C=>{f||(r.next(a()),f=!0);let P={type:Oo.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(P.total=C.total),"text"===t.responseType&&!!i.responseText&&(P.partialText=i.responseText),r.next(P)},I=C=>{let P={type:Oo.UploadProgress,loaded:C.loaded};C.lengthComputable&&(P.total=C.total),r.next(P)};return i.addEventListener("load",u),i.addEventListener("error",h),i.addEventListener("timeout",h),i.addEventListener("abort",h),t.reportProgress&&(i.addEventListener("progress",y),null!==s&&i.upload&&i.upload.addEventListener("progress",I)),i.send(s),r.next({type:Oo.Sent}),()=>{i.removeEventListener("error",h),i.removeEventListener("abort",h),i.removeEventListener("load",u),i.removeEventListener("timeout",h),t.reportProgress&&(i.removeEventListener("progress",y),null!==s&&i.upload&&i.upload.removeEventListener("progress",I)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ui))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const pv=new p.OlP("XSRF_COOKIE_NAME"),gv=new p.OlP("XSRF_HEADER_NAME");class jg{}let Ca=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Za(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe),p.LFG(p.Lbi),p.LFG(pv))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),oc=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(jg),p.LFG(gv))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),mv=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Fw,[]);this.chain=r.reduceRight((i,s)=>new rf(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(oo),p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Ow=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:oc,useClass:nE}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:pv,useValue:t.cookieName}:[],t.headerName?{provide:gv,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[oc,{provide:Fw,useExisting:oc,multi:!0},{provide:jg,useClass:Ca},{provide:pv,useValue:"XSRF-TOKEN"},{provide:gv,useValue:"X-XSRF-TOKEN"}]}),n})(),sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Bp,{provide:sr,useClass:mv},Pw,{provide:oo,useExisting:Pw}],imports:[[Ow.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Ea=class{constructor(e){this.http=e,this.api="https://sensortdd4iots-production.up.railway.app/",this.apilocal="http://localhost:8080/",this.showTemplate="false"}setShowTemplate(e){this.showTemplate=e}getShowTemplate(){return this.showTemplate}getusuario(){return this.http.get(this.api+"usuario/all")}getpulso(){return this.http.get(this.apilocal+"frecuenciacardiaca/getData")}getpaciente(){return this.http.get(this.api+"paciente/all")}getrelacion(){return this.http.get(this.api+"usuario/relacion")}postusuario(e){return this.http.post(this.api+"usuario/post",e)}postpersona(e){return this.http.post(this.api+"persona",e)}postpaciente(e){return this.http.post(this.api+"paciente",e)}verifiusuario(e){return this.http.post(this.api+"usuario/VerificarUsuarios/",e)}tipous(e){return this.http.post(this.apilocal+"usuario/tipous/",e)}pulsoDatos(){return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily?q=Barcelona,es&cnt=7&units=metric&appid=7dec162d0a4ae0d46539bf0a5c2e48e3")}};function Rw(n,e){if(1&n&&(p.TgZ(0,"tr",8)(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA()()),2&n){const t=e.$implicit;p.xp6(2),p.Oqu(t.id),p.xp6(2),p.Oqu(t.altura),p.xp6(2),p.Oqu(t.gruposanguineo),p.xp6(2),p.Oqu(t.peso)}}Ea.\u0275fac=function(e){return new(e||Ea)(p.LFG(Bp))},Ea.\u0275prov=p.Yz7({token:Ea,factory:Ea.\u0275fac,providedIn:"root"}),Ea=(0,W.gn)([(0,p.GSi)()],Ea);let uE=(()=>{class n{constructor(t){this.servicio=t}ngOnInit(){this.servicio.getpaciente().subscribe(t=>{this.reporte=t})}imprimir(){var t=new m;t.html("#table"),t.save("a4.pdf")}convertToPDF(){M()(document.getElementById("table")).then(t=>{const r=t.toDataURL("image/png");let i=new m("p","mm","a4");var s=i.internal.pageSize.getWidth();i.addImage(r,"PNG",0,0,s,t.height*s/t.width),i.save("REPORTE.pdf")})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ea))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-reportes"]],decls:24,vars:1,consts:[["id","table"],[2,"background-color","#86e460","color","rgb(0, 0, 0)"],[2,"border-bottom","1px solid #e5e5e5","width","50px"],[2,"border-bottom","1px solid #e5e5e5","width","90px"],[2,"border-bottom","1px solid #e5e5e5","width","200px"],[2,"border-bottom","1px solid #e5e5e5","width","80px"],["style","border-bottom: 1px solid #e5e5e5;",4,"ngFor","ngForOf"],["type","button",1,"btn-print",3,"click"],[2,"border-bottom","1px solid #e5e5e5"]],template:function(t,r){1&t&&(p.TgZ(0,"html")(1,"head")(2,"title"),p._uU(3,"Reporte de Pacientes"),p.qZA()(),p.TgZ(4,"body")(5,"h1"),p._uU(6,"REPORTES"),p.qZA(),p.TgZ(7,"h2"),p._uU(8,"PACIENTES"),p.qZA(),p.TgZ(9,"table",0)(10,"thead",1)(11,"tr")(12,"th",2),p._uU(13,"ID"),p.qZA(),p.TgZ(14,"th",3),p._uU(15,"ALTURA"),p.qZA(),p.TgZ(16,"th",4),p._uU(17,"GRUPO SANGU\xcdNEO"),p.qZA(),p.TgZ(18,"th",5),p._uU(19,"PESO"),p.qZA()()(),p.TgZ(20,"tbody"),p.YNc(21,Rw,9,4,"tr",6),p.qZA()(),p.TgZ(22,"button",7),p.NdJ("click",function(){return r.convertToPDF()}),p._uU(23,"IMPRIMIR"),p.qZA()()()),2&t&&(p.xp6(21),p.Q6J("ngForOf",r.reporte))},directives:[to],styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:75px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}h2[_ngcontent-%COMP%]{text-align:left;font-size:55px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;position:relative;top:30px;margin-left:800px}button[_ngcontent-%COMP%]{background-color:#d94a4a;color:#fff;padding:8px;border-radius:4px;font-weight:700}table[_ngcontent-%COMP%]{border:2px solid black;border-radius:200px;border-collapse:collapse;width:500px;font-size:25px;border:1px solid #e5e5e5;text-align:center;width:50%;margin:50px auto 0 500px}th[_ngcontent-%COMP%]{border:3px solid black;background-color:#86e460;margin-right:50px;font-family:Times New Roman,Times,serif}td[_ngcontent-%COMP%]{border:3px solid black;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;background-color:#d2fac2}.btn-print[_ngcontent-%COMP%]{position:absolute;right:320px;top:320px;font-size:20px;font-family:Times New Roman,Times,serif}"]}),n})();var $o=U(3527),bo=U(591),kw=U(6053),Kg=U(1737),AE=U(4450),hE=U(1961),Uw=U(8514),Sp=U(8896),Qw=U(1762),xp=U(8929),la=U(7545),Hw=U(2986),Fr=U(1059),Wh=U(2014),zh=U(7221),Vw=U(8127),dA=U(7224),E=U(1709),b=U(2994),S=U(2821),B=U(4327),k=U(537),G=U(9146);class ee{constructor(e,t){this.id=e,this.url=t}}class Ie extends ee{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Be extends ee{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Je extends ee{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class at extends ee{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gt extends ee{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends ee{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn extends ee{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class An extends ee{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In extends ee{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xn{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jr{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rn{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kn="primary";class Di{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _r(n){return new Di(n)}const lo="ngNavigationCancelingError";function Va(n){const e=Error("NavigationCancelingError: "+n);return e[lo]=!0,e}function os(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ka(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Ol(n[i],e[i]))return!1;return!0}function Ol(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Ll(n){return Array.prototype.concat.apply([],n)}function of(n){return n.length>0?n[n.length-1]:null}function $s(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function hl(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,$o.D)(Promise.resolve(n)):(0,Ue.of)(n)}const Ga={exact:function $h(n,e,t){if(!Fp(n.segments,e.segments)||!oh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$h(n.children[r],e.children[r],t))return!1;return!0},subset:jw},fA={exact:function af(n,e){return Ka(n,e)},subset:function T2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ol(n[t],e[t]))},ignored:()=>!0};function pA(n,e,t){return Ga[t.paths](n.root,e.root,t.matrixParams)&&fA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jw(n,e,t){return F2(n,e,e.segments,t)}function F2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fp(i,t)||e.hasChildren()||!oh(i,t,r))}if(n.segments.length===t.length){if(!Fp(n.segments,t)||!oh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!jw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Fp(n.segments,i)&&oh(n.segments,i,r)&&n.children[kn])&&F2(n.children[kn],e,s,r)}}function oh(n,e,t){return e.every((r,i)=>fA[t](n[i].parameters,r.parameters))}class Tp{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return fy.serialize(this)}}class Ci{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$s(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return py(this)}}class Gg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return Ww(this)}}function Fp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class M2{}class dy{parse(e){const t=new L2(e);return new Tp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yh(e.root,!0)}`,r=function zw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${lf(t)}=${lf(i)}`).join("&"):`${lf(t)}=${lf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function CN(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const fy=new dy;function py(n){return n.segments.map(e=>Ww(e)).join("/")}function Yh(n,e){if(!n.hasChildren())return py(n);if(e){const t=n.children[kn]?Yh(n.children[kn],!1):"",r=[];return $s(n.children,(i,s)=>{s!==kn&&r.push(`${s}:${Yh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bN(n,e){let t=[];return $s(n.children,(r,i)=>{i===kn&&(t=t.concat(e(r,i)))}),$s(n.children,(r,i)=>{i!==kn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===kn?[Yh(n.children[kn],!1)]:[`${i}:${Yh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kn]?`${py(n)}/${t[0]}`:`${py(n)}/(${t.join("//")})`}}function gy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lf(n){return gy(n).replace(/%3B/gi,";")}function Kw(n){return gy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yv(n){return decodeURIComponent(n)}function Gw(n){return yv(n.replace(/\+/g,"%20"))}function Ww(n){return`${Kw(n.path)}${function N2(n){return Object.keys(n).map(e=>`;${Kw(e)}=${Kw(n[e])}`).join("")}(n.parameters)}`}const EN=/^[^\/()?;=#]+/;function vv(n){const e=n.match(EN);return e?e[0]:""}const QQ=/^[^=?&#]+/,O2=/^[^&#]+/;class L2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[kn]=new Ci(e,t)),r}parseSegment(){const e=vv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Gg(yv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vv(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=vv(this.remaining);i&&(r=i,this.capture(r))}e[yv(t)]=yv(r)}parseQueryParam(e){const t=function P2(n){const e=n.match(QQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function IN(n){const e=n.match(O2);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Gw(t),s=Gw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=kn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[kn]:new Ci([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class R2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ac(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ac(e,this._root).map(t=>t.value)}}function dE(n,e){if(n===e.value)return e;for(const t of e.children){const r=dE(n,t);if(r)return r}return null}function ac(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ac(n,t);if(r.length)return r.unshift(e),r}return[]}class cf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function my(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class BN extends R2{constructor(e,t){super(e),this.snapshot=t,pE(this,e)}toString(){return this.snapshot.toString()}}function SN(n,e){const t=function k2(n,e){const o=new wv([],{},{},"",{},kn,e,null,n.root,-1,{});return new Q2("",new cf(o,[]))}(n,e),r=new bo.X([new Gg("",{})]),i=new bo.X({}),s=new bo.X({}),o=new bo.X({}),a=new bo.X(""),u=new _v(r,i,o,a,s,kn,e,t.root);return u.snapshot=t.root,new BN(new cf(u,[]),t)}class _v{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,en.U)(e=>_r(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,en.U)(e=>_r(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function U2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function fE(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wv{constructor(e,t,r,i,s,o,a,u,h,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=h,this._lastPathIndex=f,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Q2 extends R2{constructor(e,t){super(t),this.url=e,pE(this,t)}toString(){return H2(this._root)}}function pE(n,e){e.value._routerState=n,e.children.forEach(t=>pE(n,t))}function H2(n){const e=n.children.length>0?` { ${n.children.map(H2).join(", ")} } `:"";return`${n.value}${e}`}function qw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ka(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ka(e.params,t.params)||n.params.next(t.params),function ja(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ka(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ka(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gE(n,e){const t=Ka(n.params,e.params)&&function wN(n,e){return Fp(n,e)&&n.every((t,r)=>Ka(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gE(n.parent,e.parent))}function bv(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function xN(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bv(n,r,i);return bv(n,r)})}(n,e,t);return new cf(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>bv(n,a)),o}}const r=function j2(n){return new _v(new bo.X(n.url),new bo.X(n.params),new bo.X(n.queryParams),new bo.X(n.fragment),new bo.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>bv(n,s));return new cf(r,i)}}function $w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pc(n){return"object"==typeof n&&null!=n&&n.outlets}function Cv(n,e,t,r,i){let s={};if(r&&$s(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(h=>`${h}`):`${a}`}),n===e)return new Tp(t,s,i);const o=G2(n,e,t);return new Tp(o,s,i)}function G2(n,e,t){const r={};return $s(n.children,(i,s)=>{r[s]=i===e?t:G2(i,e,t)}),new Ci(n.segments,r)}class W2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$w(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Pc);if(i&&i!==of(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Zw(n,e,t){if(n||(n=new Ci([],{})),0===n.segments.length&&n.hasChildren())return Xw(n,e,t);const r=function MN(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Pc(a))break;const u=`${a}`,h=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!Jw(u,h,o))return s;r+=2}else{if(!Jw(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ci(n.segments.slice(0,r.pathIndex),{});return s.children[kn]=new Ci(n.segments.slice(r.pathIndex),n.children),Xw(s,0,i)}return r.match&&0===i.length?new Ci(n.segments,{}):r.match&&!n.hasChildren()?yy(n,e,t):r.match?Xw(n,0,i):yy(n,e,t)}function Xw(n,e,t){if(0===t.length)return new Ci(n.segments,{});{const r=function FN(n){return Pc(n[0])?n[0].outlets:{[kn]:n}}(t),i={};return $s(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Zw(n.children[o],e,s))}),$s(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ci(n.segments,i)}}function yy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Pc(s)){const u=mE(s.outlets);return new Ci(r,u)}if(0===i&&$w(t[0])){r.push(new Gg(n.segments[e].path,z2(t[0]))),i++;continue}const o=Pc(s)?s.outlets[kn]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&$w(a)?(r.push(new Gg(o,z2(a))),i+=2):(r.push(new Gg(o,{})),i++)}return new Ci(r,{})}function mE(n){const e={};return $s(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=yy(new Ci([],{}),0,t))}),e}function z2(n){const e={};return $s(n,(t,r)=>e[r]=`${t}`),e}function Jw(n,e,t){return n==t.path&&Ka(e,t.parameters)}class q2{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),qw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=my(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),$s(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=my(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=my(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=my(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xr(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Mi(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(qw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),qw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function VQ(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class $2{constructor(e,t){this.routes=e,this.module=t}}function Zh(n){return"function"==typeof n}function Wg(n){return n instanceof Tp}const vy=Symbol("INITIAL_VALUE");function xu(){return(0,la.w)(n=>(0,kw.aj)(n.map(e=>e.pipe((0,Hw.q)(1),(0,Fr.O)(vy)))).pipe((0,Wh.R)((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==vy?i:(s===vy&&(r=!0),r||!1!==s&&o!==t.length-1&&!Wg(s)?i:s),e)},vy),(0,wn.h)(e=>e!==vy),(0,en.U)(e=>Wg(e)?e:!0===e),(0,Hw.q)(1)))}class eb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ev,this.attachRef=null}}class Ev{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new eb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let vE=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=s||kn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new KQ(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ev),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class KQ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_v?this.route:e===Ev?this.childContexts:this.parent.get(e,t)}}let Iv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},directives:[vE],encapsulation:2}),n})();function _E(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];wE(r,Bv(e,r))}}function wE(n,e){n.children&&_E(n.children,e)}function Bv(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function bE(n){const e=n.children&&n.children.map(bE),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kn&&(t.component=Iv),t}function Oc(n){return n.outlet||kn}function CE(n,e){const t=n.filter(r=>Oc(r)===e);return t.push(...n.filter(r=>Oc(r)!==e)),t}const EE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sv(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},EE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||os)(t,n,e);if(!s)return Object.assign({},EE);const o={};$s(s.posParams,(u,h)=>{o[h]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function tb(n,e,t,r,i="corrected"){if(t.length>0&&function PN(n,e,t){return t.some(r=>uf(n,e,r)&&Oc(r)!==kn)}(n,t,r)){const o=new Ci(e,function NN(n,e,t,r){const i={};i[kn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Oc(s)!==kn){const o=new Ci([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Oc(s)]=o}return i}(n,e,r,new Ci(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function ex(n,e,t){return t.some(r=>uf(n,e,r))}(n,t,r)){const o=new Ci(n.segments,function IE(n,e,t,r,i,s){const o={};for(const a of r)if(uf(n,t,a)&&!i[Oc(a)]){const u=new Ci([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Oc(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ci(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function uf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function BE(n,e,t,r){return!!(Oc(n)===r||r!==kn&&uf(e,t,n))&&("**"===n.path||Sv(e,n,t).matched)}function tx(n,e,t){return 0===e.length&&!n.children[t]}class nb{constructor(e){this.segmentGroup=e||null}}class zg{constructor(e){this.urlTree=e}}function xv(n){return(0,Kg._)(new nb(n))}function nx(n){return(0,Kg._)(new zg(n))}function ON(n){return(0,Kg._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class SE{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(p.h0i)}apply(){const e=tb(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ci(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,kn).pipe((0,en.U)(s=>this.createUrlTree(rb(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,zh.K)(s=>{if(s instanceof zg)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof nb?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,kn).pipe((0,en.U)(i=>this.createUrlTree(rb(i),e.queryParams,e.fragment))).pipe((0,zh.K)(i=>{throw i instanceof nb?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ci([],{[kn]:e}):e;return new Tp(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,en.U)(s=>new Ci([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,$o.D)(i).pipe((0,on.b)(s=>{const o=r.children[s],a=CE(t,s);return this.expandSegmentGroup(e,a,o,s).pipe((0,en.U)(u=>({segment:u,outlet:s})))}),(0,Wh.R)((s,o)=>(s[o.outlet]=o.segment,s),{}),(0,Vw.Z)())}expandSegment(e,t,r,i,s,o){return(0,$o.D)(r).pipe((0,on.b)(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe((0,zh.K)(h=>{if(h instanceof nb)return(0,Ue.of)(null);throw h}))),(0,dA.P)(a=>!!a),(0,zh.K)((a,u)=>{if(a instanceof AE.K||"EmptyError"===a.name)return tx(t,i,s)?(0,Ue.of)(new Ci([],{})):xv(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return BE(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):xv(t):xv(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nx(s):this.lineralizeSegments(r,s).pipe((0,E.zg)(o=>{const a=new Ci(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:h,positionalParamSegments:f}=Sv(t,i,s);if(!a)return xv(t);const y=this.applyRedirectCommands(u,i.redirectTo,f);return i.redirectTo.startsWith("/")?nx(y):this.lineralizeSegments(i,y).pipe((0,E.zg)(I=>this.expandSegment(e,t,r,I.concat(h),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,en.U)(y=>(r._loadedConfig=y,new Ci(i,{})))):(0,Ue.of)(new Ci(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Sv(t,r,i);return o?this.getChildConfig(e,r,i).pipe((0,E.zg)(f=>{const y=f.module,I=f.routes,{segmentGroup:C,slicedSegments:P}=tb(t,a,u,I),L=new Ci(C.segments,C.children);if(0===P.length&&L.hasChildren())return this.expandChildren(y,I,L).pipe((0,en.U)(se=>new Ci(a,se)));if(0===I.length&&0===P.length)return(0,Ue.of)(new Ci(a,{}));const V=Oc(r)===s;return this.expandSegment(y,L,I,P,V?kn:s,!0).pipe((0,en.U)(z=>new Ci(a.concat(z.segments),z.children)))})):xv(t)}getChildConfig(e,t,r){return t.children?(0,Ue.of)(new $2(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ue.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,E.zg)(i=>i?this.configLoader.load(e.injector,t).pipe((0,en.U)(s=>(t._loadedConfig=s,s))):function LN(n){return(0,Kg._)(Va(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,Ue.of)(new $2([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return(0,Ue.of)(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function Y2(n){return n&&Zh(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Zh(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return hl(u)});return(0,Ue.of)(s).pipe(xu(),(0,b.b)(o=>{if(!Wg(o))return;const a=Va(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),(0,en.U)(o=>!0===o))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Ue.of)(r);if(i.numberOfChildren>1||!i.children[kn])return ON(e.redirectTo);i=i.children[kn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Tp(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return $s(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return $s(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new Ci(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function rb(n){const e={};for(const r of Object.keys(n.children)){const s=rb(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function rx(n){if(1===n.numberOfChildren&&n.children[kn]){const e=n.children[kn];return new Ci(n.segments.concat(e.segments),e.children)}return n}(new Ci(n.segments,e))}class xE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ib{constructor(e,t){this.component=e,this.route=t}}function RN(n,e,t){const r=n._root;return ob(r,e?e._root:null,t,[r.value])}function sb(n,e,t){const r=function sx(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ob(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=my(e);return n.children.forEach(o=>{(function ox(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function UN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fp(n.url,e.url)||!Ka(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gE(n,e)||!Ka(n.queryParams,e.queryParams);default:return!gE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ob(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ib(a.outlet.component,o))}else o&&Dv(e,a,i),i.canActivateChecks.push(new xE(r)),ob(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),$s(s,(o,a)=>Dv(o,t.getContext(a),i)),i}function Dv(n,e,t){const r=my(n),i=n.value;$s(r,(s,o)=>{Dv(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ib(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class qQ{}function HN(n){return new Ot.y(e=>e.error(n))}class ux{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=tb(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,kn);if(null===t)return null;const r=new wv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new cf(r,t),s=new Q2(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=U2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=CE(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=TE(r);return function Ax(n){n.sort((e,t)=>e.value.outlet===kn?-1:t.value.outlet===kn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return tx(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!BE(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const C=r.length>0?of(r).parameters:{};s=new wv(r,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fx(e),Oc(e),e.component,e,dx(t),ab(t)+r.length,px(e))}else{const C=Sv(t,e,r);if(!C.matched)return null;o=C.consumedSegments,a=C.remainingSegments,s=new wv(o,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fx(e),Oc(e),e.component,e,dx(t),ab(t)+o.length,px(e))}const u=function VN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:h,slicedSegments:f}=tb(t,o,a,u.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===f.length&&h.hasChildren()){const C=this.processChildren(u,h);return null===C?null:[new cf(s,C)]}if(0===u.length&&0===f.length)return[new cf(s,[])];const y=Oc(e)===i,I=this.processSegment(u,h,f,y?kn:i);return null===I?null:[new cf(s,I)]}}function $Q(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function TE(n){const e=[],t=new Set;for(const r of n){if(!$Q(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=TE(r.children);e.push(new cf(r.value,i))}return e.filter(r=>!t.has(r))}function dx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ab(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function fx(n){return n.data||{}}function px(n){return n.resolve||{}}function Tv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FE(n){return(0,la.w)(e=>{const t=n(e);return t?(0,$o.D)(t).pipe((0,en.U)(()=>e)):(0,Ue.of)(e)})}class qN extends class zN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mv=new p.OlP("ROUTES");class lh{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,en.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new $2(Ll(o.injector.get(Mv,void 0,p.XFs.Self|p.XFs.Optional)).map(bE),o)}),(0,zh.K)(s=>{throw t._loader$=void 0,s}));return t._loader$=new Qw.c(i,()=>new xp.xQ).pipe((0,B.x)()),t._loader$}loadModuleFactory(e){return hl(e()).pipe((0,E.zg)(t=>t instanceof p.YKP?(0,Ue.of)(t):(0,$o.D)(this.compiler.compileModuleAsync(t))))}}class Rl{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function qg(n){throw n}function lb(n,e,t){return e.parse("/")}function Du(n,e){return(0,Ue.of)(null)}const ME={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yo=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xp.xQ,this.errorHandler=qg,this.malformedUriErrorHandler=lb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Du,afterPreactivation:Du},this.urlHandlingStrategy=new Rl,this.routeReuseStrategy=new qN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(p.h0i),this.console=o.get(p.c2e);const y=o.get(p.R0b);this.isNgZoneEnabled=y instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function Dp(){return new Tp(new Ci([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lh(o,a,I=>this.triggerEvent(new Wr(I)),I=>this.triggerEvent(new tr(I))),this.routerState=SN(this.currentUrlTree,this.rootComponentType),this.transitions=new bo.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,wn.h)(i=>0!==i.id),(0,en.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,la.w)(i=>{let s=!1,o=!1;return(0,Ue.of)(i).pipe((0,b.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,la.w)(a=>{const u=this.browserUrlTree.toString(),h=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return $g(a.source)&&(this.browserUrlTree=a.extractedUrl),(0,Ue.of)(a).pipe((0,la.w)(y=>{const I=this.transitions.getValue();return r.next(new Ie(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions.getValue()?Sp.E:Promise.resolve(y)}),function ix(n,e,t,r){return(0,la.w)(i=>function Xh(n,e,t,r,i){return new SE(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,en.U)(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,b.b)(y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:y.urlAfterRedirects})}),function jN(n,e,t,r,i){return(0,E.zg)(s=>function cx(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new ux(n,e,t,r,i,s).recognize();return null===o?HN(new qQ):(0,Ue.of)(o)}catch(o){return HN(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe((0,en.U)(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,b.b)(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const C=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(C,y)}this.browserUrlTree=y.urlAfterRedirects}const I=new gt(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(I)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:C,source:P,restoredState:L,extras:V}=a,j=new Ie(I,this.serializeUrl(C),P,L);r.next(j);const z=SN(C,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},a),{targetSnapshot:z,urlAfterRedirects:C,extras:Object.assign(Object.assign({},V),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Sp.E}),FE(a=>{const{targetSnapshot:u,id:h,extractedUrl:f,rawUrl:y,extras:{skipLocationChange:I,replaceUrl:C}}=a;return this.hooks.beforePreactivation(u,{navigationId:h,appliedUrlTree:f,rawUrlTree:y,skipLocationChange:!!I,replaceUrl:!!C})}),(0,b.b)(a=>{const u=new Ut(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),(0,en.U)(a=>Object.assign(Object.assign({},a),{guards:RN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function GQ(n,e){return(0,E.zg)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?(0,Ue.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function WQ(n,e,t,r){return(0,$o.D)(n).pipe((0,E.zg)(i=>function ah(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Ue.of)(!0);const o=s.map(a=>{const u=sb(a,e,i);let h;if(function J2(n){return n&&Zh(n.canDeactivate)}(u))h=hl(u.canDeactivate(n,e,t,r));else{if(!Zh(u))throw new Error("Invalid CanDeactivate guard");h=hl(u(n,e,t,r))}return h.pipe((0,dA.P)())});return(0,Ue.of)(o).pipe(xu())}(i.component,i.route,t,e,r)),(0,dA.P)(i=>!0!==i,!0))}(o,r,i,n).pipe((0,E.zg)(a=>a&&function jQ(n){return"boolean"==typeof n}(a)?function DE(n,e,t,r){return(0,$o.D)(e).pipe((0,on.b)(i=>(0,hE.z)(function ax(n,e){return null!==n&&e&&e(new Xn(n)),(0,Ue.of)(!0)}(i.route.parent,r),function QN(n,e){return null!==n&&e&&e(new Jr(n)),(0,Ue.of)(!0)}(i.route,r),function zQ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function kN(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>(0,Uw.P)(()=>{const a=o.guards.map(u=>{const h=sb(u,o.node,t);let f;if(function X2(n){return n&&Zh(n.canActivateChild)}(h))f=hl(h.canActivateChild(r,n));else{if(!Zh(h))throw new Error("Invalid CanActivateChild guard");f=hl(h(r,n))}return f.pipe((0,dA.P)())});return(0,Ue.of)(a).pipe(xu())}));return(0,Ue.of)(s).pipe(xu())}(n,i.path,t),function lx(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ue.of)(!0);const i=r.map(s=>(0,Uw.P)(()=>{const o=sb(s,e,t);let a;if(function Z2(n){return n&&Zh(n.canActivate)}(o))a=hl(o.canActivate(e,n));else{if(!Zh(o))throw new Error("Invalid CanActivate guard");a=hl(o(e,n))}return a.pipe((0,dA.P)())}));return(0,Ue.of)(i).pipe(xu())}(n,i.route,t))),(0,dA.P)(i=>!0!==i,!0))}(r,s,n,e):(0,Ue.of)(a)),(0,en.U)(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),(0,b.b)(a=>{if(Wg(a.guardsResult)){const h=Va(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw h.url=a.guardsResult,h}const u=new Nn(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),(0,wn.h)(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),FE(a=>{if(a.guards.canActivateChecks.length)return(0,Ue.of)(a).pipe((0,b.b)(u=>{const h=new An(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),(0,la.w)(u=>{let h=!1;return(0,Ue.of)(u).pipe(function KN(n,e){return(0,E.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Ue.of)(t);let s=0;return(0,$o.D)(i).pipe((0,on.b)(o=>function GN(n,e,t,r){return function WN(n,e,t,r){const i=Tv(n);if(0===i.length)return(0,Ue.of)({});const s={};return(0,$o.D)(i).pipe((0,E.zg)(o=>function _y(n,e,t,r){const i=sb(n,e,r);return hl(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe((0,b.b)(a=>{s[o]=a}))),(0,S.h)(1),(0,E.zg)(()=>Tv(s).length===i.length?(0,Ue.of)(s):Sp.E))}(n._resolve,n,e,r).pipe((0,en.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),U2(n,t).resolve),null)))}(o.route,r,n,e)),(0,b.b)(()=>s++),(0,S.h)(1),(0,E.zg)(o=>s===i.length?(0,Ue.of)(t):Sp.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,b.b)({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),(0,b.b)(u=>{const h=new In(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}))}),FE(a=>{const{targetSnapshot:u,id:h,extractedUrl:f,rawUrl:y,extras:{skipLocationChange:I,replaceUrl:C}}=a;return this.hooks.afterPreactivation(u,{navigationId:h,appliedUrlTree:f,rawUrlTree:y,skipLocationChange:!!I,replaceUrl:!!C})}),(0,en.U)(a=>{const u=function V2(n,e,t){const r=bv(n,e._root,t?t._root:void 0);return new BN(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),(0,b.b)(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>(0,en.U)(r=>(new q2(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),(0,b.b)({next(){s=!0},complete(){s=!0}}),(0,k.x)(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),(0,zh.K)(a=>{if(o=!0,function Al(n){return n&&n[lo]}(a)){const u=Wg(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const h=new Je(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(h),u?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$g(i.source)};this.scheduleNavigation(f,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new at(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(h){i.reject(h)}}return Sp.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_E(t),this.config=t.map(bE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,h=i||this.routerState.root,f=u?this.currentUrlTree.fragment:o;let y=null;switch(a){case"merge":y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}return null!==y&&(y=this.removeEmptyProps(y)),function K2(n,e,t,r,i){if(0===t.length)return Cv(e.root,e.root,e.root,r,i);const s=function HQ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new W2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return $s(s.outlets,(u,h)=>{a[h]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new W2(t,e,r)}(t);if(s.toRoot())return Cv(e.root,e.root,new Ci([],{}),r,i);const o=function DN(n,e,t){if(n.isAbsolute)return new Yw(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Yw(s,s===e.root,0)}const r=$w(n.commands[0])?0:1;return function TN(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yw(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Xw(o.segmentGroup,o.index,s.commands):Zw(o.segmentGroup,o.index,s.commands);return Cv(e.root,o.segmentGroup,a,r,i)}(h,this.currentUrlTree,t,y,null!=f?f:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Wg(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function by(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},ME):!1===r?Object.assign({},wy):r,Wg(t))return pA(this.currentUrlTree,t,i);const s=this.parseUrl(t);return pA(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let h,f,y;o?(h=o.resolve,f=o.reject,y=o.promise):y=new Promise((P,L)=>{h=P,f=L});const I=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):C=0,this.setTransition({id:I,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:f,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Je(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function $g(n){return"imperative"!==n}let Af=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new xp.xQ,this.subscription=t.events.subscribe(s=>{s instanceof Be&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ch(this.skipLocationChange),replaceUrl:ch(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ch(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Yo),p.Y36(_v),p.Y36(ct))},n.\u0275dir=p.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&p.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&p.uIk("target",r.target)("href",r.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),n})();function ch(n){return""===n||!!n}class NE{}class PE{preload(e,t){return(0,Ue.of)(null)}}let OE=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new lh(i,r,u=>t.triggerEvent(new Wr(u)),u=>t.triggerEvent(new tr(u)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,wn.h)(t=>t instanceof Be),(0,on.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(p.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,$o.D)(i).pipe((0,G.J)(),(0,en.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,E.zg)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Yo),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(NE))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),cb=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ie?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Be&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Rn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Np=new p.OlP("ROUTER_CONFIGURATION"),LE=new p.OlP("ROUTER_FORROOT_GUARD"),mx=[cr,{provide:M2,useClass:dy},{provide:Yo,useFactory:function JN(n,e,t,r,i,s,o={},a,u){const h=new Yo(null,n,e,t,r,i,Ll(s));return a&&(h.urlHandlingStrategy=a),u&&(h.routeReuseStrategy=u),function _x(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,h),o.enableTracing&&h.events.subscribe(f=>{var y,I;null===(y=console.group)||void 0===y||y.call(console,`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),null===(I=console.groupEnd)||void 0===I||I.call(console)}),h},deps:[M2,Ev,cr,p.zs3,p.Sil,Mv,Np,[class Nv{},new p.FiY],[class Fv{},new p.FiY]]},Ev,{provide:_v,useFactory:function eP(n){return n.routerState.root},deps:[Yo]},OE,PE,class gx{preload(e,t){return t().pipe((0,zh.K)(()=>(0,Ue.of)(null)))}},{provide:Np,useValue:{enableTracing:!1}}];function YN(){return new p.PXZ("Router",Yo)}let RE=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[mx,vx(t),{provide:LE,useFactory:yx,deps:[[Yo,new p.FiY,new p.tp0]]},{provide:Np,useValue:r||{}},{provide:ct,useFactory:XN,deps:[Z,[new p.tBr(bn),new p.FiY],Np]},{provide:cb,useFactory:ZN,deps:[Yo,zu,Np]},{provide:NE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:PE},{provide:p.PXZ,multi:!0,useFactory:YN},[ub,{provide:p.ip1,multi:!0,useFactory:tP,deps:[ub]},{provide:wx,useFactory:nP,deps:[ub]},{provide:p.tb,multi:!0,useExisting:wx}]]}}static forChild(t){return{ngModule:n,providers:[vx(t)]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(LE,8),p.LFG(Yo,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function ZN(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new cb(n,e,t)}function XN(n,e,t={}){return t.useHash?new ar(n,e):new nr(n,e)}function yx(n){return"guarded"}function vx(n){return[{provide:p.deG,multi:!0,useValue:n},{provide:Mv,multi:!0,useValue:n}]}let ub=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xp.xQ}appInitializer(){return this.injector.get(X,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Yo),o=this.injector.get(Np);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Np),i=this.injector.get(OE),s=this.injector.get(cb),o=this.injector.get(Yo),a=this.injector.get(p.z2F);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function tP(n){return n.appInitializer.bind(n)}function nP(n){return n.bootstrapListener.bind(n)}const wx=new p.OlP("Router Initializer");var kE=U(567);let Cx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),Iy=(()=>{class n extends Cx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const hf=new p.OlP("NgValueAccessor"),Ix={provide:hf,useExisting:(0,p.Gpc)(()=>df),multi:!0},iP=new p.OlP("CompositionEventMode");let df=(()=>{class n extends Cx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZQ(){const n=ce()?ce().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(iP,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[p._Bn([Ix]),p.qOj]}),n})();function Pp(n){return null==n||0===n.length}function UE(n){return null!=n&&"number"==typeof n.length}const kl=new p.OlP("NgValidators"),ff=new p.OlP("NgAsyncValidators"),Ab=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lc{static min(e){return function QE(n){return e=>{if(Pp(e.value)||Pp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Bx(n){return e=>{if(Pp(e.value)||Pp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Sx(n){return Pp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xx(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Dx(n){return Pp(n.value)||Ab.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Tx(n){return e=>Pp(e.value)||!UE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function HE(n){return e=>UE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Fx(n){if(!n)return Pv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pp(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return By(e)}static composeAsync(e){return pb(e)}}function Pv(n){return null}function VE(n){return null!=n}function hb(n){const e=(0,p.QGY)(n)?(0,$o.D)(n):n;return(0,p.CqO)(e),e}function sP(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function db(n,e){return e.map(t=>t(n))}function aP(n){return n.map(e=>function oP(n){return!n.validate}(e)?e:t=>e.validate(t))}function By(n){if(!n)return null;const e=n.filter(VE);return 0==e.length?null:function(t){return sP(db(t,e))}}function fb(n){return null!=n?By(aP(n)):null}function pb(n){if(!n)return null;const e=n.filter(VE);return 0==e.length?null:function(t){const r=db(t,e).map(hb);return(0,kE.D)(r).pipe((0,en.U)(sP))}}function Ov(n){return null!=n?pb(aP(n)):null}function Mx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Lv(n){return n._rawValidators}function Rv(n){return n._rawAsyncValidators}function kv(n){return n?Array.isArray(n)?n:[n]:[]}function jE(n,e){return Array.isArray(n)?n.includes(e):n===e}function Nx(n,e){const t=kv(e);return kv(n).forEach(i=>{jE(t,i)||t.push(i)}),t}function gb(n,e){return kv(e).filter(t=>!jE(n,t))}class mb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ov(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pf extends mb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ul extends mb{get formDirective(){return null}get path(){return null}}class yb{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let vb=(()=>{class n extends yb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(pf,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[p.qOj]}),n})(),KE=(()=>{class n extends yb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ul,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[p.qOj]}),n})();function Sy(n,e){wb(n,e),e.valueAccessor.writeValue(n.value),function Ia(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Vx(n,e)})}(n,e),function dP(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Hx(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Vx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),bb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _b(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wb(n,e){const t=Lv(n);null!==e.validator?n.setValidators(Mx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Rv(n);null!==e.asyncValidator?n.setAsyncValidators(Mx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();_b(e._rawValidators,i),_b(e._rawAsyncValidators,i)}function bb(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Lv(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Rv(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return _b(e._rawValidators,r),_b(e._rawAsyncValidators,r),t}function Vx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Lc="VALID",Eb="INVALID",xy="PENDING",Rc="DISABLED";function Tu(n){return(Bb(n)?n.validators:n)||null}function YE(n){return Array.isArray(n)?fb(n):n||null}function Ib(n,e){return(Bb(e)?e.asyncValidators:n)||null}function zx(n){return Array.isArray(n)?Ov(n):n||null}function Bb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ZE=n=>n instanceof Db,Sb=n=>n instanceof jv,xb=n=>n instanceof Kv;function Dy(n){return ZE(n)?n.value:n.getRawValue()}function qx(n,e){const t=Sb(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[e])throw new p.vHH(1001,"")}function XE(n,e){Sb(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new p.vHH(1002,"")})}class JE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=YE(this._rawValidators),this._composedAsyncValidatorFn=zx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Lc}get invalid(){return this.status===Eb}get pending(){return this.status==xy}get disabled(){return this.status===Rc}get enabled(){return this.status!==Rc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=YE(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=zx(e)}addValidators(e){this.setValidators(Nx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gb(e,this._rawAsyncValidators))}hasValidator(e){return jE(this._rawValidators,e)}hasAsyncValidator(e){return jE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lc||this.status===xy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rc:Lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xy,this._hasOwnPendingAsyncValidator=!0;const t=hb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function uh(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Sb(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:xb(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Rc:this.errors?Eb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xy)?xy:this._anyControlsHaveStatus(Eb)?Eb:Lc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Db extends JE{constructor(e=null,t,r){super(Tu(t),Ib(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bb(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class jv extends JE{constructor(e,t,r){super(Tu(t),Ib(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){XE(this,e),Object.keys(e).forEach(r=>{qx(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Dy(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Kv extends JE{constructor(e,t,r){super(Tu(t),Ib(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){XE(this,e),e.forEach((r,i)=>{qx(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Dy(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const iI=new p.OlP("NgModelWithFormControlWarning"),BP={provide:Ul,useExisting:(0,p.Gpc)(()=>Mb)};let Mb=(()=>{class n extends Ul{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Sy(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zE(t.control||null,t,!1),Wx(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Gx(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zE(r||null,t),ZE(i)&&(Sy(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function qE(n,e){wb(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function fP(n,e){return bb(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wb(this.form,this),this._oldForm&&bb(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(kl,10),p.Y36(ff,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&p.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([BP]),p.qOj,p.TTD]}),n})();const rD={provide:pf,useExisting:(0,p.Gpc)(()=>Pb)};let Pb=(()=>{class n extends pf{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Cb(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===df?t=s:function Kx(n){return Object.getPrototypeOf(n.constructor)===Iy}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function $E(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Hv(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(p.Y36(Ul,13),p.Y36(kl,10),p.Y36(ff,10),p.Y36(hf,10),p.Y36(iI,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([rD]),p.qOj,p.TTD]}),n})(),dD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Jx]]}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[dD]}),n})(),fD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iI,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[dD]}),n})(),pD=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let a,s=null,o=null;return null!=r&&(function Wv(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new jv(i,{asyncValidators:o,updateOn:a,validators:s})}control(t,r,i){return new Db(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new Kv(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return ZE(t)||Sb(t)||xb(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:fD}),n})();var Bt=U(5861),Os=U(9681),Fu=U(4859),be=U(2090),kc=U(1877);const gD="@firebase/database";let Xg="";function mD(n){Xg=n}class QP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,be.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,be.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class HP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,be.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const hI=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QP(e)}}catch(e){}return new HP},Lp=hI("localStorage"),Rb=hI("sessionStorage"),Py=new kc.Yd("@firebase/database"),dI=function(){let n=1;return function(){return n++}}(),yD=function(n){const e=(0,be.dS)(n),t=new be.gQ;t.update(e);const r=t.digest();return be.US.encodeByteArray(r)},zv=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=zv.apply(null,r):e+="object"==typeof r?(0,be.Wl)(r):r,e+=" "}return e};let Oy=null,VP=!0;const jP=function(n,e){(0,be.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Py.logLevel=kc.in.VERBOSE,Oy=Py.log.bind(Py),e&&Rb.set("logging_enabled",!0)):"function"==typeof n?Oy=n:(Oy=null,Rb.remove("logging_enabled"))},dl=function(...n){if(!0===VP&&(VP=!1,null===Oy&&!0===Rb.get("logging_enabled")&&jP(!0)),Oy){const e=zv.apply(null,n);Oy(e)}},Ly=function(n){return function(...e){dl(n,...e)}},Ry=function(...n){const e="FIREBASE INTERNAL ERROR: "+zv(...n);Py.error(e)},Jh=function(...n){const e=`FIREBASE FATAL ERROR: ${zv(...n)}`;throw Py.error(e),new Error(e)},Ql=function(...n){const e="FIREBASE WARNING: "+zv(...n);Py.warn(e)},Rp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},kp="[MIN_NAME]",gf="[MAX_NAME]",Jg=function(n,e){if(n===e)return 0;if(n===kp||e===gf)return-1;if(e===kp||n===gf)return 1;{const t=kb(n),r=kb(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},GP=function(n,e){return n===e?0:n<e?-1:1},ky=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,be.Wl)(e))},fI=function(n){if("object"!=typeof n||null===n)return(0,be.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,be.Wl)(e[r]),t+=":",t+=fI(n[e[r]]);return t+="}",t},_D=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Co(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const wD=function(n){(0,be.hu)(!Rp(n),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const h=[];for(u=52;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const f=h.join("");let y="";for(u=0;u<64;u+=8){let I=parseInt(f.substr(u,8),2).toString(16);1===I.length&&(I="0"+I),y+=I}return y.toLowerCase()},zP=new RegExp("^-?(0*)\\d{1,10}$"),kb=function(n){if(zP.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Uy=function(n){try{n()}catch(e){setTimeout(()=>{throw Ql("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Qy=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class $P{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ql(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class YP{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(dl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ql(e)}}let qv=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const DD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MD="websocket",ND="long_polling";class Ub{constructor(e,t,r,i,s=!1,o="",a=!1,u=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lp.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lp.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function OD(n,e,t){let r;if((0,be.hu)("string"==typeof e,"typeof type must == string"),(0,be.hu)("object"==typeof t,"typeof params must == object"),e===MD)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==ND)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function PD(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Co(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class ZP{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,be.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,be.p$)(this.counters_)}}const Qb={},mI={};function yI(n){const e=n.toString();return Qb[e]||(Qb[e]=new ZP),Qb[e]}class vI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Uy(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class gA{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ly(e),this.stats_=yI(t),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),OD(t,ND,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,be.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wI((...s)=>{const[o,a,u,h,f]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&DD.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gA.forceAllow_=!0}static forceDisallow(){gA.forceDisallow_=!0}static isAvailable(){return!((0,be.Yr)()||!gA.forceAllow_&&(gA.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,be.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,be.h$)(t),i=_D(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,be.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,be.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class wI{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,be.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=dI(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=wI.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dl("frame writing exception"),a.stack&&dl(a.stack),dl(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||dl("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,be.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{dl("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Kb=null;"undefined"!=typeof MozWebSocket?Kb=MozWebSocket:"undefined"!=typeof WebSocket&&(Kb=WebSocket);let jy=(()=>{class n{constructor(t,r,i,s,o,a,u){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ly(this.connId),this.stats_=yI(r),this.connURL=n.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return!(0,be.Yr)()&&"undefined"!=typeof location&&location.hostname&&DD.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),OD(t,MD,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lp.set("previous_websocket_failure",!0);try{let i;if((0,be.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Xg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Kb(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Kb&&!n.forceDisallow_}static previouslyFailed(){return Lp.isInMemoryStorage||!0===Lp.get("previous_websocket_failure")}markConnectionHealthy(){Lp.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,be.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,be.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,be.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=_D(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),KD=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[gA,jy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=jy&&jy.isAvailable();let i=r&&!jy.previouslyFailed();if(t.webSocketOnly&&(r||Ql("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[jy];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class YD{constructor(e,t,r,i,s,o,a,u,h,f){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ly("c:"+this.id+":"),this.transportManager_=new KD(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ky("t",e),r=ky("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ky("t",e),r=ky("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ky("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Ry("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ry("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ql("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Qy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ZD{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class em{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,be.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,be.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $v extends em{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,be.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $v}getInitialEvent(e){return(0,be.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class $i{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ki(){return new $i("")}function yi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function mf(n){return n.pieces_.length-n.pieceNum_}function Ls(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new $i(n.pieces_,e)}function Wb(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Yv(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function XD(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new $i(e,0)}function co(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof $i)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new $i(t,0)}function fi(n){return n.pieceNum_>=n.pieces_.length}function cc(n,e){const t=yi(n),r=yi(e);if(null===t)return e;if(t===r)return cc(Ls(n),Ls(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function lO(n,e){const t=Yv(n,0),r=Yv(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=Jg(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function II(n,e){if(mf(n)!==mf(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function mA(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(mf(n)>mf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class cO{constructor(e,t){this.errorPrefix_=t,this.parts_=Yv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,be.ug)(this.parts_[r]);BI(this)}}function BI(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Up(n))}function Up(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class zb extends em{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zb}getInitialEvent(e){return(0,be.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Wy=1e3;let qb,nm=(()=>{class n extends ZD{constructor(t,r,i,s,o,a,u,h){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=n.nextPersistentConnectionId_++,this.log_=Ly("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!(0,be.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zb.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&$v.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_((0,be.Wl)(o)),(0,be.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new be.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,be.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,be.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,u=>{const h=u.d,f=u.s;n.warnOnListenWarnings_(h,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",u),"ok"!==f&&this.removeListen_(i,s),t.onComplete&&t.onComplete(f,h))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,be.r3)(t,"w")){const i=(0,be.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ql(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,be.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,be.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,be.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,be.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Ry("Unrecognized action received from server: "+(0,be.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,be.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wy,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Wy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Bt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let u=!1,h=null;const f=function(){h?h.close():(u=!0,s())};t.realtime_={close:f,sendRequest:function(C){(0,be.hu)(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(C)}};const I=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[C,P]=yield Promise.all([t.authTokenProvider_.getToken(I),t.appCheckTokenProvider_.getToken(I)]);u?dl("getToken() completed but was canceled"):(dl("getToken() completed. Creating connection."),t.authToken_=C&&C.accessToken,t.appCheckToken_=P&&P.token,h=new YD(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,L=>{Ql(L+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(C){t.log_("Failed to get token: "+C),u||(t.repoInfo_.nodeAdmin&&Ql(C),f())}}})()}interrupt(t){dl("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){dl("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,be.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Wy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>fI(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new $i(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){dl("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){dl("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,be.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Xg.replace(/\./g,"-")]=1,(0,be.uI)()?t["framework.cordova"]=1:(0,be.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$v.getInstance().currentlyOnline();return(0,be.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class vi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new vi(e,t)}}class Qp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new vi(kp,e),i=new vi(kp,t);return 0!==this.compare(r,i)}minPost(){return vi.MIN}}class $b extends Qp{static get __EMPTY_NODE(){return qb}static set __EMPTY_NODE(e){qb=e}compare(e,t){return Jg(e.name,t.name)}isDefinedOn(e){throw(0,be.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return vi.MIN}maxPost(){return new vi(gf,qb)}makePost(e,t){return(0,be.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new vi(e,qb)}toString(){return".key"}}const Ba=new $b;class Yb{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let zy,Mu=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Uc.EMPTY_NODE,this.right=null!=o?o:Uc.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Uc.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Uc.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Uc{constructor(e,t=Uc.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Uc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Mu.BLACK,null,null))}remove(e){return new Uc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mu.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Yb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Yb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Yb(this.root_,null,this.comparator_,!0,e)}}function fO(n,e){return Jg(n.name,e.name)}function SI(n,e){return Jg(n,e)}Uc.EMPTY_NODE=new class Xv{copy(e,t,r,i,s){return this}insert(e,t,r){return new Mu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const nT=function(n){return"number"==typeof n?"number:"+wD(n):"string:"+n},rT=function(n){if(n.isLeafNode()){const e=n.val();(0,be.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,be.r3)(e,".sv"),"Priority must be a string or number.")}else(0,be.hu)(n===zy||n.isEmpty(),"priority of unexpected type.");(0,be.hu)(n===zy||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xI,Xb,DI,rm=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,be.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),rT(this.priorityNode_)}static set __childrenNodeConstructor(t){xI=t}static get __childrenNodeConstructor(){return xI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return fi(t)?this:".priority"===yi(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=yi(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,be.hu)(".priority"!==i||1===mf(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ls(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+nT(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?wD(this.value_):this.value_,this.lazyHash_=yD(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,be.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,be.hu)(s>=0,"Unknown leaf type: "+r),(0,be.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const vs=new class aH extends Qp{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Jg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return vi.MIN}maxPost(){return new vi(gf,new rm("[PRIORITY-POST]",DI))}makePost(e,t){const r=Xb(e);return new vi(t,new rm("[PRIORITY-POST]",r))}toString(){return".priority"}},TI=Math.log(2);class iT{constructor(e){this.count=parseInt(Math.log(e+1)/TI,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qy=function(n,e,t,r){n.sort(e);const i=function(u,h){const f=h-u;let y,I;if(0===f)return null;if(1===f)return y=n[u],I=t?t(y):y,new Mu(I,y.node,Mu.BLACK,null,null);{const C=parseInt(f/2,10)+u,P=i(u,C),L=i(C+1,h);return y=n[C],I=t?t(y):y,new Mu(I,y.node,Mu.BLACK,P,L)}},a=function(u){let h=null,f=null,y=n.length;const I=function(P,L){const V=y-P,j=y;y-=P;const z=i(V+1,j),se=n[V],ve=t?t(se):se;C(new Mu(ve,se.node,L,null,z))},C=function(P){h?(h.left=P,h=P):(f=P,h=P)};for(let P=0;P<u.count;++P){const L=u.nextBitIsOne(),V=Math.pow(2,u.count-(P+1));L?I(V,Mu.BLACK):(I(V,Mu.BLACK),I(V,Mu.RED))}return f}(new iT(n.length));return new Uc(r||e,a)};let Jv;const $y={};class yf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,be.hu)($y&&vs,"ChildrenNode.ts has not been loaded"),Jv=Jv||new yf({".priority":$y},{".priority":vs}),Jv}get(e){const t=(0,be.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Uc?t:null}hasIndex(e){return(0,be.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,be.hu)(e!==Ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(vi.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?qy(r,e.getCompare()):$y;const u=e.toString(),h=Object.assign({},this.indexSet_);h[u]=e;const f=Object.assign({},this.indexes_);return f[u]=a,new yf(f,h)}addToIndexes(e,t){const r=(0,be.UI)(this.indexes_,(i,s)=>{const o=(0,be.DV)(this.indexSet_,s);if((0,be.hu)(o,"Missing index implementation for "+s),i===$y){if(o.isDefinedOn(e.node)){const a=[],u=t.getIterator(vi.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&a.push(h),h=u.getNext();return a.push(e),qy(a,o.getCompare())}return $y}{const a=t.get(e.name);let u=i;return a&&(u=u.remove(new vi(e.name,a))),u.insert(e,e.node)}});return new yf(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,be.UI)(this.indexes_,i=>{if(i===$y)return i;{const s=t.get(e.name);return s?i.remove(new vi(e.name,s)):i}});return new yf(r,this.indexSet_)}}let e_,zr=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&rT(this.priorityNode_),this.children_.isEmpty()&&(0,be.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return e_||(e_=new n(new Uc(SI),null,yf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||e_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?e_:r}}getChild(t){const r=yi(t);return null===r?this:this.getImmediateChild(r).getChild(Ls(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,be.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new vi(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?e_:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=yi(t);if(null===i)return r;{(0,be.hu)(".priority"!==yi(t)||1===mf(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ls(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(vs,(a,u)=>{r[a]=u.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+nT(this.getPriority().val())+":"),this.forEachChild(vs,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":yD(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new vi(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new vi(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new vi(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,vi.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,vi.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===im?-1:0}withIndex(t){if(t===Ba||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ba||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(vs),s=r.getIterator(vs);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Ba?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const im=new class sT extends zr{constructor(){super(new Uc(SI),zr.EMPTY_NODE,yf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return zr.EMPTY_NODE}isEmpty(){return!1}};function Eo(n,e=null){if(null===n)return zr.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,be.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new rm(n,Eo(e));if(n instanceof Array){let t=zr.EMPTY_NODE;return Co(n,(r,i)=>{if((0,be.r3)(n,r)&&"."!==r.substring(0,1)){const s=Eo(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Eo(e))}{const t=[];let r=!1;if(Co(n,(o,a)=>{if("."!==o.substring(0,1)){const u=Eo(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new vi(o,u)))}}),0===t.length)return zr.EMPTY_NODE;const s=qy(t,fO,o=>o.name,SI);if(r){const o=qy(t,vs.getCompare());return new zr(s,Eo(e),new yf({".priority":o},{".priority":vs}))}return new zr(s,Eo(e),yf.Default)}}Object.defineProperties(vi,{MIN:{value:new vi(kp,zr.EMPTY_NODE)},MAX:{value:new vi(gf,im)}}),$b.__EMPTY_NODE=zr.EMPTY_NODE,rm.__childrenNodeConstructor=zr,function Zb(n){zy=n}(im),function gO(n){DI=n}(im),function pO(n){Xb=n}(Eo);class Jb extends Qp{constructor(e){super(),this.indexPath_=e,(0,be.hu)(!fi(e)&&".priority"!==yi(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Jg(e.name,t.name):s}makePost(e,t){const r=Eo(e),i=zr.EMPTY_NODE.updateChild(this.indexPath_,r);return new vi(t,i)}maxPost(){const e=zr.EMPTY_NODE.updateChild(this.indexPath_,im);return new vi(gf,e)}toString(){return Yv(this.indexPath_,0).join("/")}}const FI=new class aT extends Qp{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Jg(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return vi.MIN}maxPost(){return vi.MAX}makePost(e,t){const r=Eo(e);return new vi(t,r)}toString(){return".value"}};function MI(n){return{type:"value",snapshotNode:n}}function sm(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function t_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Yy(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class fl{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){(0,be.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(t_(t,a)):(0,be.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(sm(t,r)):o.trackChildChange(Yy(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(vs,(i,s)=>{t.hasChild(i)||r.trackChildChange(t_(i,s))}),t.isLeafNode()||t.forEachChild(vs,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Yy(i,s,o))}else r.trackChildChange(sm(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?zr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ed{constructor(e){this.indexedFilter_=new fl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ed.getStartPost_(e),this.endPost_=ed.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new vi(t,r))||(r=zr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=zr.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(zr.EMPTY_NODE);const s=this;return t.forEachChild(vs,(o,a)=>{s.matches(new vi(o,a))||(i=i.updateImmediateChild(o,zr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class yO{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ed(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new vi(t,r))||(r=zr.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=zr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=zr.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(zr.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,zr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const y=this.index_.getCompare();o=(I,C)=>y(C,I)}else o=this.index_.getCompare();const a=e;(0,be.hu)(a.numChildren()===this.limit_,"");const u=new vi(t,r),h=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(a.hasChild(t)){const y=a.getImmediateChild(t);let I=i.getChildAfterChild(this.index_,h,this.reverse_);for(;null!=I&&(I.name===t||a.hasChild(I.name));)I=i.getChildAfterChild(this.index_,I,this.reverse_);const C=null==I?1:o(I,u);if(f&&!r.isEmpty()&&C>=0)return null!=s&&s.trackChildChange(Yy(t,r,y)),a.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(t_(t,y));const L=a.updateImmediateChild(t,zr.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(null!=s&&s.trackChildChange(sm(I.name,I.node)),L.updateImmediateChild(I.name,I.node)):L}}return r.isEmpty()?e:f&&o(h,u)>=0?(null!=s&&(s.trackChildChange(t_(h.name,h.node)),s.trackChildChange(sm(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(h.name,zr.EMPTY_NODE)):e}}class e1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vs}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,be.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,be.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:kp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,be.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,be.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,be.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vs}copy(){const e=new e1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function r_(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function t1(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function n1(n,e){const t=n.copy();return t.index_=e,t}function r1(n){const e={};if(n.isDefault())return e;let t;if(n.index_===vs?t="$priority":n.index_===FI?t="$value":n.index_===Ba?t="$key":((0,be.hu)(n.index_ instanceof Jb,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,be.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,be.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,be.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,be.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,be.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function NI(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==vs&&(e.i=n.index_.toString()),e}class i_ extends ZD{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ly("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,be.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=i_.getListenId_(e,r),a={};this.listens_[o]=a;const u=r1(e._queryParams);this.restRequest_(s+".json",u,(h,f)=>{let y=f;if(404===h&&(y=null,h=null),null===h&&this.onDataUpdate_(s,y,!1,r),(0,be.DV)(this.listens_,o)===a){let I;I=h?401===h?"permission_denied":"rest_error:"+h:"ok",i(I,null)}})}unlisten(e,t){const r=i_.getListenId_(e,t);delete this.listens_[r]}get(e){const t=r1(e._queryParams),r=e._path.toString(),i=new be.BH;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,be.xO)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=(0,be.cI)(a.responseText)}catch(h){Ql("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&Ql("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class s1{constructor(){this.rootNode_=zr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Zy(){return{value:null,children:new Map}}function s_(n,e,t){if(fi(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=yi(e);n.children.has(r)||n.children.set(r,Zy()),s_(n.children.get(r),e=Ls(e),t)}}function o1(n,e){if(fi(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(vs,(r,i)=>{s_(n,new $i(r),i)}),o1(n,e)}}if(n.children.size>0){const t=yi(e);return e=Ls(e),n.children.has(t)&&o1(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function PI(n,e,t){null!==n.value?t(e,n.value):function lT(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{PI(i,new $i(e.toString()+"/"+r),t)})}class a1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Co(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class RI{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new a1(e);const r=1e4+2e4*Math.random();Qy(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Co(e,(i,s)=>{s>0&&(0,be.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Qy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ah=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ah||(Ah={})),Ah))();function l1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class o_{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ah.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(fi(this.path)){if(null!=this.affectedTree.value)return(0,be.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new $i(e));return new o_(Ki(),t,this.revert)}}return(0,be.hu)(yi(this.path)===e,"operationForChild called for unrelated child."),new o_(Ls(this.path),this.affectedTree,this.revert)}}class a_{constructor(e,t){this.source=e,this.path=t,this.type=Ah.LISTEN_COMPLETE}operationForChild(e){return fi(this.path)?new a_(this.source,Ki()):new a_(this.source,Ls(this.path))}}class Hp{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ah.OVERWRITE}operationForChild(e){return fi(this.path)?new Hp(this.source,Ki(),this.snap.getImmediateChild(e)):new Hp(this.source,Ls(this.path),this.snap)}}class om{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ah.MERGE}operationForChild(e){if(fi(this.path)){const t=this.children.subtree(new $i(e));return t.isEmpty()?null:t.value?new Hp(this.source,Ki(),t.value):new om(this.source,Ki(),t)}return(0,be.hu)(yi(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new om(this.source,Ls(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vp{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fi(e))return this.isFullyInitialized()&&!this.filtered_;const t=yi(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class CO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function l_(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,u)=>function AT(n,e,t){if(null==e.childName||null==t.childName)throw(0,be.g5)("Should only compare child_ events.");const r=new vi(e.childName,e.snapshotNode),i=new vi(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,u)),o.forEach(a=>{const u=function uT(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(h=>{h.respondsTo(a.type)&&e.push(h.createEvent(u,n.query_))})})}function c_(n,e){return{eventCache:n,serverCache:e}}function Xy(n,e,t,r){return c_(new Vp(e,t,r),n.serverCache)}function hT(n,e,t,r){return c_(n.eventCache,new Vp(e,t,r))}function c1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let u1;class Ys{constructor(e,t=(()=>(u1||(u1=new Uc(GP)),u1))()){this.value=e,this.children=t}static fromObject(e){let t=new Ys(null);return Co(e,(r,i)=>{t=t.set(new $i(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ki(),value:this.value};if(fi(e))return null;{const r=yi(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ls(e),t);return null!=s?{path:co(new $i(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fi(e))return this;{const t=yi(e),r=this.children.get(t);return null!==r?r.subtree(Ls(e)):new Ys(null)}}set(e,t){if(fi(e))return new Ys(t,this.children);{const r=yi(e),s=(this.children.get(r)||new Ys(null)).set(Ls(e),t),o=this.children.insert(r,s);return new Ys(this.value,o)}}remove(e){if(fi(e))return this.children.isEmpty()?new Ys(null):new Ys(null,this.children);{const t=yi(e),r=this.children.get(t);if(r){const i=r.remove(Ls(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Ys(null):new Ys(this.value,s)}return this}}get(e){if(fi(e))return this.value;{const t=yi(e),r=this.children.get(t);return r?r.get(Ls(e)):null}}setTree(e,t){if(fi(e))return t;{const r=yi(e),s=(this.children.get(r)||new Ys(null)).setTree(Ls(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ys(this.value,o)}}fold(e){return this.fold_(Ki(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(co(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ki(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(fi(e))return null;{const s=yi(e),o=this.children.get(s);return o?o.findOnPath_(Ls(e),co(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ki(),t)}foreachOnPath_(e,t,r){if(fi(e))return this;{this.value&&r(t,this.value);const i=yi(e),s=this.children.get(i);return s?s.foreachOnPath_(Ls(e),co(t,i),r):new Ys(null)}}foreach(e){this.foreach_(Ki(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(co(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class td{constructor(e){this.writeTree_=e}static empty(){return new td(new Ys(null))}}function A1(n,e,t){if(fi(e))return new td(new Ys(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=cc(i,e);return s=s.updateChild(o,t),new td(n.writeTree_.set(i,s))}{const i=new Ys(t),s=n.writeTree_.setTree(e,i);return new td(s)}}}function dT(n,e,t){let r=n;return Co(t,(i,s)=>{r=A1(r,co(e,i),s)}),r}function EO(n,e){if(fi(e))return td.empty();{const t=n.writeTree_.setTree(e,new Ys(null));return new td(t)}}function fT(n,e){return null!=e0(n,e)}function e0(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(cc(t.path,e)):null}function u_(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(vs,(r,i)=>{e.push(new vi(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new vi(r,i.value))}),e}function am(n,e){if(fi(e))return n;{const t=e0(n,e);return new td(null!=t?new Ys(t):n.writeTree_.subtree(e))}}function h1(n){return n.writeTree_.isEmpty()}function jp(n,e){return QI(Ki(),n.writeTree_,e)}function QI(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,be.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=QI(co(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(co(n,".priority"),r)),t}}function A_(n,e){return p1(e,n)}function gT(n,e){if(n.snap)return mA(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&mA(co(n.path,t),e))return!0;return!1}function BO(n){return n.visible}function mT(n,e,t){let r=td.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)mA(t,o)?(a=cc(t,o),r=A1(r,a,s.snap)):mA(o,t)&&(a=cc(o,t),r=A1(r,Ki(),s.snap.getChild(a)));else{if(!s.children)throw(0,be.g5)("WriteRecord should have .snap or .children");if(mA(t,o))a=cc(t,o),r=dT(r,a,s.children);else if(mA(o,t))if(a=cc(o,t),fi(a))r=dT(r,Ki(),s.children);else{const u=(0,be.DV)(s.children,yi(a));if(u){const h=u.getChild(Ls(a));r=A1(r,Ki(),h)}}}}}return r}function d1(n,e,t,r,i){if(r||i){const s=am(n.visibleWrites,e);return!i&&h1(s)?t:i||null!=t||fT(s,Ki())?jp(mT(n.allWrites,function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(mA(h.path,e)||mA(e,h.path))},e),t||zr.EMPTY_NODE):null}{const s=e0(n.visibleWrites,e);if(null!=s)return s;{const o=am(n.visibleWrites,e);return h1(o)?t:null!=t||fT(o,Ki())?jp(o,t||zr.EMPTY_NODE):null}}}function f1(n,e,t,r){return d1(n.writeTree,n.treePath,e,t,r)}function yT(n,e){return function SO(n,e,t){let r=zr.EMPTY_NODE;const i=e0(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vs,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=am(n.visibleWrites,e);return t.forEachChild(vs,(o,a)=>{const u=jp(am(s,new $i(o)),a);r=r.updateImmediateChild(o,u)}),u_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return u_(am(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function vT(n,e,t,r){return function hH(n,e,t,r,i){(0,be.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=co(e,t);if(fT(n.visibleWrites,s))return null;{const o=am(n.visibleWrites,s);return h1(o)?i.getChild(t):jp(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function t0(n,e){return function fH(n,e){return e0(n.visibleWrites,e)}(n.writeTree,co(n.treePath,e))}function Nu(n,e,t){return function dH(n,e,t,r){const i=co(e,t),s=e0(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?jp(am(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function _T(n,e){return p1(co(n.treePath,e),n.writeTree)}function p1(n,e){return{treePath:n,writeTree:e}}class FO{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,be.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,be.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Yy(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,t_(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,sm(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,be.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Yy(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const g1=new class MO{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class m1{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Vp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nu(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jy(this.viewCache_),s=function TO(n,e,t,r,i,s){return function xO(n,e,t,r,i,s,o){let a;const u=am(n.visibleWrites,e),h=e0(u,Ki());if(null!=h)a=h;else{if(null==t)return[];a=jp(u,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const f=[],y=o.getCompare(),I=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let C=I.getNext();for(;C&&f.length<i;)0!==y(C,r)&&f.push(C),C=I.getNext();return f}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function CT(n,e,t,r,i,s){const o=e.eventCache;if(null!=t0(r,t))return e;{let a,u;if(fi(t))if((0,be.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Jy(e),y=yT(r,h instanceof zr?h:zr.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const h=f1(r,Jy(e));a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=yi(t);if(".priority"===h){(0,be.hu)(1===mf(t),"Can't have a priority with additional path components");const f=o.getNode();u=e.serverCache.getNode();const y=vT(r,t,f,u);a=null!=y?n.filter.updatePriority(f,y):o.getNode()}else{const f=Ls(t);let y;if(o.isCompleteForChild(h)){u=e.serverCache.getNode();const I=vT(r,t,o.getNode(),u);y=null!=I?o.getNode().getImmediateChild(h).updateChild(f,I):o.getNode().getImmediateChild(h)}else y=Nu(r,h,e.serverCache);a=null!=y?n.filter.updateChild(o.getNode(),h,y,f,i,s):o.getNode()}}return Xy(e,a,o.isFullyInitialized()||fi(t),n.filter.filtersNodes())}}function y1(n,e,t,r,i,s,o,a){const u=e.serverCache;let h;const f=o?n.filter:n.filter.getIndexedFilter();if(fi(t))h=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){const C=u.getNode().updateChild(t,r);h=f.updateFullNode(u.getNode(),C,null)}else{const C=yi(t);if(!u.isCompleteForPath(t)&&mf(t)>1)return e;const P=Ls(t),V=u.getNode().getImmediateChild(C).updateChild(P,r);h=".priority"===C?f.updatePriority(u.getNode(),V):f.updateChild(u.getNode(),C,V,P,g1,null)}const y=hT(e,h,u.isFullyInitialized()||fi(t),f.filtersNodes());return CT(n,y,t,i,new m1(i,y,s),a)}function h_(n,e,t,r,i,s,o){const a=e.eventCache;let u,h;const f=new m1(i,e,s);if(fi(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Xy(e,h,!0,n.filter.filtersNodes());else{const y=yi(t);if(".priority"===y)h=n.filter.updatePriority(e.eventCache.getNode(),r),u=Xy(e,h,a.isFullyInitialized(),a.isFiltered());else{const I=Ls(t),C=a.getNode().getImmediateChild(y);let P;if(fi(I))P=r;else{const L=f.getCompleteChild(y);P=null!=L?".priority"===Wb(I)&&L.getChild(XD(I)).isEmpty()?L:L.updateChild(I,r):zr.EMPTY_NODE}u=C.equals(P)?e:Xy(e,n.filter.updateChild(a.getNode(),y,P,I,f,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return u}function Kp(n,e){return n.eventCache.isCompleteForChild(e)}function VI(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jI(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h,u=e;h=fi(t)?r:new Ys(null).setTree(t,r);const f=e.serverCache.getNode();return h.children.inorderTraversal((y,I)=>{if(f.hasChild(y)){const P=VI(0,e.serverCache.getNode().getImmediateChild(y),I);u=y1(n,u,new $i(y),P,i,s,o,a)}}),h.children.inorderTraversal((y,I)=>{const C=!e.serverCache.isCompleteForChild(y)&&null===I.value;if(!f.hasChild(y)&&!C){const L=VI(0,e.serverCache.getNode().getImmediateChild(y),I);u=y1(n,u,new $i(y),L,i,s,o,a)}}),u}class RO{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new fl(r.getIndex()),s=function lH(n){return n.loadsAllData()?new fl(n.getIndex()):n.hasLimit()?new yO(n):new ed(n)}(r);this.processor_=function wT(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,u=i.updateFullNode(zr.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(zr.EMPTY_NODE,a.getNode(),null),f=new Vp(u,o.isFullyInitialized(),i.filtersNodes()),y=new Vp(h,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=c_(y,f),this.eventGenerator_=new CO(this.query_)}get query(){return this.query_}}function UO(n,e){const t=Jy(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!fi(e)&&!t.getImmediateChild(yi(e)).isEmpty())?t.getChild(e):null}function QO(n){return 0===n.eventRegistrations_.length}function GI(n,e,t){const r=[];if(t){(0,be.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function BT(n,e,t,r){e.type===Ah.MERGE&&null!==e.source.queryId&&((0,be.hu)(Jy(n.viewCache_),"We should always have a full cache before handling merges"),(0,be.hu)(c1(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function bT(n,e,t,r,i){const s=new FO;let o,a;if(t.type===Ah.OVERWRITE){const h=t;h.source.fromUser?o=h_(n,e,h.path,h.snap,r,i,s):((0,be.hu)(h.source.fromServer,"Unknown source."),a=h.source.tagged||e.serverCache.isFiltered()&&!fi(h.path),o=y1(n,e,h.path,h.snap,r,i,a,s))}else if(t.type===Ah.MERGE){const h=t;h.source.fromUser?o=function ET(n,e,t,r,i,s,o){let a=e;return r.foreach((u,h)=>{const f=co(t,u);Kp(e,yi(f))&&(a=h_(n,a,f,h,i,s,o))}),r.foreach((u,h)=>{const f=co(t,u);Kp(e,yi(f))||(a=h_(n,a,f,h,i,s,o))}),a}(n,e,h.path,h.children,r,i,s):((0,be.hu)(h.source.fromServer,"Unknown source."),a=h.source.tagged||e.serverCache.isFiltered(),o=jI(n,e,h.path,h.children,r,i,a,s))}else if(t.type===Ah.ACK_USER_WRITE){const h=t;o=h.revert?function LO(n,e,t,r,i,s){let o;if(null!=t0(r,t))return e;{const a=new m1(r,e,i),u=e.eventCache.getNode();let h;if(fi(t)||".priority"===yi(t)){let f;if(e.serverCache.isFullyInitialized())f=f1(r,Jy(e));else{const y=e.serverCache.getNode();(0,be.hu)(y instanceof zr,"serverChildren would be complete if leaf node"),f=yT(r,y)}h=n.filter.updateFullNode(u,f,s)}else{const f=yi(t);let y=Nu(r,f,e.serverCache);null==y&&e.serverCache.isCompleteForChild(f)&&(y=u.getImmediateChild(f)),h=null!=y?n.filter.updateChild(u,f,y,Ls(t),a,s):e.eventCache.getNode().hasChild(f)?n.filter.updateChild(u,f,zr.EMPTY_NODE,Ls(t),a,s):u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=f1(r,Jy(e)),o.isLeafNode()&&(h=n.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=t0(r,Ki()),Xy(e,h,o,n.filter.filtersNodes())}}(n,e,h.path,r,i,s):function pH(n,e,t,r,i,s,o){if(null!=t0(i,t))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(fi(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return y1(n,e,t,u.getNode().getChild(t),i,s,a,o);if(fi(t)){let h=new Ys(null);return u.getNode().forEachChild(Ba,(f,y)=>{h=h.set(new $i(f),y)}),jI(n,e,t,h,i,s,a,o)}return e}{let h=new Ys(null);return r.foreach((f,y)=>{const I=co(t,f);u.isCompleteForPath(I)&&(h=h.set(f,u.getNode().getChild(I)))}),jI(n,e,t,h,i,s,a,o)}}(n,e,h.path,h.affectedTree,r,i,s)}else{if(t.type!==Ah.LISTEN_COMPLETE)throw(0,be.g5)("Unknown operation type: "+t.type);o=function OO(n,e,t,r,i){const s=e.serverCache;return CT(n,hT(e,s.getNode(),s.isFullyInitialized()||fi(t),s.isFiltered()),t,r,g1,i)}(n,e,t.path,r,s)}const u=s.getChanges();return function PO(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=c1(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(MI(c1(e)))}}(e,o,u),{viewCache:o,changes:u}}(n.processor_,i,e,t,r);return function NO(n,e){(0,be.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,be.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,be.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,WI(n,s.changes,s.viewCache.eventCache.getNode(),null)}function WI(n,e,t,r){return function cT(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function mO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),l_(n,i,"child_removed",e,r,t),l_(n,i,"child_added",e,r,t),l_(n,i,"child_moved",s,r,t),l_(n,i,"child_changed",e,r,t),l_(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let n0,qI;class v1{constructor(){this.views=new Map}}function _1(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,be.hu)(null!=s,"SyncTree gave us an op for an invalid query."),BT(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(BT(o,e,t,r));return s}}function DT(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=f1(t,i?r:null),u=!1;a?u=!0:r instanceof zr?(a=yT(t,r),u=!1):(a=zr.EMPTY_NODE,u=!1);const h=c_(new Vp(a,u,!1),new Vp(r,i,!1));return new RO(e,h)}return o}function KO(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function vf(n,e){let t=null;for(const r of n.views.values())t=t||UO(r,e);return t}function TT(n,e){return e._queryParams.loadsAllData()?zI(n):n.views.get(e._queryIdentifier)}function FT(n,e){return null!=TT(n,e)}function Gp(n){return null!=zI(n)}function zI(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let vH=1;class MT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ys(null),this.pendingWriteTree_=function DO(){return{visibleWrites:td.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function r0(n,e,t,r,i){return function uH(n,e,t,r,i){(0,be.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=A1(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?f_(n,new Hp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Wp(n,e,t=!1){const r=function pT(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function IO(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);(0,be.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&gT(a,r.path)?i=!1:mA(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function AH(n){n.visibleWrites=mT(n.allWrites,BO,Ki()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=EO(n.visibleWrites,r.path):Co(r.children,u=>{n.visibleWrites=EO(n.visibleWrites,co(r.path,u))}),!0))}(n.pendingWriteTree_,e)){let s=new Ys(null);return null!=r.snap?s=s.set(Ki(),!0):Co(r.children,o=>{s=s.set(new $i(o),!0)}),f_(n,new o_(r.path,s,t))}return[]}function s0(n,e,t){return f_(n,new Hp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function o0(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||FT(o,e))){const u=function gH(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Gp(n);if("default"===i)for(const[u,h]of n.views.entries())o=o.concat(GI(h,t,r)),QO(h)&&(n.views.delete(u),h.query._queryParams.loadsAllData()||s.push(h.query));else{const u=n.views.get(i);u&&(o=o.concat(GI(u,t,r)),QO(u)&&(n.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return a&&!Gp(n)&&s.push(new(function VO(){return(0,be.hu)(n0,"Reference.ts has not been loaded"),n0}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,r);(function xT(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const h=u.removed;if(a=u.events,!i){const f=-1!==h.findIndex(I=>I._queryParams.loadsAllData()),y=n.syncPointTree_.findOnPath(s,(I,C)=>Gp(C));if(f&&!y){const I=n.syncPointTree_.subtree(s);if(!I.isEmpty()){const C=function OT(n){return n.fold((e,t,r)=>{if(t&&Gp(t))return[zI(t)];{let i=[];return t&&(i=KO(t)),Co(r,(s,o)=>{i=i.concat(o)}),i}})}(I);for(let P=0;P<C.length;++P){const L=C[P],V=L.query,j=ZI(n,L);n.listenProvider_.startListening(a0(V),p_(n,V),j.hashFn,j.onComplete)}}}!y&&h.length>0&&!r&&(f?n.listenProvider_.stopListening(a0(e),null):h.forEach(I=>{const C=n.queryToTagMap.get(w1(I));n.listenProvider_.stopListening(a0(I),C)}))}!function qO(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=w1(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,h)}return a}function PT(n,e,t,r){const i=XI(n,r);if(null!=i){const s=JI(i),o=s.path,a=s.queryId,u=cc(o,e);return b1(n,o,new Hp(l1(a),u,t))}return[]}function d_(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(I,C)=>{const P=cc(I,i);s=s||vf(C,P),o=o||Gp(C)});let u,a=n.syncPointTree_.get(i);a?(o=o||Gp(a),s=s||vf(a,Ki())):(a=new v1,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=s?u=!0:(u=!1,s=zr.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((C,P)=>{const L=vf(P,Ki());L&&(s=s.updateImmediateChild(C,L))}));const h=FT(a,e);if(!h&&!e._queryParams.loadsAllData()){const I=w1(e);(0,be.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const C=function $O(){return vH++}();n.queryToTagMap.set(I,C),n.tagToQueryMap.set(C,I)}let y=function jO(n,e,t,r,i,s){const o=DT(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function KI(n,e){n.eventRegistrations_.push(e)}(o,t),function HO(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(vs,(s,o)=>{r.push(sm(s,o))}),t.isFullyInitialized()&&r.push(MI(t.getNode())),WI(n,r,t.getNode(),e)}(o,t)}(a,e,t,A_(n.pendingWriteTree_,i),s,u);if(!h&&!o&&!r){const I=TT(a,e);y=y.concat(function LT(n,e,t){const r=e._path,i=p_(n,e),s=ZI(n,t),o=n.listenProvider_.startListening(a0(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)(0,be.hu)(!Gp(a.value),"If we're adding a query, it shouldn't be shadowed");else{const u=a.fold((h,f,y)=>{if(!fi(h)&&f&&Gp(f))return[zI(f).query];{let I=[];return f&&(I=I.concat(KO(f).map(C=>C.query))),Co(y,(C,P)=>{I=I.concat(P)}),I}});for(let h=0;h<u.length;++h){const f=u[h];n.listenProvider_.stopListening(a0(f),p_(n,f))}}return o}(n,e,I))}return y}function cm(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const h=vf(a,cc(o,e));if(h)return h});return d1(i,e,s,t,!0)}function f_(n,e){return WO(e,n.syncPointTree_,null,A_(n.pendingWriteTree_,Ki()))}function WO(n,e,t,r){if(fi(n.path))return zO(n,e,t,r);{const i=e.get(Ki());null==t&&null!=i&&(t=vf(i,Ki()));let s=[];const o=yi(n.path),a=n.operationForChild(o),u=e.children.get(o);if(u&&a){const h=t?t.getImmediateChild(o):null,f=_T(r,o);s=s.concat(WO(a,u,h,f))}return i&&(s=s.concat(_1(i,n,r,t))),s}}function zO(n,e,t,r){const i=e.get(Ki());null==t&&null!=i&&(t=vf(i,Ki()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=t?t.getImmediateChild(o):null,h=_T(r,o),f=n.operationForChild(o);f&&(s=s.concat(zO(f,a,u,h)))}),i&&(s=s.concat(_1(i,n,r,t))),s}function ZI(n,e){const t=e.query,r=p_(n,t);return{hashFn:()=>(function IT(n){return n.viewCache_.serverCache.getNode()}(e)||zr.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function $I(n,e,t){const r=XI(n,t);if(r){const i=JI(r),s=i.path,o=i.queryId,a=cc(s,e);return b1(n,s,new a_(l1(o),a))}return[]}(n,t._path,r):function NT(n,e){return f_(n,new a_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function CD(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return o0(n,t,null,s)}}}}function p_(n,e){const t=w1(e);return n.queryToTagMap.get(t)}function w1(n){return n._path.toString()+"$"+n._queryIdentifier}function XI(n,e){return n.tagToQueryMap.get(e)}function JI(n){const e=n.indexOf("$");return(0,be.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new $i(n.substr(0,e))}}function b1(n,e,t){const r=n.syncPointTree_.get(e);return(0,be.hu)(r,"Missing sync point for query tag that we're tracking"),_1(r,t,A_(n.pendingWriteTree_,e),null)}function a0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function yH(){return(0,be.hu)(qI,"Reference.ts has not been loaded"),qI}())(n._repo,n._path):n}class g_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new g_(t)}node(){return this.node_}}class RT{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=co(this.path_,e);return new RT(this.syncTree_,t)}node(){return cm(this.syncTree_,this.path_)}}const C1=function(n,e,t){return n&&"object"==typeof n?((0,be.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?YO(n[".sv"],e,t):"object"==typeof n[".sv"]?ZO(n[".sv"],e):void(0,be.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},YO=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,be.hu)(!1,"Unexpected server value: "+n)},ZO=function(n,e,t){n.hasOwnProperty("increment")||(0,be.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,be.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,be.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},XO=function(n,e,t,r){return eB(e,new RT(t,n),r)},UT=function(n,e,t){return eB(n,new g_(e),t)};function eB(n,e,t){const r=n.getPriority().val(),i=C1(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=C1(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new rm(a,Eo(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new rm(i))),o.forEachChild(vs,(a,u)=>{const h=eB(u,e.getImmediateChild(a),t);h!==u&&(s=s.updateImmediateChild(a,h))}),s}}class tB{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function nB(n,e){let t=e instanceof $i?e:new $i(e),r=n,i=yi(t);for(;null!==i;){const s=(0,be.DV)(r.node.children,i)||{children:{},childCount:0};r=new tB(i,r,s),t=Ls(t),i=yi(t)}return r}function l0(n){return n.node.value}function QT(n,e){n.node.value=e,HT(n)}function JO(n){return n.node.childCount>0}function E1(n,e){Co(n.node.children,(t,r)=>{e(new tB(t,n,r))})}function eL(n,e,t,r){t&&!r&&e(n),E1(n,i=>{eL(i,e,!0,r)}),t&&r&&e(n)}function I1(n){return new $i(null===n.parent?n.name:I1(n.parent)+"/"+n.name)}function HT(n){null!==n.parent&&function l(n,e,t){const r=function wH(n){return void 0===l0(n)&&!JO(n)}(t),i=(0,be.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,HT(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,HT(n))}(n.parent,n.name,n)}const c=/[\[\].#$\/\u0000-\u001F\u007F]/,A=/[\[\].#$\u0000-\u001F\u007F]/,d=10485760,g=function(n){return"string"==typeof n&&0!==n.length&&!c.test(n)},w=function(n){return"string"==typeof n&&0!==n.length&&!A.test(n)},O=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Rp(n)||n&&"object"==typeof n&&(0,be.r3)(n,".sv")},Q=function(n,e,t,r){r&&void 0===e||q((0,be.gK)(n,"value"),e,t)},q=function(n,e,t){const r=t instanceof $i?new cO(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Up(r));if("function"==typeof e)throw new Error(n+"contains a function "+Up(r)+" with contents = "+e.toString());if(Rp(e))throw new Error(n+"contains "+e.toString()+" "+Up(r));if("string"==typeof e&&e.length>d/3&&(0,be.ug)(e)>d)throw new Error(n+"contains a string greater than "+d+" utf8 bytes "+Up(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Co(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!g(o)))throw new Error(n+" contains an invalid key ("+o+") "+Up(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function uO(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,be.ug)(e),BI(n)})(r,o),q(n,a,r),function Zv(n){const e=n.parts_.pop();n.byteLength_-=(0,be.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+Up(r)+" in addition to actual children.")}},Te=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,be.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Co(e,(o,a)=>{const u=new $i(o);if(q(i,a,co(t,u)),".priority"===Wb(u)&&!O(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Yv(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!g(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(lO);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&mA(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},$e=function(n,e,t){if(!t||void 0!==e){if(Rp(e))throw new Error((0,be.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!O(e))throw new Error((0,be.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(n,e,t,r){if(!(r&&void 0===t||g(t)))throw new Error((0,be.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vt=function(n,e,t,r){if(!(r&&void 0===t||w(t)))throw new Error((0,be.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dn=function(n,e){if(".info"===yi(e))throw new Error(n+" failed = Can't modify data under /.info/")},qn=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!g(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),w(n)}(t))throw new Error((0,be.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yt{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ar(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!II(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function _i(n,e,t){Ar(n,t),Qc(n,r=>II(r,e))}function ei(n,e,t){Ar(n,t),Qc(n,r=>mA(r,e)||mA(e,r))}function Qc(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(um(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function um(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Oy&&dl("event: "+t.toString()),Uy(r)}}}const B1="repo_interrupt";class iB{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zy(),this.transactionQueueTree_=new tB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function S1(n){const t=n.infoData_.getNode(new $i(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Am(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:S1(n)})}function x1(n,e,t,r,i){n.dataUpdateCount++;const s=new $i(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const u=(0,be.UI)(t,h=>Eo(h));o=function YI(n,e,t,r){const i=XI(n,r);if(i){const s=JI(i),o=s.path,a=s.queryId,u=cc(o,e),h=Ys.fromObject(t);return b1(n,o,new om(l1(a),u,h))}return[]}(n.serverSyncTree_,s,u,i)}else{const u=Eo(t);o=PT(n.serverSyncTree_,s,u,i)}else if(r){const u=(0,be.UI)(t,h=>Eo(h));o=function lm(n,e,t){const r=Ys.fromObject(t);return f_(n,new om({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,u)}else{const u=Eo(t);o=s0(n.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=F1(n,s)),ei(n.eventQueue_,a,o)}function D1(n,e){tL(n,"connected",e),!1===e&&function Q9(n){T1(n,"onDisconnectEvents");const e=Am(n),t=Zy();PI(n.onDisconnect_,Ki(),(i,s)=>{const o=XO(i,s,n.serverSyncTree_,e);s_(t,i,o)});let r=[];PI(t,Ki(),(i,s)=>{r=r.concat(s0(n.serverSyncTree_,i,s));const o=sL(n,i);F1(n,o)}),n.onDisconnect_=Zy(),ei(n.eventQueue_,Ki(),r)}(n)}function tL(n,e,t){const r=new $i("/.info/"+e),i=Eo(t);n.infoData_.updateSnapshot(r,i);const s=s0(n.infoSyncTree_,r,i);ei(n.eventQueue_,r,s)}function VT(n){return n.nextWriteId_++}function nL(n,e,t,r,i){T1(n,"set",{path:e.toString(),value:t,priority:r});const s=Am(n),o=Eo(t,r),a=cm(n.serverSyncTree_,e),u=UT(o,a,s),h=VT(n),f=r0(n.serverSyncTree_,e,u,h,!0);Ar(n.eventQueue_,f),n.server_.put(e.toString(),o.val(!0),(I,C)=>{const P="ok"===I;P||Ql("set at "+e+" failed: "+I);const L=Wp(n.serverSyncTree_,h,!P);ei(n.eventQueue_,e,L),c0(0,i,I,C)});const y=sL(n,e);F1(n,y),ei(n.eventQueue_,y,[])}function H9(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&o1(n.onDisconnect_,e),c0(0,t,r,i)})}function CH(n,e,t,r){const i=Eo(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&s_(n.onDisconnect_,e,i),c0(0,r,s,o)})}function rL(n,e,t){let r;r=".info"===yi(e._path)?o0(n.infoSyncTree_,e,t):o0(n.serverSyncTree_,e,t),_i(n.eventQueue_,e._path,r)}function EH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(B1)}function T1(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),dl(t,...e)}function c0(n,e,t,r){e&&Uy(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function iL(n,e,t){return cm(n.serverSyncTree_,e,t)||zr.EMPTY_NODE}function jT(n,e=n.transactionQueueTree_){if(e||KT(n,e),l0(e)){const t=BH(n,e);(0,be.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function z9(n,e,t){const r=t.map(h=>h.currentWriteId),i=iL(n,e,r);let s=i;const o=i.hash();for(let h=0;h<t.length;h++){const f=t[h];(0,be.hu)(0===f.status,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const y=cc(e,f.path);s=s.updateChild(y,f.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;n.server_.put(u.toString(),a,h=>{T1(n,"transaction put response",{path:u.toString(),status:h});let f=[];if("ok"===h){const y=[];for(let I=0;I<t.length;I++)t[I].status=2,f=f.concat(Wp(n.serverSyncTree_,t[I].currentWriteId)),t[I].onComplete&&y.push(()=>t[I].onComplete(null,!0,t[I].currentOutputSnapshotResolved)),t[I].unwatcher();KT(n,nB(n.transactionQueueTree_,e)),jT(n,n.transactionQueueTree_),ei(n.eventQueue_,e,f);for(let I=0;I<y.length;I++)Uy(y[I])}else{if("datastale"===h)for(let y=0;y<t.length;y++)t[y].status=3===t[y].status?4:0;else{Ql("transaction at "+u.toString()+" failed: "+h);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=h}F1(n,e)}},o)}(n,I1(e),t)}else JO(e)&&E1(e,t=>{jT(n,t)})}function F1(n,e){const t=IH(n,e),r=I1(t);return function q9(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],h=cc(t,u.path);let y,f=!1;if((0,be.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)f=!0,y=u.abortReason,i=i.concat(Wp(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)f=!0,y="maxretry",i=i.concat(Wp(n.serverSyncTree_,u.currentWriteId,!0));else{const I=iL(n,u.path,o);u.currentInputSnapshot=I;const C=e[a].update(I.val());if(void 0!==C){q("transaction failed: Data returned ",C,u.path);let P=Eo(C);"object"==typeof C&&null!=C&&(0,be.r3)(C,".priority")||(P=P.updatePriority(I.getPriority()));const V=u.currentWriteId,j=Am(n),z=UT(P,I,j);u.currentOutputSnapshotRaw=P,u.currentOutputSnapshotResolved=z,u.currentWriteId=VT(n),o.splice(o.indexOf(V),1),i=i.concat(r0(n.serverSyncTree_,u.path,z,u.currentWriteId,u.applyLocally)),i=i.concat(Wp(n.serverSyncTree_,V,!0))}else f=!0,y="nodata",i=i.concat(Wp(n.serverSyncTree_,u.currentWriteId,!0))}ei(n.eventQueue_,t,i),i=[],f&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===y?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(y),!1,null)))}KT(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Uy(r[a]);jT(n,n.transactionQueueTree_)}(n,BH(n,t),r),r}function IH(n,e){let t,r=n.transactionQueueTree_;for(t=yi(e);null!==t&&void 0===l0(r);)r=nB(r,t),t=yi(e=Ls(e));return r}function BH(n,e){const t=[];return SH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function SH(n,e,t){const r=l0(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);E1(e,i=>{SH(n,i,t)})}function KT(n,e){const t=l0(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,QT(e,t.length>0?t:void 0)}E1(e,r=>{KT(n,r)})}function sL(n,e){const t=I1(IH(n,e)),r=nB(n.transactionQueueTree_,e);return function bH(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{oL(n,i)}),oL(n,r),eL(r,i=>{oL(n,i)}),t}function oL(n,e){const t=l0(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,be.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,be.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Wp(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?QT(e,void 0):t.length=s+1,ei(n.eventQueue_,I1(e),i);for(let o=0;o<r.length;o++)Uy(r[o])}}const aL=function(n,e){const t=Z9(n),r=t.namespace;return"firebase.com"===t.domain&&Jh(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Jh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ql("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ub(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new $i(t.pathString)}},Z9=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof n){let h=n.indexOf("//");h>=0&&(a=n.substring(0,h-1),n=n.substring(h+2));let f=n.indexOf("/");-1===f&&(f=n.length);let y=n.indexOf("?");-1===y&&(y=n.length),e=n.substring(0,Math.min(f,y)),f<y&&(i=function $9(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(f,y)));const I=function Y9(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ql(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,y)));h=e.indexOf(":"),h>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(h+1),10)):h=e.length;const C=e.slice(0,h);if("localhost"===C.toLowerCase())t="localhost";else if(C.split(".").length<=2)t=C;else{const P=e.indexOf(".");r=e.substring(0,P).toLowerCase(),t=e.substring(P+1),s=r}"ns"in I&&(s=I.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},xH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",X9=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=xH.charAt(t%64),t=Math.floor(t/64);(0,be.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=xH.charAt(e[i]);return(0,be.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class DH{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,be.Wl)(this.snapshot.exportVal())}}class TH{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,be.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class FH{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new be.BH;return H9(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){dn("OnDisconnect.remove",this._path);const e=new be.BH;return CH(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){dn("OnDisconnect.set",this._path),Q("OnDisconnect.set",e,this._path,!1);const t=new be.BH;return CH(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){dn("OnDisconnect.setWithPriority",this._path),Q("OnDisconnect.setWithPriority",e,this._path,!1),$e("OnDisconnect.setWithPriority",t,!1);const r=new be.BH;return function V9(n,e,t,r,i){const s=Eo(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{"ok"===o&&s_(n.onDisconnect_,e,s),c0(0,i,o,a)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){dn("OnDisconnect.update",this._path),Te("OnDisconnect.update",e,this._path,!1);const t=new be.BH;return function j9(n,e,t,r){if((0,be.xb)(t))return dl("onDisconnect().update() called with empty data.  Don't do anything."),void c0(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&Co(t,(o,a)=>{const u=Eo(a);s_(n.onDisconnect_,co(e,o),u)}),c0(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class yA{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return fi(this._path)?null:Wb(this._path)}get ref(){return new nd(this._repo,this._path)}get _queryIdentifier(){const e=NI(this._queryParams),t=fI(e);return"{}"===t?"default":t}get _queryObject(){return NI(this._queryParams)}isEqual(e){if(!((e=(0,be.m9)(e))instanceof yA))return!1;const t=this._repo===e._repo,r=II(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function EI(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function GT(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function u0(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Ba){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==kp)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==gf)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===vs){if(null!=e&&!O(e)||null!=t&&!O(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,be.hu)(n.getIndex()instanceof Jb||n.getIndex()===FI,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function WT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class nd extends yA{constructor(e,t){super(e,t,new e1,!1)}get parent(){const e=XD(this._path);return null===e?null:new nd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class m_{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new $i(e),r=y_(this.ref,e);return new m_(this._node.getChild(t),r,vs)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new m_(i,y_(this.ref,r),vs)))}hasChild(e){const t=new $i(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MH(n,e){return(n=(0,be.m9)(n))._checkNotDeleted("ref"),void 0!==e?y_(n._root,e):n._root}function NH(n,e){(n=(0,be.m9)(n))._checkNotDeleted("refFromURL");const t=aL(e,n._repo.repoInfo_.nodeAdmin);qn("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Jh("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),MH(n,t.path.toString())}function y_(n,e){return null===yi((n=(0,be.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vt("child","path",t,!1)):Vt("child","path",e,!1),new nd(n._repo,co(n._path,e));var t}function cL(n,e){n=(0,be.m9)(n),dn("set",n._path),Q("set",e,n._path,!1);const t=new be.BH;return nL(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function rq(n,e){Te("update",e,n._path,!1);const t=new be.BH;return function U9(n,e,t,r){T1(n,"update",{path:e.toString(),value:t});let i=!0;const s=Am(n),o={};if(Co(t,(a,u)=>{i=!1,o[a]=XO(co(e,a),Eo(u),n.serverSyncTree_,s)}),i)dl("update() called with empty data.  Don't do anything."),c0(0,r,"ok",void 0);else{const a=VT(n),u=function GO(n,e,t,r){!function HI(n,e,t,r){(0,be.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=dT(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Ys.fromObject(t);return f_(n,new om({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,o,a);Ar(n.eventQueue_,u),n.server_.merge(e.toString(),t,(h,f)=>{const y="ok"===h;y||Ql("update at "+e+" failed: "+h);const I=Wp(n.serverSyncTree_,a,!y),C=I.length>0?F1(n,e):e;ei(n.eventQueue_,C,I),c0(0,r,h,f)}),Co(t,h=>{const f=sL(n,co(e,h));F1(n,f)}),ei(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function iq(n){n=(0,be.m9)(n);const e=new lL(()=>{}),t=new aB(e);return function k9(n,e,t){const r=function _H(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(h,f)=>{const y=cc(h,t);r=r||vf(f,y)});let i=n.syncPointTree_.get(t);i?r=r||vf(i,Ki()):(i=new v1,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,o=s?new Vp(r,!0,!1):null;return function kO(n){return c1(n.viewCache_)}(DT(i,e,A_(n.pendingWriteTree_,e._path),s?o.getNode():zr.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=Eo(i).withIndex(e._queryParams.getIndex());let o;if(d_(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())o=s0(n.serverSyncTree_,e._path,s);else{const a=p_(n.serverSyncTree_,e);o=PT(n.serverSyncTree_,e._path,s,a)}return ei(n.eventQueue_,e._path,o),o0(n.serverSyncTree_,e,t,null,!0),s},i=>(T1(n,"get for query "+(0,be.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new m_(r,new nd(n._repo,n._path),n._queryParams.getIndex()))}class aB{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new DH("value",this,new m_(e.snapshotNode,new nd(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new TH(this,e,t):null}matches(e){return e instanceof aB&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class zT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new TH(this,e,t):null}createEvent(e,t){(0,be.hu)(null!=e.childName,"Child events should have a childName.");const r=y_(new nd(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new DH(e.type,this,new m_(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof zT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lB(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const u=t,h=(f,y)=>{rL(n._repo,n,a),u(f,y)};h.userCallback=t.userCallback,h.context=t.context,t=h}const o=new lL(t,s||void 0),a="value"===e?new aB(o):new zT(e,o);return function K9(n,e,t){let r;r=".info"===yi(e._path)?d_(n.infoSyncTree_,e,t):d_(n.serverSyncTree_,e,t),_i(n.eventQueue_,e._path,r)}(n._repo,n,a),()=>rL(n._repo,n,a)}function uL(n,e,t,r){return lB(n,"value",e,t,r)}function PH(n,e,t,r){return lB(n,"child_added",e,t,r)}function OH(n,e,t,r){return lB(n,"child_changed",e,t,r)}function LH(n,e,t,r){return lB(n,"child_moved",e,t,r)}function RH(n,e,t,r){return lB(n,"child_removed",e,t,r)}function kH(n,e,t){let r=null;const i=t?new lL(t):null;"value"===e?r=new aB(i):e&&(r=new zT(e,i)),rL(n._repo,n,r)}class _f{}class UH extends _f{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Q("endAt",this._value,e._path,!0);const t=t1(e._queryParams,this._value,this._key);if(WT(t),u0(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yA(e._repo,e._path,t,e._orderByCalled)}}class oq extends _f{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Q("endBefore",this._value,e._path,!1);const t=function wO(n,e,t){let r;return r=t1(n,e,n.index_===Ba||t?t:kp),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(WT(t),u0(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yA(e._repo,e._path,t,e._orderByCalled)}}class QH extends _f{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Q("startAt",this._value,e._path,!0);const t=r_(e._queryParams,this._value,this._key);if(WT(t),u0(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yA(e._repo,e._path,t,e._orderByCalled)}}class cq extends _f{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Q("startAfter",this._value,e._path,!1);const t=function _O(n,e,t){let r;return r=r_(n,e,n.index_===Ba||t?t:gf),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(WT(t),u0(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yA(e._repo,e._path,t,e._orderByCalled)}}class Aq extends _f{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yA(e._repo,e._path,function n_(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class dq extends _f{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yA(e._repo,e._path,function vO(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class pq extends _f{constructor(e){super(),this._path=e}_apply(e){GT(e,"orderByChild");const t=new $i(this._path);if(fi(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Jb(t),i=n1(e._queryParams,r);return u0(i),new yA(e._repo,e._path,i,!0)}}class mq extends _f{_apply(e){GT(e,"orderByKey");const t=n1(e._queryParams,Ba);return u0(t),new yA(e._repo,e._path,t,!0)}}class vq extends _f{_apply(e){GT(e,"orderByPriority");const t=n1(e._queryParams,vs);return u0(t),new yA(e._repo,e._path,t,!0)}}class wq extends _f{_apply(e){GT(e,"orderByValue");const t=n1(e._queryParams,FI);return u0(t),new yA(e._repo,e._path,t,!0)}}class Cq extends _f{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Q("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new UH(this._value,this._key)._apply(new QH(this._value,this._key)._apply(e))}}function wf(n,...e){let t=(0,be.m9)(n);for(const r of e)t=r._apply(t);return t}(function ST(n){(0,be.hu)(!n0,"__referenceConstructor has already been defined"),n0=n})(nd),function mH(n){(0,be.hu)(!qI,"__referenceConstructor has already been defined"),qI=n}(nd);const AL={};function VH(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Jh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dl("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,h,o=aL(s,i),a=o.repoInfo;"undefined"!=typeof process&&process.env&&(h=process.env.FIREBASE_DATABASE_EMULATOR_HOST),h?(u=!0,s=`http://${h}?ns=${a.namespace}`,o=aL(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const f=i&&u?new qv(qv.OWNER):new YP(n.name,n.options,e);qn("Invalid Firebase Database URL",o),fi(o.path)||Jh("Database URL must point to the root of a Firebase Database (not including a child path).");const y=function xq(n,e,t,r){let i=AL[e.name];i||(i={},AL[e.name]=i);let s=i[n.toURLString()];return s&&Jh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new iB(n,false,t,r),i[n.toURLString()]=s,s}(a,n,f,new $P(n.name,t));return new Tq(y,n)}class Tq{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function sB(n,e,t){if(n.stats_=yI(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new i_(n.repoInfo_,(r,i,s,o)=>{x1(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>D1(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,be.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new nm(n.repoInfo_,e,(r,i,s,o)=>{x1(n,r,i,s,o)},r=>{D1(n,r)},r=>{!function oB(n,e){Co(e,(t,r)=>{tL(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function XP(n,e){const t=n.toString();return mI[t]||(mI[t]=e()),mI[t]}(n.repoInfo_,()=>new RI(n.stats_,n.server_)),n.infoData_=new s1,n.infoSyncTree_=new MT({startListening:(r,i,s,o)=>{let a=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(a=s0(n.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),tL(n,"connected",!1),n.serverSyncTree_=new MT({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,u)=>{const h=o(a,u);ei(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nd(this._repo,Ki())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Sq(n,e){const t=AL[e];(!t||t[n.key]!==n)&&Jh(`Database ${e}(${n.repoInfo_}) has already been deleted.`),EH(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Jh("Cannot call "+e+" on a deleted database.")}}function jH(){KD.IS_TRANSPORT_INITIALIZED&&Ql("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Fq(){jH(),gA.forceDisallow()}function Mq(){jH(),jy.forceDisallow(),gA.forceAllow()}function Oq(n,e){jP(n,e)}const Rq={".sv":"timestamp"};class Qq{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Vq(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"div")(1,"header",2)(2,"nav",3)(3,"div")(4,"ul",4)(5,"li")(6,"a",5),p._uU(7,"INICIO"),p.qZA()(),p.TgZ(8,"li")(9,"a",6),p._uU(10,"MEDIR FRECUENCIA CARDIACA"),p.qZA()(),p.TgZ(11,"li")(12,"a",7),p._uU(13,"GRAFICOS"),p.qZA()(),p.TgZ(14,"li")(15,"a",8),p._uU(16,"REPORTES"),p.qZA()(),p.TgZ(17,"li")(18,"a",9),p.NdJ("click",function(){return p.CHM(t),p.oxw().logout()}),p._uU(19,"SALIR"),p.qZA()()()()()()()}}nm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},nm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Lq(n){mD(Os.SDK_VERSION),(0,Os._registerComponent)(new Fu.wA("database",(e,{instanceIdentifier:t})=>VH(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Os.registerVersion)(gD,"0.14.3",n),(0,Os.registerVersion)(gD,"0.14.3","esm2017")}();let GH=(()=>{class n{constructor(t,r){this.servicio=t,this.router=r,this.title="Sensor_Cardiaco",this.showTemplate=localStorage.getItem("showTemplate")}get(){this.showTemplate=this.servicio.getShowTemplate(),localStorage.setItem("showTemplate","true")}logout(){this.servicio.setShowTemplate("false"),this.showTemplate=this.servicio.getShowTemplate(),localStorage.setItem("showTemplate","false"),this.router.navigate(["/","ingreso"])}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ea),p.Y36(Yo))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],[2,"background-color","white"],[2,"background","rgba(5, 168, 94, 0.9)"],[1,"menupr"],[2,"display","flex","flex-direction","row"],["routerLink","inicio",1,"nav-link","active"],["routerLink","medirfc",1,"nav-link","active"],["routerLink","graf",1,"nav-link","active"],["routerLink","report",1,"nav-link","active"],["routerLink","ingreso",1,"nav-link","active",3,"click"]],template:function(t,r){1&t&&(p.YNc(0,Vq,20,0,"div",0),p._UZ(1,"router-outlet",1)),2&t&&p.Q6J("ngIf","true"===r.showTemplate)},directives:[no,Af,vE],styles:["li[_ngcontent-%COMP%]{margin-right:50px}ul[_ngcontent-%COMP%]{list-style:none;font-weight:500;font-size:1.05rem;text-transform:uppercase}.menupr[_ngcontent-%COMP%]{position:relative;margin-left:800px;padding-top:30px}a[_ngcontent-%COMP%]{padding:.9rem 2.1rem}a.active[_ngcontent-%COMP%]{background-color:var(--main-color);color:var(--light-one);border-radius:2rem;font-size:1rem}a.active[_ngcontent-%COMP%]:hover{color:var(--light-one);background-color:#0dc5c2}"]}),n})();const WH='body[_ngcontent-%COMP%]{margin:0;color:#6a6f8c;background:#c8c8c8;font:600 16px/18px Open Sans,sans-serif}select[_ngcontent-%COMP%]{size:50px;width:130px;height:40px;font-size:20px;padding:10px;border-radius:25px;background-color:#11bcb1}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:"";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both;display:block}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.login-wrap[_ngcontent-%COMP%]{width:100%;margin:auto;max-width:525px;min-height:1000px;position:relative;box-shadow:0 12px 15px #0000003d,0 17px 50px #00000030}.login-html[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;padding:50px 70px;background:rgba(40,101,79,.9)}.login-html[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{inset:0;position:absolute;transform:rotateY(180deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:all .4s linear}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{display:none}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{text-transform:uppercase}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px;margin:0 15px 10px 0;display:inline-block;border-bottom:2px solid transparent}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%]{color:#fff;border-color:#1161ee}.login-form[_ngcontent-%COMP%]{min-height:345px;position:relative;perspective:1000px;transform-style:preserve-3d}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:15px}.group--bottom[_ngcontent-%COMP%]{position:relative;top:30px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;color:#fff;display:block}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;padding:15px 20px;border-radius:25px;background:rgba(255,255,255,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[data-type=password][_ngcontent-%COMP%]{-webkit-text-security:circle}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#aaa;font-size:12px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{color:#000;background:#11ee96}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:2px;position:relative;display:inline-block;background:rgba(255,255,255,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before, .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{content:"";width:10px;height:2px;background:#fff;position:absolute;transition:all .2s ease-in-out 0s}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{left:3px;width:5px;bottom:6px;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{top:6px;right:0;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{transform:scale(1) rotate(45deg)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{transform:scale(1) rotate(-45deg)}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .sign-up[_ngcontent-%COMP%] + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%]{transform:rotate(0)}.login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{transform:rotate(0)}.hr[_ngcontent-%COMP%]{height:2px;margin:60px 0 50px;background:rgba(255,255,255,.2)}.foot-lnk[_ngcontent-%COMP%]{text-align:center}';let jq=(()=>{class n{constructor(t,r,i,s){this.fb=t,this.servicio=r,this.router=i,this.appComponent=s,this.title="TAREAS",this.usuarioForm=this.fb.group({nombreUsuario:["",lc.required],clave:["",lc.required]}),this.verifiusuarioForm=this.fb.group({nombreusuario:["",lc.required],clave:["",lc.required]}),this.personaForm=this.fb.group({id:["",lc.required],nombre:["",lc.required],apellido:["",lc.required],genero:["",lc.required],numeroDeTelefono:["",lc.required]}),this.pacienteForm=this.fb.group({id:["",lc.required],altura:["",lc.required],peso:["",lc.required],gruposanguineo:["",lc.required],nombreUsuario:["",lc.required],clave:["",lc.required]})}ngOnInit(){}verifiusuario(){this.servicio.verifiusuario(this.verifiusuarioForm.value).subscribe(t=>{1==t?(this.servicio.setShowTemplate("true"),this.appComponent.get(),this.router.navigate(["/","inicio"])):alert("CREDENCIALES INCORRECTAS")})}enviarusuario(){this.servicio.postusuario(this.usuarioForm.value).subscribe(t=>{alert(t.message)})}enviarpersona(){this.servicio.postpersona(this.personaForm.value).subscribe(t=>{alert(t.message)})}enviarpaciente(){this.servicio.postpaciente(this.pacienteForm.value).subscribe(t=>{alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(pD),p.Y36(Ea),p.Y36(Yo),p.Y36(GH))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-ingreso"]],decls:77,vars:2,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[2,"background-color","white"],[1,"login-wrap","column-1"],[1,"login-html"],["id","tab-1","type","radio","name","tab","checked","",1,"sign-in"],["for","tab-1",1,"tab"],["id","tab-2","type","radio","name","tab",1,"sign-up"],["for","tab-2",1,"tab"],[1,"login-form"],[1,"sign-in-htm"],[3,"formGroup","ngSubmit"],[1,"group"],["for","user",1,"label"],["id","user","type","text","formControlName","nombreusuario",1,"input"],["for","pass",1,"label"],["id","pass","type","password","data-type","password","formControlName","clave",1,"input"],[1,"group","group--bottom"],["type","submit","value","Ingresar",1,"button"],[1,"hr"],[1,"sign-up-htm"],[1,"container"],[1,"row"],[1,"col-4",2,"margin-right","70px"],["id","user","type","text",1,"input"],[1,"col-4"],["id","user","type","text","formControlName","nombreUsuario",1,"input"],["id","pass","type","password","formControlName","clave","data-type","password",1,"input"],["type","submit","value","Registrarse",1,"button"]],template:function(t,r){1&t&&(p.TgZ(0,"head"),p._UZ(1,"meta",0)(2,"meta",1),p.qZA(),p.TgZ(3,"body",2)(4,"div",3)(5,"div",4),p._UZ(6,"input",5),p.TgZ(7,"label",6),p._uU(8,"Ingreso"),p.qZA(),p._UZ(9,"input",7),p.TgZ(10,"label",8),p._uU(11,"Registro"),p.qZA(),p.TgZ(12,"div",9)(13,"div",10)(14,"form",11),p.NdJ("ngSubmit",function(){return r.verifiusuario()}),p.TgZ(15,"div",12)(16,"label",13),p._uU(17,"Nombre de usuario"),p.qZA(),p._UZ(18,"input",14),p.qZA(),p.TgZ(19,"div",12)(20,"label",15),p._uU(21,"Contrase\xf1a"),p.qZA(),p._UZ(22,"input",16),p.qZA(),p.TgZ(23,"div",17),p._UZ(24,"input",18),p.qZA(),p._UZ(25,"div",19),p.qZA()(),p.TgZ(26,"div",20)(27,"form",11),p.NdJ("ngSubmit",function(){return r.enviarusuario()}),p.TgZ(28,"div",21)(29,"div",22)(30,"div",23)(31,"div",12)(32,"label",13),p._uU(33,"Nombre"),p.qZA(),p._UZ(34,"input",24),p.qZA(),p.TgZ(35,"div",12)(36,"label",13),p._uU(37,"Apellido"),p.qZA(),p._UZ(38,"input",24),p.qZA(),p.TgZ(39,"div",12)(40,"label",13),p._uU(41,"Edad"),p.qZA(),p._UZ(42,"input",24),p.qZA(),p.TgZ(43,"div",12)(44,"label",13),p._uU(45,"Genero"),p.qZA(),p._UZ(46,"input",24),p.qZA(),p.TgZ(47,"div",12)(48,"label",13),p._uU(49,"Numero de telefono"),p.qZA(),p._UZ(50,"input",24),p.qZA()(),p.TgZ(51,"div",25)(52,"div",12)(53,"label",13),p._uU(54,"Altura"),p.qZA(),p._UZ(55,"input",24),p.qZA(),p.TgZ(56,"div",12)(57,"label",13),p._uU(58,"Peso"),p.qZA(),p._UZ(59,"input",24),p.qZA(),p.TgZ(60,"div",12)(61,"label",13),p._uU(62,"Grupo Sanguineo"),p.qZA(),p._UZ(63,"input",24),p.qZA()(),p.TgZ(64,"div",12)(65,"label",13),p._uU(66,"Nombre de usuario"),p.qZA(),p._UZ(67,"input",26),p.qZA(),p.TgZ(68,"div",12)(69,"label",15),p._uU(70,"Contrase\xf1a"),p.qZA(),p._UZ(71,"input",27),p.qZA(),p._UZ(72,"div",12),p.TgZ(73,"div",12),p._UZ(74,"input",28),p.qZA(),p._UZ(75,"div",19),p.qZA()()()()()()()(),p._UZ(76,"footer",2)),2&t&&(p.xp6(14),p.Q6J("formGroup",r.verifiusuarioForm),p.xp6(13),p.Q6J("formGroup",r.usuarioForm))},directives:[Zx,KE,Mb,df,vb,Pb],styles:[WH,WH]}),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zH="h3[_ngcontent-%COMP%]{text-align:center;font-size:75px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}strong[_ngcontent-%COMP%]{font-size:20px}.header-title[_ngcontent-%COMP%]{font-size:3.8rem;line-height:.8;color:var(--dark-one);position:relative;left:30%;top:100px;background-color:var(--main-color);border-radius:2rem;font-size:4rem;color:var(--light-one);width:max-content}.header-content[_ngcontent-%COMP%]   .container.grid-2[_ngcontent-%COMP%]{grid-template-columns:2.5fr 3.5fr;min-height:calc(100vh - 6rem);text-align:left}.resultados[_ngcontent-%COMP%]{background-color:var(--main-color);border-radius:2rem;font-size:2rem;color:var(--light-one);width:max-content;margin-bottom:10px}.img-element[_ngcontent-%COMP%]{max-width:750px;position:relative;z-index:2}.column[_ngcontent-%COMP%]{margin-right:1.5rem;position:relative;left:270px;top:60px}.datos[_ngcontent-%COMP%]{margin-top:50px;margin-left:270px;height:400px;width:500px;font-weight:700;border:5px solid #6ae67b;border-radius:20px;background-color:#def7cd}";let Kq=(()=>{class n{constructor(t,r){this.fb=t,this.ta=r,this.title="TAREAS",this.fecha="",this.cantPulsaciones="",this.riesgo="",this.probar=""}ngOnInit(){setInterval(()=>{this.ta.getpulso().subscribe(t=>{this.arr=t,this.cantPulsaciones=this.arr[this.arr.length-1].cantpulsaciones,this.fecha=this.arr[this.arr.length-1].fechademedicion,this.riesgo=this.arr[this.arr.length-1].riesgoDeInfarto})},5e3)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(pD),p.Y36(Ea))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-medirfrecuencia"]],decls:31,vars:3,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css","integrity","sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==","crossorigin","anonymous","referrerpolicy","no-referrer"],[1,"header-content"],[1,"container","grid-2"],[1,"datos"],[1,"column",2,"margin-left","-260px","position","relative","top","-2px"],[2,"left","600px","top","310px"],["type","text","name","name",1,"resultados",2,"border","2px solid #25b288","padding","10px","font-size","18px","width","130px","height","30px",3,"value"],[2,"left","600px","top","400px"],[2,"left","600px","top","480px"],["role","alert",1,"alert","alert-danger",2,"position","fixed","top","700px","left","600px","width","20%","text-align","center"]],template:function(t,r){1&t&&(p.TgZ(0,"head"),p._UZ(1,"meta",0)(2,"meta",1)(3,"link",2),p.qZA(),p.TgZ(4,"body")(5,"h3"),p._uU(6,"FRECUENCIA OBTENIDA"),p.qZA(),p.TgZ(7,"main")(8,"header")(9,"div",3)(10,"div",4)(11,"div",5)(12,"div",6),p._UZ(13,"br")(14,"br"),p.TgZ(15,"h2",7),p._uU(16,"Pulsaciones por segundo:"),p.qZA(),p._UZ(17,"input",8)(18,"br")(19,"br"),p.TgZ(20,"h2",9),p._uU(21,"Fecha:"),p.qZA(),p._UZ(22,"input",8)(23,"br")(24,"br"),p.TgZ(25,"h2",10),p._uU(26,"Riesgo de infarto:"),p.qZA(),p._UZ(27,"input",8),p.qZA()(),p.TgZ(28,"div",11)(29,"strong"),p._uU(30,"PELIGRO: PULSACION BAJA."),p.qZA()()()()()()()),2&t&&(p.xp6(17),p.Q6J("value",r.cantPulsaciones),p.xp6(5),p.Q6J("value",r.fecha),p.xp6(5),p.Q6J("value",r.riesgo))},styles:[zH,zH]}),n})();const qH="img[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]{width:100%;background-color:var(--light-three);overflow:hidden;position:relative}header[_ngcontent-%COMP%]   .points2[_ngcontent-%COMP%]{width:70%;top:65%;left:71%}.overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;top:0;left:0}.backimg1[_ngcontent-%COMP%]{position:absolute;width:13.5%;top:-5px;left:15px;opacity:.06}.backimg2[_ngcontent-%COMP%]{opacity:.3;position:absolute;width:420px;bottom:-75px;right:-150px}.container[_ngcontent-%COMP%]{position:relative;z-index:5;max-width:92rem;padding:0 4rem;margin:0 auto}.header-content[_ngcontent-%COMP%]   .container.grid-2[_ngcontent-%COMP%]{grid-template-columns:2.5fr 3.5fr;min-height:calc(100vh - 6rem);padding-bottom:2.5rem;text-align:left}.column-1[_ngcontent-%COMP%]{margin-right:1.5rem;width:600px;position:relative;top:300px}.header-title[_ngcontent-%COMP%]{font-size:3.8rem;line-height:.8;color:var(--dark-one)}.text[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--dark-two);line-height:1.6}.column-2[_ngcontent-%COMP%]{margin-left:1.5rem;position:relative;top:-200px;left:300px}.image[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.img-element[_ngcontent-%COMP%]{max-width:750px;position:relative;z-index:2}.footer[_ngcontent-%COMP%]{background:rgba(21,87,63,.9);padding:2rem 0;color:#000}.bottom-footer[_ngcontent-%COMP%]{margin-top:5.5rem;padding:0 1.7rem;display:flex;align-items:center;justify-content:space-between}.copyright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#7b7b7b;font-size:1.2rem;display:inline-block;text-align:center;position:relative;left:-200px;width:max-content}";let Gq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-inicio"]],decls:28,vars:0,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css","integrity","sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==","crossorigin","anonymous","referrerpolicy","no-referrer"],[1,"overlay","overlay-lg"],["src","../../../assets/img_inicio/background/fondo1.jpg","alt","",1,"backimg1"],["src","../../../assets/img_inicio/background/fondo2.jpg","alt","",1,"backimg2"],["src","../../../assets/img_inicio/background/fondo3.jpg","alt","",1,"backimg2",2,"position","relative","left","600px"],[1,"header-content"],[1,"container","grid-2"],[1,"column-1"],[1,"header-title"],[1,"text"],[1,"column-2","image"],["src","../../../assets/img_inicio/medirpulsoimg.png","alt","",1,"img-element"],[1,"footer"],[1,"container"],[1,"bottom-footer"],[1,"copyright"]],template:function(t,r){1&t&&(p.TgZ(0,"head"),p._UZ(1,"meta",0)(2,"meta",1)(3,"link",2),p.qZA(),p.TgZ(4,"body")(5,"main")(6,"header")(7,"div",3),p._UZ(8,"img",4)(9,"img",5)(10,"img",6),p.qZA(),p.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"h1",10),p._uU(15,"Cardiac Sensor"),p.qZA(),p.TgZ(16,"p",11),p._uU(17," Un sistema sencillo e intuitivo para la correcta medicion de la frecuencia cardiaca del usuario. el sistema debe incluir un mecanismo de alerta que permita al usuario detectar r\xe1pidamente los latidos anormales, as\xed como una funci\xf3n de monitoreo para mostrar la frecuencia card\xedaca durante un tiempo prolongado. "),p.qZA()(),p.TgZ(18,"div",12),p._UZ(19,"img",13),p.qZA()()()()(),p.TgZ(20,"footer",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"p",11),p._uU(25," Copyright\xa92023 All rights reserved | Made by "),p.TgZ(26,"span"),p._uU(27,"Sebastian Perez and Rosa Baren"),p.qZA()()()()()()())},styles:[qH,qH]}),n})();function M1(n){return n+.5|0}const hm=(n,e,t)=>Math.max(Math.min(n,t),e);function cB(n){return hm(M1(2.55*n),0,255)}function A0(n){return hm(M1(255*n),0,255)}function dm(n){return hm(M1(n/2.55)/100,0,1)}function $H(n){return hm(M1(100*n),0,100)}const rd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hL=[..."0123456789ABCDEF"],Wq=n=>hL[15&n],zq=n=>hL[(240&n)>>4]+hL[15&n],qT=n=>(240&n)>>4==(15&n);const Xq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YH(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Jq(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function e$(n,e,t){const r=YH(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function dL(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;let u,h,f;return s!==o&&(f=s-o,h=a>.5?f/(2-s-o):f/(s+o),u=function t$(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}(t,r,i,f,s),u=60*u+.5),[0|u,h||0,a]}function fL(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(A0)}function pL(n,e,t){return fL(YH,n,e,t)}function ZH(n){return(n%360+360)%360}const XH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},JH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let $T;const c$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,gL=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,N1=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function YT(n,e,t){if(n){let r=dL(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,0===e?360:1)),r=pL(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function eV(n,e){return n&&Object.assign(e||{},n)}function tV(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=A0(n[3]))):(e=eV(n,{r:0,g:0,b:0,a:1})).a=A0(e.a),e}function d$(n){return"r"===n.charAt(0)?function u$(n){const e=c$.exec(n);let r,i,s,t=255;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?cB(o):hm(255*o,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?cB(r):hm(r,0,255)),i=255&(e[4]?cB(i):hm(i,0,255)),s=255&(e[6]?cB(s):hm(s,0,255)),{r,g:i,b:s,a:t}}}(n):function i$(n){const e=Xq.exec(n);let r,t=255;if(!e)return;e[5]!==r&&(t=e[6]?cB(+e[5]):A0(+e[5]));const i=ZH(+e[2]),s=+e[3]/100,o=+e[4]/100;return r="hwb"===e[1]?function n$(n,e,t){return fL(e$,n,e,t)}(i,s,o):"hsv"===e[1]?function r$(n,e,t){return fL(Jq,n,e,t)}(i,s,o):pL(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}(n)}class P1{constructor(e){if(e instanceof P1)return e;const t=typeof e;let r;"object"===t?r=tV(e):"string"===t&&(r=function $q(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*rd[n[1]],g:255&17*rd[n[2]],b:255&17*rd[n[3]],a:5===e?17*rd[n[4]]:255}:(7===e||9===e)&&(t={r:rd[n[1]]<<4|rd[n[2]],g:rd[n[3]]<<4|rd[n[4]],b:rd[n[5]]<<4|rd[n[6]],a:9===e?rd[n[7]]<<4|rd[n[8]]:255})),t}(e)||function l$(n){$T||($T=function a$(){const n={},e=Object.keys(JH),t=Object.keys(XH);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,XH[s]);s=parseInt(JH[o],16),n[a]=[s>>16&255,s>>8&255,255&s]}return n}(),$T.transparent=[0,0,0,0]);const e=$T[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||d$(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=eV(this._rgb);return e&&(e.a=dm(e.a)),e}set rgb(e){this._rgb=tV(e)}rgbString(){return this._valid?function A$(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${dm(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Zq(n){var e=(n=>qT(n.r)&&qT(n.g)&&qT(n.b)&&qT(n.a))(n)?Wq:zq;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function o$(n){if(!n)return;const e=dL(n),t=e[0],r=$H(e[1]),i=$H(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${dm(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,u=r.a-i.a,h=((a*u==-1?a:(a+u)/(1+a*u))+1)/2;s=1-h,r.r=255&h*r.r+s*i.r+.5,r.g=255&h*r.g+s*i.g+.5,r.b=255&h*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function h$(n,e,t){const r=N1(dm(n.r)),i=N1(dm(n.g)),s=N1(dm(n.b));return{r:A0(gL(r+t*(N1(dm(e.r))-r))),g:A0(gL(i+t*(N1(dm(e.g))-i))),b:A0(gL(s+t*(N1(dm(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new P1(this.rgb)}alpha(e){return this._rgb.a=A0(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=M1(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return YT(this._rgb,2,e),this}darken(e){return YT(this._rgb,2,-e),this}saturate(e){return YT(this._rgb,1,e),this}desaturate(e){return YT(this._rgb,1,-e),this}rotate(e){return function s$(n,e){var t=dL(n);t[0]=ZH(t[0]+e),t=pL(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function fm(){}const f$=(()=>{let n=0;return()=>n++})();function Yi(n){return null==n}function Io(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Ni(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function ca(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function hh(n,e){return ca(n)?n:e}function ci(n,e){return void 0===n?e:n}const nV=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function uo(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function Is(n,e,t,r){let i,s,o;if(Io(n))if(s=n.length,r)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(Ni(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function ZT(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function XT(n){if(Io(n))return n.map(XT);if(Ni(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=XT(n[t[i]]);return e}return n}function rV(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function g$(n,e,t,r){if(!rV(n))return;const i=e[n],s=t[n];Ni(i)&&Ni(s)?uB(i,s,r):e[n]=XT(s)}function uB(n,e,t){const r=Io(e)?e:[e],i=r.length;if(!Ni(n))return n;const s=(t=t||{}).merger||g$;let o;for(let a=0;a<i;++a){if(o=r[a],!Ni(o))continue;const u=Object.keys(o);for(let h=0,f=u.length;h<f;++h)s(u[h],n,o,t)}return n}function AB(n,e){return uB(n,e,{merger:m$})}function m$(n,e,t){if(!rV(n))return;const r=e[n],i=t[n];Ni(r)&&Ni(i)?AB(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=XT(i))}const iV={"":n=>n,x:n=>n.x,y:n=>n.y};function h0(n,e){return(iV[e]||(iV[e]=function v$(n){const e=function y$(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}(n);return t=>{for(const r of e){if(""===r)break;t=t&&t[r]}return t}}(e)))(n)}function mL(n){return n.charAt(0).toUpperCase()+n.slice(1)}const id=n=>void 0!==n,d0=n=>"function"==typeof n,sV=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},Ro=Math.PI,Bo=2*Ro,w$=Bo+Ro,JT=Number.POSITIVE_INFINITY,b$=Ro/180,ua=Ro/2,v_=Ro/4,oV=2*Ro/3,f0=Math.log10,zp=Math.sign;function hB(n,e,t){return Math.abs(n-e)<t}function aV(n){const e=Math.round(n);n=hB(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(f0(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function O1(n){return!isNaN(parseFloat(n))&&isFinite(n)}function lV(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function bf(n){return n*(Ro/180)}function yL(n){return n*(180/Ro)}function cV(n){if(!ca(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function uV(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Ro&&(s+=Bo),{angle:s,distance:i}}function vL(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function I$(n,e){return(n-e+w$)%Bo-Ro}function dh(n){return(n%Bo+Bo)%Bo}function dB(n,e,t,r){const i=dh(n),s=dh(e),o=dh(t),a=dh(s-i),u=dh(o-i),h=dh(i-s),f=dh(i-o);return i===s||i===o||r&&s===o||a>u&&h<f}function Hl(n,e,t){return Math.max(e,Math.min(t,n))}function pm(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function _L(n,e,t){t=t||(o=>n[o]<e);let s,r=n.length-1,i=0;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const gm=(n,e,t,r)=>_L(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),S$=(n,e,t)=>_L(n,t,r=>n[r][e]>=t),AV=["push","pop","shift","splice","unshift"];function hV(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),!(r.length>0)&&(AV.forEach(s=>{delete n[s]}),delete n._chartjs)}function dV(n){const e=new Set;let t,r;for(t=0,r=n.length;t<r;++t)e.add(n[t]);return e.size===r?n:Array.from(e)}const fV="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function pV(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,fV.call(window,()=>{r=!1,n.apply(e,t)}))}}const wL=n=>"start"===n?"left":"end"===n?"right":"center",Hc=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function gV(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,_parsed:a}=n,u=o.axis,{min:h,max:f,minDefined:y,maxDefined:I}=o.getUserBounds();y&&(i=Hl(Math.min(gm(a,o.axis,h).lo,t?r:gm(e,u,o.getPixelForValue(h)).lo),0,r-1)),s=I?Hl(Math.max(gm(a,o.axis,f,!0).hi+1,t?0:gm(e,u,o.getPixelForValue(f),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function mV(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const eF=n=>0===n||1===n,yV=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*Bo/t),vV=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Bo/t)+1,fB={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*ua),easeOutSine:n=>Math.sin(n*ua),easeInOutSine:n=>-.5*(Math.cos(Ro*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>eF(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>eF(n)?n:yV(n,.075,.3),easeOutElastic:n=>eF(n)?n:vV(n,.075,.3),easeInOutElastic:n=>eF(n)?n:n<.5?.5*yV(2*n,.1125,.45):.5+.5*vV(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-fB.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*fB.easeInBounce(2*n):.5*fB.easeOutBounce(2*n-1)+.5};function _V(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function wV(n){return _V(n)?n:new P1(n)}function bL(n){return _V(n)?n:new P1(n).saturate(.5).darken(.1).hexString()}const M$=["x","y","borderWidth","radius","tension"],N$=["color","borderColor","backgroundColor"],bV=new Map;function pB(n,e,t){return function L$(n,e){e=e||{};const t=n+JSON.stringify(e);let r=bV.get(t);return r||(r=new Intl.NumberFormat(n,e),bV.set(t,r)),r}(e,t).format(n)}const CV={values:n=>Io(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),s=function R$(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const o=f0(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(u,this.options.ticks.format),pB(n,r,u)},logarithmic(n,e,t){if(0===n)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(f0(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?CV.numeric.call(this,n,e,t):""}};var tF={formatters:CV};const __=Object.create(null),CL=Object.create(null);function gB(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function EL(n,e,t){return"string"==typeof e?uB(gB(n,e),t):uB(gB(n,""),e)}class U${constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>bL(i.backgroundColor),this.hoverBorderColor=(r,i)=>bL(i.borderColor),this.hoverColor=(r,i)=>bL(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return EL(this,e,t)}get(e){return gB(this,e)}describe(e,t){return EL(CL,e,t)}override(e,t){return EL(__,e,t)}route(e,t,r,i){const s=gB(this,e),o=gB(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[a],h=o[i];return Ni(u)?Object.assign({},h,u):ci(u,h)},set(u){this[a]=u}}})}apply(e){e.forEach(t=>t(this))}}var Sa=new U$({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function P$(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:N$},numbers:{type:"number",properties:M$}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function O$(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function k$(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tF.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function nF(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function H$(n,e,t,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let o=0;const a=t.length;let u,h,f,y,I;for(u=0;u<a;u++)if(y=t[u],null!=y&&!0!==Io(y))o=nF(n,i,s,o,y);else if(Io(y))for(h=0,f=y.length;h<f;h++)I=y[h],null!=I&&!Io(I)&&(o=nF(n,i,s,o,I));n.restore();const C=s.length/2;if(C>t.length){for(u=0;u<C;u++)delete i[s[u]];s.splice(0,C)}return o}function w_(n,e,t){const r=n.currentDevicePixelRatio,i=0!==t?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function EV(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function IL(n,e,t,r){IV(n,e,t,r,null)}function IV(n,e,t,r,i){let s,o,a,u,h,f,y,I;const C=e.pointStyle,P=e.rotation,L=e.radius;let V=(P||0)*b$;if(C&&"object"==typeof C&&(s=C.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,r),n.rotate(V),n.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),void n.restore();if(!(isNaN(L)||L<=0)){switch(n.beginPath(),C){default:i?n.ellipse(t,r,i/2,L,0,0,Bo):n.arc(t,r,L,0,Bo),n.closePath();break;case"triangle":f=i?i/2:L,n.moveTo(t+Math.sin(V)*f,r-Math.cos(V)*L),V+=oV,n.lineTo(t+Math.sin(V)*f,r-Math.cos(V)*L),V+=oV,n.lineTo(t+Math.sin(V)*f,r-Math.cos(V)*L),n.closePath();break;case"rectRounded":h=.516*L,u=L-h,o=Math.cos(V+v_)*u,y=Math.cos(V+v_)*(i?i/2-h:u),a=Math.sin(V+v_)*u,I=Math.sin(V+v_)*(i?i/2-h:u),n.arc(t-y,r-a,h,V-Ro,V-ua),n.arc(t+I,r-o,h,V-ua,V),n.arc(t+y,r+a,h,V,V+ua),n.arc(t-I,r+o,h,V+ua,V+Ro),n.closePath();break;case"rect":if(!P){u=Math.SQRT1_2*L,f=i?i/2:u,n.rect(t-f,r-u,2*f,2*u);break}V+=v_;case"rectRot":y=Math.cos(V)*(i?i/2:L),o=Math.cos(V)*L,a=Math.sin(V)*L,I=Math.sin(V)*(i?i/2:L),n.moveTo(t-y,r-a),n.lineTo(t+I,r-o),n.lineTo(t+y,r+a),n.lineTo(t-I,r+o),n.closePath();break;case"crossRot":V+=v_;case"cross":y=Math.cos(V)*(i?i/2:L),o=Math.cos(V)*L,a=Math.sin(V)*L,I=Math.sin(V)*(i?i/2:L),n.moveTo(t-y,r-a),n.lineTo(t+y,r+a),n.moveTo(t+I,r-o),n.lineTo(t-I,r+o);break;case"star":y=Math.cos(V)*(i?i/2:L),o=Math.cos(V)*L,a=Math.sin(V)*L,I=Math.sin(V)*(i?i/2:L),n.moveTo(t-y,r-a),n.lineTo(t+y,r+a),n.moveTo(t+I,r-o),n.lineTo(t-I,r+o),V+=v_,y=Math.cos(V)*(i?i/2:L),o=Math.cos(V)*L,a=Math.sin(V)*L,I=Math.sin(V)*(i?i/2:L),n.moveTo(t-y,r-a),n.lineTo(t+y,r+a),n.moveTo(t+I,r-o),n.lineTo(t-I,r+o);break;case"line":o=i?i/2:Math.cos(V)*L,a=Math.sin(V)*L,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(V)*(i?i/2:L),r+Math.sin(V)*L);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function mB(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function rF(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function iF(n){n.restore()}function V$(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if("middle"===i){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===i!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function j$(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function b_(n,e,t,r,i,s={}){const o=Io(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let u,h;for(n.save(),n.font=i.string,function K$(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Yi(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),u=0;u<o.length;++u)h=o[u],s.backdrop&&W$(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Yi(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(h,t,r,s.maxWidth)),n.fillText(h,t,r,s.maxWidth),G$(n,t,r,h,s),r+=i.lineHeight;n.restore()}function G$(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,u=t-s.actualBoundingBoxAscent,h=t+s.actualBoundingBoxDescent,f=i.strikethrough?(u+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,f),n.lineTo(a,f),n.stroke()}}function W$(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function yB(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,-ua,Ro,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Ro,ua,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,ua,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-ua,!0),n.lineTo(t+o.topLeft,r)}const z$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,q$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $$(n,e){const t=(""+n).match(z$);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const Y$=n=>+n||0;function BL(n,e){const t={},r=Ni(e),i=r?Object.keys(e):e,s=Ni(n)?r?o=>ci(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=Y$(s(o));return t}function BV(n){return BL(n,{top:"y",right:"x",bottom:"y",left:"x"})}function C_(n){return BL(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Vc(n){const e=BV(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pl(n,e){let t=ci((n=n||{}).size,(e=e||Sa.font).size);"string"==typeof t&&(t=parseInt(t,10));let r=ci(n.style,e.style);r&&!(""+r).match(q$)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ci(n.family,e.family),lineHeight:$$(ci(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:ci(n.weight,e.weight),string:""};return i.string=function Q$(n){return!n||Yi(n.size)||Yi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(i),i}function vB(n,e,t,r){let s,o,a,i=!0;for(s=0,o=n.length;s<o;++s)if(a=n[s],void 0!==a&&(void 0!==e&&"function"==typeof a&&(a=a(e),i=!1),void 0!==t&&Io(a)&&(a=a[t%a.length],i=!1),void 0!==a))return r&&!i&&(r.cacheable=!1),a}function p0(n,e){return Object.assign(Object.create(n),e)}function SL(n,e=[""],t=n,r,i=(()=>n[0])){id(r)||(r=FV("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:r,_getTarget:i,override:o=>SL([o,...n],e,t,r)};return new Proxy(s,{deleteProperty:(o,a)=>(delete o[a],delete o._keys,delete n[0][a],!0),get:(o,a)=>xV(o,a,()=>function sY(n,e,t,r){let i;for(const s of e)if(i=FV(X$(s,n),t),id(i))return xL(n,i)?DL(t,r,n,i):i}(a,e,n,o)),getOwnPropertyDescriptor:(o,a)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],a),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(o,a)=>MV(o).includes(a),ownKeys:o=>MV(o),set(o,a,u){const h=o._storage||(o._storage=i());return o[a]=h[a]=u,delete o._keys,!0}})}function L1(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:SV(n,r),setContext:s=>L1(n,s,t,r),override:s=>L1(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,a)=>xV(s,o,()=>function J$(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return d0(a)&&o.isScriptable(e)&&(a=function eY(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);return a.add(n),e=e(s,o||r),a.delete(n),xL(n,e)&&(e=DL(i._scopes,i,n,e)),e}(e,a,n,t)),Io(a)&&a.length&&(a=function tY(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(id(s.index)&&r(n))e=e[s.index%e.length];else if(Ni(e[0])){const u=e,h=i._scopes.filter(f=>f!==u);e=[];for(const f of u){const y=DL(h,i,n,f);e.push(L1(y,s,o&&o[n],a))}}return e}(e,a,n,o.isIndexable)),xL(e,a)&&(a=L1(a,i,s&&s[e],o)),a}(s,o,a)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,a)=>(n[o]=a,delete s[o],!0)})}function SV(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:d0(t)?t:()=>t,isIndexable:d0(r)?r:()=>r}}const X$=(n,e)=>n?n+mL(e):e,xL=(n,e)=>Ni(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function xV(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const r=t();return n[e]=r,r}function DV(n,e,t){return d0(n)?n(e,t):n}const nY=(n,e)=>!0===n?e:"string"==typeof n?h0(e,n):void 0;function rY(n,e,t,r,i){for(const s of e){const o=nY(t,s);if(o){n.add(o);const a=DV(o._fallback,t,i);if(id(a)&&a!==t&&a!==r)return a}else if(!1===o&&id(r)&&t!==r)return null}return!1}function DL(n,e,t,r){const i=e._rootScopes,s=DV(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let u=TV(a,o,t,s||t,r);return!(null===u||id(s)&&s!==t&&(u=TV(a,o,s,u,r),null===u))&&SL(Array.from(a),[""],i,s,()=>function iY(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Io(i)&&Ni(t)?t:i||{}}(e,t,r))}function TV(n,e,t,r,i){for(;t;)t=rY(n,e,t,r,i);return t}function FV(n,e){for(const t of e){if(!t)continue;const r=t[n];if(id(r))return r}}function MV(n){let e=n._keys;return e||(e=n._keys=function oY(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}(n._scopes)),e}function NV(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r);let a,u,h,f;for(a=0,u=r;a<u;++a)h=a+t,f=e[h],o[a]={r:i.parse(h0(f,s),h)};return o}const aY=Number.EPSILON||1e-14,R1=(n,e)=>e<n.length&&!n[e].skip&&n[e],PV=n=>"x"===n?"y":"x";function lY(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=vL(s,i),u=vL(o,s);let h=a/(a+u),f=u/(a+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const y=r*h,I=r*f;return{previous:{x:s.x-y*(o.x-i.x),y:s.y-y*(o.y-i.y)},next:{x:s.x+I*(o.x-i.x),y:s.y+I*(o.y-i.y)}}}function sF(n,e,t){return Math.max(Math.min(n,t),e)}function dY(n,e,t,r,i){let s,o,a,u;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),"monotone"===e.cubicInterpolationMode)!function AY(n,e="x"){const t=PV(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,u,h=R1(n,0);for(o=0;o<r;++o)if(a=u,u=h,h=R1(n,o+1),u){if(h){const f=h[e]-u[e];i[o]=0!==f?(h[t]-u[t])/f:0}s[o]=a?h?zp(i[o-1])!==zp(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}(function cY(n,e,t){const r=n.length;let i,s,o,a,u,h=R1(n,0);for(let f=0;f<r-1;++f)if(u=h,h=R1(n,f+1),u&&h){if(hB(e[f],0,aY)){t[f]=t[f+1]=0;continue}i=t[f]/e[f],s=t[f+1]/e[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[f]=i*o*e[f],t[f+1]=s*o*e[f])}})(n,i,s),function uY(n,e,t="x"){const r=PV(t),i=n.length;let s,o,a,u=R1(n,0);for(let h=0;h<i;++h){if(o=a,a=u,u=R1(n,h+1),!a)continue;const f=a[t],y=a[r];o&&(s=(f-o[t])/3,a[`cp1${t}`]=f-s,a[`cp1${r}`]=y-s*e[h]),u&&(s=(u[t]-f)/3,a[`cp2${t}`]=f+s,a[`cp2${r}`]=y+s*e[h])}}(n,s,e)}(n,i);else{let h=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],u=lY(h,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=u.previous.x,a.cp1y=u.previous.y,a.cp2x=u.next.x,a.cp2y=u.next.y,h=a}e.capBezierPoints&&function hY(n,e){let t,r,i,s,o,a=mB(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&mB(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=sF(i.cp1x,e.left,e.right),i.cp1y=sF(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=sF(i.cp2x,e.left,e.right),i.cp2y=sF(i.cp2y,e.top,e.bottom)))}(n,t)}function OV(){return"undefined"!=typeof window&&"undefined"!=typeof document}function TL(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function oF(n,e,t){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*e.parentNode[t])):r=n,r}const aF=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),pY=["top","right","bottom","left"];function E_(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=pY[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function I_(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=aF(t),s="border-box"===i.boxSizing,o=E_(i,"padding"),a=E_(i,"border","width"),{x:u,y:h,box:f}=function mY(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a,u,o=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(i,s,n.target))a=i,u=s;else{const h=e.getBoundingClientRect();a=r.clientX-h.left,u=r.clientY-h.top,o=!0}return{x:a,y:u,box:o}}(n,t),y=o.left+(f&&a.left),I=o.top+(f&&a.top);let{width:C,height:P}=e;return s&&(C-=o.width+a.width,P-=o.height+a.height),{x:Math.round((u-y)/C*t.width/r),y:Math.round((h-I)/P*t.height/r)}}const lF=n=>Math.round(10*n)/10;function LV(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0)}const _Y=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return n}();function RV(n,e){const t=function fY(n,e){return aF(n).getPropertyValue(e)}(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function B_(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function wY(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:"middle"===r?t<.5?n.y:e.y:"after"===r?t<1?n.y:e.y:t>0?e.y:n.y}}function bY(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=B_(n,i,t),a=B_(i,s,t),u=B_(s,e,t),h=B_(o,a,t),f=B_(a,u,t);return B_(h,f,t)}function k1(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,r)=>t-r,leftForLtr:(t,r)=>t-r}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function kV(n,e){let t,r;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function UV(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function QV(n){return"angle"===n?{between:dB,compare:I$,normalize:dh}:{between:pm,compare:(e,t)=>e-t,normalize:e=>e}}function HV({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t==0,style:i}}function VV(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:u,normalize:h}=QV(r),{start:f,end:y,loop:I,style:C}=function IY(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=QV(r),u=e.length;let I,C,{start:h,end:f,loop:y}=n;if(y){for(h+=u,f+=u,I=0,C=u;I<C&&o(a(e[h%u][r]),i,s);++I)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:y,style:n.style}}(n,e,t),P=[];let j,z,se,L=!1,V=null;for(let Ce=f,ut=f;Ce<=y;++Ce)z=e[Ce%o],!z.skip&&(j=h(z[r]),j!==se&&(L=u(j,i,s),null===V&&(L||u(i,se,j)&&0!==a(i,se))&&(V=0===a(j,i)?Ce:ut),null!==V&&(!L||0===a(s,j)||u(s,se,j))&&(P.push(HV({start:V,end:Ce,loop:I,count:o,style:C})),V=null),ut=Ce,se=j));return null!==V&&P.push(HV({start:V,end:y,loop:I,count:o,style:C})),P}function jV(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=VV(r[i],n.points,e);s.length&&t.push(...s)}return t}function GV(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function TY(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}class FY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.duration;t.listeners[i].forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=fV.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let u,o=s.length-1,a=!1;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var mm=new FY;const WV="transparent",MY={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const r=wV(n||WV),i=r.valid&&wV(e||WV);return i&&i.valid?i.mix(r,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class NY{constructor(e,t,r,i){const s=t[r];i=vB([e.to,i,s,e.from]);const o=vB([e.from,s,i]);this._active=!0,this._fn=e.fn||MY[e.type||typeof o],this._easing=fB[e.easing]||fB.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=vB([e.to,t,i,e.from]),this._from=vB([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let u;if(this._active=s!==a&&(o||t<r),!this._active)return this._target[i]=a,void this._notify(!0);t<0?this._target[i]=s:(u=t/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,a,u))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class zV{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ni(e))return;const t=Object.keys(Sa.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ni(s))return;const o={};for(const a of t)o[a]=s[a];(Io(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=function OY(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&function PY(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if("$"===h.charAt(0))continue;if("options"===h){i.push(...this._animateOptions(e,t));continue}const f=t[h];let y=s[h];const I=r.get(h);if(y){if(I&&y.active()){y.update(I,f,a);continue}y.cancel()}I&&I.duration?(s[h]=y=new NY(I,e,h,f),i.push(y)):e[h]=f}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(mm.add(this._chart,r),!0):void 0}}function qV(n,e){const t=n&&n.options||{},r=t.reverse,i=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:r?s:i,end:r?i:s}}function $V(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function YV(n,e,t,r={}){const i=n.keys,s="single"===r.mode;let o,a,u,h;if(null!==e){for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===t){if(r.all)continue;break}h=n.values[u],ca(h)&&(s||0===e||zp(e)===zp(h))&&(e+=h)}return e}}function ZV(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function HY(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function XV(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function JV(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,u=s.axis,h=o.axis,f=function UY(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,o,r),y=e.length;let I;for(let C=0;C<y;++C){const P=e[C],{[u]:L,[h]:V}=P;I=(P._stacks||(P._stacks={}))[h]=HY(i,f,L),I[a]=V,I._top=XV(I,o,!0,r.type),I._bottom=XV(I,o,!1,r.type),(I._visualValues||(I._visualValues={}))[a]=V}}function FL(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function _B(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||void 0===s[r]||void 0===s[r][t])return;delete s[r][t],void 0!==s[r]._visualValues&&void 0!==s[r]._visualValues[t]&&delete s[r]._visualValues[t]}}}const ML=n=>"reset"===n||"none"===n,e6=(n,e)=>e?n:Object.assign({},n);class Cf{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ZV(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_B(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(y,I,C,P)=>"x"===y?I:"r"===y?P:C,s=t.xAxisID=ci(r.xAxisID,FL(e,"x")),o=t.yAxisID=ci(r.yAxisID,FL(e,"y")),a=t.rAxisID=ci(r.rAxisID,FL(e,"r")),u=t.indexAxis,h=t.iAxisID=i(u,s,o,a),f=t.vAxisID=i(u,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hV(this._data,this),e._stacked&&_B(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Ni(t))this._data=function kY(n){const e=Object.keys(n),t=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],t[r]={x:s,y:n[s]};return t}(t);else if(r!==t){if(r){hV(r,this);const i=this._cachedMeta;_B(i),i._parsed=[]}t&&Object.isExtensible(t)&&function D$(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),AV.forEach(t=>{const r="_onData"+mL(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[r]&&a[r](...s)}),o}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=ZV(t.vScale,t),t.stack!==r.stack&&(i=!0,_B(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&JV(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let f,y,I,u=0===e&&t===i.length||r._sorted,h=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=i,r._sorted=!0,I=i;else{I=Io(i[e])?this.parseArrayData(r,i,e,t):Ni(i[e])?this.parseObjectData(r,i,e,t):this.parsePrimitiveData(r,i,e,t);const C=()=>null===y[a]||h&&y[a]<h[a];for(f=0;f<t;++f)r._parsed[f+e]=y=I[f],u&&(C()&&(u=!1),h=y);r._sorted=u}o&&JV(this,I)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,a=s.axis,u=o.axis,h=s.getLabels(),f=s===o,y=new Array(i);let I,C,P;for(I=0,C=i;I<C;++I)P=I+r,y[I]={[a]:f||s.parse(h[P],P),[u]:o.parse(t[P],P)};return y}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let u,h,f,y;for(u=0,h=i;u<h;++u)f=u+r,y=t[f],a[u]={x:s.parse(y[0],f),y:o.parse(y[1],f)};return a}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,h=new Array(i);let f,y,I,C;for(f=0,y=i;f<y;++f)I=f+r,C=t[I],h[f]={x:s.parse(h0(C,a),I),y:o.parse(h0(C,u),I)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const s=this._cachedMeta,o=t[e.axis];return YV({keys:$V(this.chart,!0),values:t._stacks[e.axis]._visualValues},o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=null===s?NaN:s;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,o=YV(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),u=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:$V(this.chart,!0),values:null})(t,r),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:y}=function QY(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}(a);let I,C;function P(){C=i[I];const L=C[a.axis];return!ca(C[e.axis])||f>L||y<L}for(I=0;I<o&&(P()||(this.updateRangeFromParsed(h,e,C,u),!s));++I);if(s)for(I=o-1;I>=0;--I)if(!P()){this.updateRangeFromParsed(h,e,C,u);break}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],ca(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function RY(n){let e,t,r,i;return Ni(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:!1===n}}(ci(this.options.clip,function LY(n,e,t){if(!1===t)return!1;const r=qV(n,t),i=qV(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,i=r.data||[],s=this.chart.chartArea,o=[],a=this._drawStart||0,u=this._drawCount||i.length-a,h=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,a,u),f=a;f<a+u;++f){const y=i[f];y.hidden||(y.active&&h?o.push(y):y.draw(e,s))}for(f=0;f<o.length;++f)o[f].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=function jY(n,e,t){return p0(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function VY(n,e){return p0(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i="active"===t,s=this._cachedDataOpts,o=e+"-"+t,a=s[o],u=this.enableOptionSharing&&id(r);if(a)return e6(a,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),y=i?[`${e}Hover`,"hover",e,""]:[e,""],I=h.getOptionScopes(this.getDataset(),f),C=Object.keys(Sa.elements[e]),L=h.resolveNamedOptions(I,C,()=>this.getContext(r,i,t),y);return L.$shared&&(L.$shared=u,s[o]=Object.freeze(e6(L,u))),L}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let u;if(!1!==i.options.animation){const f=this.chart.config,y=f.datasetAnimationScopeKeys(this._type,t),I=f.getOptionScopes(this.getDataset(),y);u=f.createResolver(I,this.getContext(e,r,t))}const h=new zV(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ML(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){ML(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!ML(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,u,h]of this._syncList)this[a](u,h);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let a;const u=h=>{for(h.length+=t,a=h.length-1;a>=o;a--)h[a]=h[a-t]};for(u(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&_B(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function WY(n){const e=n.iScale,t=function GY(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=dV(r.sort((i,s)=>i-s))}return n._cache.$bar}(e,n.type);let i,s,o,a,r=e._length;const u=()=>{32767===o||-32768===o||(id(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),u();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),u();return r}function t6(n,e,t,r){return Io(n)?function $Y(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s);let u=o,h=a;Math.abs(o)>Math.abs(a)&&(u=a,h=o),e[t.axis]=h,e._custom={barStart:u,barEnd:h,start:i,end:s,min:o,max:a}}(n,e,t,r):e[t.axis]=t.parse(n,r),e}function n6(n,e,t,r){const i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,u=[];let h,f,y,I;for(h=t,f=t+r;h<f;++h)I=e[h],y={},y[i.axis]=a||i.parse(o[h],h),u.push(t6(I,y,s,h));return u}function NL(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function XY(n,e,t,r){let i=e.borderSkipped;const s={};if(!i)return void(n.borderSkipped=s);if(!0===i)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:u,top:h,bottom:f}=function ZY(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}(n);"middle"===i&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=h:(t._bottom||0)===r?i=f:(s[r6(f,o,a,u)]=!0,i=h)),s[r6(i,o,a,u)]=!0,n.borderSkipped=s}function r6(n,e,t,r){return r?(n=function JY(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=i6(n,t,e)):n=i6(n,e,t),n}function i6(n,e,t){return"start"===n?e:"end"===n?t:n}function eZ(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}rr(Cf,"defaults",{}),rr(Cf,"datasetElementType",null),rr(Cf,"dataElementType",null);class cF extends Cf{parsePrimitiveData(e,t,r,i){return n6(e,t,r,i)}parseArrayData(e,t,r,i){return n6(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:u="y"}=this._parsing,h="x"===s.axis?a:u,f="x"===o.axis?a:u,y=[];let I,C,P,L;for(I=r,C=r+i;I<C;++I)L=t[I],P={},P[s.axis]=s.parse(h0(L,h),I),y.push(t6(h0(L,f),P,o,I));return y}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),o=s._custom,a=NL(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s="reset"===i,{index:o,_cachedMeta:{vScale:a}}=this,u=a.getBasePixel(),h=a.isHorizontal(),f=this._getRuler(),{sharedOptions:y,includeOptions:I}=this._getSharedOptions(t,i);for(let C=t;C<t+r;C++){const P=this.getParsed(C),L=s||Yi(P[a.axis])?{base:u,head:u}:this._calculateBarValuePixels(C),V=this._calculateBarIndexPixels(C,f),j=(P._stacks||{})[a.axis],z={horizontal:h,base:L.base,enableBorderRadius:!j||NL(P._custom)||o===j._top||o===j._bottom,x:h?L.head:V.center,y:h?V.center:L.head,height:h?V.size:Math.abs(L.size),width:h?Math.abs(L.size):V.size};I&&(z.options=y||this.resolveDataElementOptions(C,e[C].active?"active":i));const se=z.options||e[C].options;XY(z,se,j,o),eZ(z,se,f.ratio),this.updateElement(e[C],C,z,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=u=>{const h=u.controller.getParsed(t),f=h&&h[u.vScale.axis];if(Yi(f)||isNaN(f))return!0};for(const u of i)if((void 0===t||!a(u))&&((!1===s||-1===o.indexOf(u.stack)||void 0===s&&void 0===u.stack)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=void 0!==t?i.indexOf(t):-1;return-1===s?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,o;for(s=0,o=t.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||WY(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,u=this.getParsed(e),h=u._custom,f=NL(h);let P,L,y=u[t.axis],I=0,C=r?this.applyStack(t,u,r):y;C!==y&&(I=C-y,C=y),f&&(y=h.barStart,C=h.barEnd-h.barStart,0!==y&&zp(y)!==zp(h.barEnd)&&(I=0),I+=y);const V=Yi(s)||f?I:s;let j=t.getPixelForValue(V);if(P=this.chart.getDataVisibility(e)?t.getPixelForValue(I+C):j,L=P-j,Math.abs(L)<o){L=function YY(n,e,t){return 0!==n?zp(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(L,t,a)*o,y===a&&(j-=L/2);const z=t.getPixelForDecimal(0),se=t.getPixelForDecimal(1),ve=Math.min(z,se),Se=Math.max(z,se);j=Math.max(Math.min(j,Se),ve),P=j+L,r&&!f&&(u._stacks[t.axis]._visualValues[i]=t.getValueForPixel(P)-t.getValueForPixel(j))}if(j===t.getPixelForValue(a)){const z=zp(L)*t.getLineWidthForValue(a)/2;j+=z,L-=z}return{size:L,base:j,head:P,center:P+L/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,o=ci(i.maxBarThickness,1/0);let a,u;if(t.grouped){const h=s?this._getStackCount(e):t.stackCount,f="flex"===i.barThickness?function qY(n,e,t,r){const i=e.pixels,s=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const u=t.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const h=s-(s-Math.min(o,a))/2*u;return{chunk:Math.abs(a-o)/2*u/r,ratio:t.barPercentage,start:h}}(e,t,i,h):function zY(n,e,t,r){const i=t.barThickness;let s,o;return Yi(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}(e,t,i,h),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=f.start+f.chunk*y+f.chunk/2,u=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(o,t.min*t.ratio);return{base:a-u/2,head:a+u/2,center:a,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)null!==this.getParsed(s)[t.axis]&&r[s].draw(this._ctx)}}rr(cF,"id","bar"),rr(cF,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),rr(cF,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class uF extends Cf{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){const s=super.parsePrimitiveData(e,t,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,t,r,i){const s=super.parseArrayData(e,t,r,i);for(let o=0;o<s.length;o++)s[o]._custom=ci(t[r+o][2],this.resolveDataElementOptions(o+r).radius);return s}parseObjectData(e,t,r,i){const s=super.parseObjectData(e,t,r,i);for(let o=0;o<s.length;o++){const a=t[r+o];s[o]._custom=ci(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),h=o._custom;return{label:r[e]||"",value:"("+a+", "+u+(h?", "+h:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){const s="reset"===i,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i),f=o.axis,y=a.axis;for(let I=t;I<t+r;I++){const C=e[I],P=!s&&this.getParsed(I),L={},V=L[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(P[f]),j=L[y]=s?a.getBasePixel():a.getPixelForValue(P[y]);L.skip=isNaN(V)||isNaN(j),h&&(L.options=u||this.resolveDataElementOptions(I,C.active?"active":i),s&&(L.options.radius=0)),this.updateElement(C,I,L,i)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return"active"!==t&&(i.radius=0),i.radius+=ci(r&&r._custom,s),i}}rr(uF,"id","bubble"),rr(uF,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),rr(uF,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class S_ extends Cf{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=r;else{let o,a,s=u=>+r[u];if(Ni(r[e])){const{key:u="value"}=this._parsing;s=h=>+h0(r[h],u)}for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return bf(this.options.rotation-90)}_getCircumference(){return bf(this.options.circumference)}_getRotationExtents(){let e=Bo,t=-Bo;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,a),1),h=this._getRingWeight(this.index),{circumference:f,rotation:y}=this._getRotationExtents(),{ratioX:I,ratioY:C,offsetX:P,offsetY:L}=function tZ(n,e,t){let r=1,i=1,s=0,o=0;if(e<Bo){const a=n,u=a+e,h=Math.cos(a),f=Math.sin(a),y=Math.cos(u),I=Math.sin(u),C=(se,ve,Se)=>dB(se,a,u,!0)?1:Math.max(ve,ve*t,Se,Se*t),P=(se,ve,Se)=>dB(se,a,u,!0)?-1:Math.min(ve,ve*t,Se,Se*t),L=C(0,h,y),V=C(ua,f,I),j=P(Ro,h,y),z=P(Ro+ua,f,I);r=(L-j)/2,i=(V-z)/2,s=-(L+j)/2,o=-(V+z)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(y,f,u),z=Math.max(Math.min((r.width-o)/I,(r.height-o)/C)/2,0),se=nV(this.options.radius,z),Se=(se-Math.max(se*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=P*se,this.offsetY=L*se,i.total=this.calculateTotal(),this.outerRadius=se-Se*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Se*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Bo)}updateElements(e,t,r,i){const s="reset"===i,o=this.chart,a=o.chartArea,f=(a.left+a.right)/2,y=(a.top+a.bottom)/2,I=s&&o.options.animation.animateScale,C=I?0:this.innerRadius,P=I?0:this.outerRadius,{sharedOptions:L,includeOptions:V}=this._getSharedOptions(t,i);let z,j=this._getRotation();for(z=0;z<t;++z)j+=this._circumference(z,s);for(z=t;z<t+r;++z){const se=this._circumference(z,s),ve=e[z],Se={x:f+this.offsetX,y:y+this.offsetY,startAngle:j,endAngle:j+se,circumference:se,outerRadius:P,innerRadius:C};V&&(Se.options=L||this.resolveDataElementOptions(z,ve.active?"active":i)),j+=se,this.updateElement(ve,z,Se,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i,r=0;for(i=0;i<t.length;i++){const s=e._parsed[i];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Bo*(Math.abs(e)/t):0}getLabelAndValue(e){const r=this.chart,i=r.data.labels||[],s=pB(this._cachedMeta._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,a,u;if(!e)for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=a.resolveDataElementOptions(i),"inner"!==u.borderAlign&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(ci(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}rr(S_,"id","doughnut"),rr(S_,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),rr(S_,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e}),rr(S_,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class AF extends Cf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:a,count:u}=gV(t,i,o);this._drawStart=a,this._drawCount=u,mV(t)&&(a=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:h},e),this.updateElements(i,a,u,e)}updateElements(e,t,r,i){const s="reset"===i,{iScale:o,vScale:a,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:y}=this._getSharedOptions(t,i),I=o.axis,C=a.axis,{spanGaps:P,segment:L}=this.options,V=O1(P)?P:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||s||"none"===i,z=t+r,se=e.length;let ve=t>0&&this.getParsed(t-1);for(let Se=0;Se<se;++Se){const Ve=e[Se],Oe=j?Ve:{};if(Se<t||Se>=z){Oe.skip=!0;continue}const Ce=this.getParsed(Se),ut=Yi(Ce[C]),mt=Oe[I]=o.getPixelForValue(Ce[I],Se),ge=Oe[C]=s||ut?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,Ce,u):Ce[C],Se);Oe.skip=isNaN(mt)||isNaN(ge)||ut,Oe.stop=Se>0&&Math.abs(Ce[I]-ve[I])>V,L&&(Oe.parsed=Ce,Oe.raw=h.data[Se]),y&&(Oe.options=f||this.resolveDataElementOptions(Se,Ve.active?"active":i)),j||this.updateElement(Ve,Se,Oe,i),ve=Ce}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}rr(AF,"id","line"),rr(AF,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),rr(AF,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class wB extends Cf{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,i=r.data.labels||[],s=pB(this._cachedMeta._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return NV.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),a=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,i){const s="reset"===i,o=this.chart,u=o.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,y=h.yCenter,I=h.getIndexAngle(0)-.5*Ro;let P,C=I;const L=360/this.countVisibleElements();for(P=0;P<t;++P)C+=this._computeAngle(P,i,L);for(P=t;P<t+r;P++){const V=e[P];let j=C,z=C+this._computeAngle(P,i,L),se=o.getDataVisibility(P)?h.getDistanceFromCenterForValue(this.getParsed(P).r):0;C=z,s&&(u.animateScale&&(se=0),u.animateRotate&&(j=z=I));const ve={x:f,y,innerRadius:0,outerRadius:se,startAngle:j,endAngle:z,options:this.resolveDataElementOptions(P,V.active?"active":i)};this.updateElement(V,P,ve,i)}}countVisibleElements(){let t=0;return this._cachedMeta.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?bf(this.resolveDataElementOptions(e,t).angle||r):0}}rr(wB,"id","polarArea"),rr(wB,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),rr(wB,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PL extends S_{}rr(PL,"id","pie"),rr(PL,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class hF extends Cf{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return NV.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta,r=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(r.points=i,"resize"!==e){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===i.length,options:o},e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){const s=this._cachedMeta.rScale,o="reset"===i;for(let a=t;a<t+r;a++){const u=e[a],h=this.resolveDataElementOptions(a,u.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),y=o?s.xCenter:f.x,I=o?s.yCenter:f.y,C={x:y,y:I,angle:f.angle,skip:isNaN(y)||isNaN(I),options:h};this.updateElement(u,a,C,i)}}}rr(hF,"id","radar"),rr(hF,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),rr(hF,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dF extends Cf{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+u+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:o}=gV(t,r,i);if(this._drawStart=s,this._drawCount=o,mV(t)&&(s=0,o=r.length),this.options.showLine){const{dataset:a,_dataset:u}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=r;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:h},e)}this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){const s="reset"===i,{iScale:o,vScale:a,_stacked:u,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(t,i),y=this.getSharedOptions(f),I=this.includeOptions(i,y),C=o.axis,P=a.axis,{spanGaps:L,segment:V}=this.options,j=O1(L)?L:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||s||"none"===i;let se=t>0&&this.getParsed(t-1);for(let ve=t;ve<t+r;++ve){const Se=e[ve],Ve=this.getParsed(ve),Oe=z?Se:{},Ce=Yi(Ve[P]),ut=Oe[C]=o.getPixelForValue(Ve[C],ve),mt=Oe[P]=s||Ce?a.getBasePixel():a.getPixelForValue(u?this.applyStack(a,Ve,u):Ve[P],ve);Oe.skip=isNaN(ut)||isNaN(mt)||Ce,Oe.stop=ve>0&&Math.abs(Ve[C]-se[C])>j,V&&(Oe.parsed=Ve,Oe.raw=h.data[ve]),I&&(Oe.options=y||this.resolveDataElementOptions(ve,Se.active?"active":i)),z||this.updateElement(Se,ve,Oe,i),se=Ve}this.updateSharedOptions(y,i,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let u=t.length-1;u>=0;--u)a=Math.max(a,t[u].size(this.resolveDataElementOptions(u))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,o)/2}}rr(dF,"id","scatter"),rr(dF,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),rr(dF,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var nZ=Object.freeze({__proto__:null,BarController:cF,BubbleController:uF,DoughnutController:S_,LineController:AF,PolarAreaController:wB,PieController:PL,RadarController:hF,ScatterController:dF});function x_(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class OL{static override(e){Object.assign(OL.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return x_()}parse(){return x_()}format(){return x_()}add(){return x_()}diff(){return x_()}startOf(){return x_()}endOf(){return x_()}}var rZ__date=OL;function iZ(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const u=a._reversePixels?S$:gm;if(!r)return u(s,e,t);if(i._sharedOptions){const h=s[0],f="function"==typeof h.getRange&&h.getRange(e);if(f){const y=u(s,e,t-f),I=u(s,e,t+f);return{lo:y.lo,hi:I.hi}}}}return{lo:0,hi:s.length-1}}function bB(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,u=s.length;a<u;++a){const{index:h,data:f}=s[a],{lo:y,hi:I}=iZ(s[a],e,o,i);for(let C=y;C<=I;++C){const P=f[C];P.skip||r(P,h,C)}}}function LL(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||bB(n,t,e,function(a,u,h){!i&&!mB(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:u,index:h})},!0),s}function RL(n,e,t,r,i,s){return s||n.isPointInArea(e)?"r"!==t||r?function aZ(n,e,t,r,i,s){let o=[];const a=function sZ(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let u=Number.POSITIVE_INFINITY;return bB(n,t,e,function h(f,y,I){const C=f.inRange(e.x,e.y,i);if(r&&!C)return;const P=f.getCenterPoint(i);if(!s&&!n.isPointInArea(P)&&!C)return;const V=a(e,P);V<u?(o=[{element:f,datasetIndex:y,index:I}],u=V):V===u&&o.push({element:f,datasetIndex:y,index:I})}),o}(n,e,t,r,i,s):function oZ(n,e,t,r){let i=[];return bB(n,t,e,function s(o,a,u){const{startAngle:h,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:y}=uV(o,{x:e.x,y:e.y});dB(y,h,f)&&i.push({element:o,datasetIndex:a,index:u})}),i}(n,e,t,i):[]}function s6(n,e,t,r,i){const s=[],o="x"===t?"inXRange":"inYRange";let a=!1;return bB(n,t,e,(u,h,f)=>{u[o](e[t],i)&&(s.push({element:u,datasetIndex:h,index:f}),a=a||u.inRange(e.x,e.y,i))}),r&&!a?[]:s}var lZ={evaluateInteractionItems:bB,modes:{index(n,e,t,r){const i=I_(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?LL(n,i,s,r,o):RL(n,i,s,!1,r,o),u=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const f=a[0].index,y=h.data[f];y&&!y.skip&&u.push({element:y,datasetIndex:h.index,index:f})}),u):[]},dataset(n,e,t,r){const i=I_(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?LL(n,i,s,r,o):RL(n,i,s,!1,r,o);if(a.length>0){const u=a[0].datasetIndex,h=n.getDatasetMeta(u).data;a=[];for(let f=0;f<h.length;++f)a.push({element:h[f],datasetIndex:u,index:f})}return a},point:(n,e,t,r)=>LL(n,I_(e,n),t.axis||"xy",r,t.includeInvisible||!1),nearest:(n,e,t,r)=>RL(n,I_(e,n),t.axis||"xy",t.intersect,r,t.includeInvisible||!1),x:(n,e,t,r)=>s6(n,I_(e,n),"x",t.intersect,r),y:(n,e,t,r)=>s6(n,I_(e,n),"y",t.intersect,r)}};const o6=["left","top","right","bottom"];function CB(n,e){return n.filter(t=>t.pos===e)}function a6(n,e){return n.filter(t=>-1===o6.indexOf(t.pos)&&t.box.axis===e)}function EB(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function l6(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function c6(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function dZ(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!Ni(i)){t.size&&(n[i]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?s.height:s.width),t.size=y.size/y.count,n[i]+=t.size}s.getPadding&&c6(o,s.getPadding());const a=Math.max(0,e.outerWidth-l6(o,n,"left","right")),u=Math.max(0,e.outerHeight-l6(o,n,"top","bottom")),h=a!==n.w,f=u!==n.h;return n.w=a,n.h=u,t.horizontal?{same:h,other:f}:{same:f,other:h}}function pZ(n,e){const t=e.maxPadding;return function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}(n?["left","right"]:["top","bottom"])}function IB(n,e,t,r){const i=[];let s,o,a,u,h,f;for(s=0,o=n.length,h=0;s<o;++s){a=n[s],u=a.box,u.update(a.width||e.w,a.height||e.h,pZ(a.horizontal,e));const{same:y,other:I}=dZ(e,t,a,r);h|=y&&i.length,f=f||I,u.fullSize||i.push(a)}return h&&IB(i,e,t,r)||f}function fF(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function u6(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const u=a.box,h=r[a.stack]||{count:1,placed:0,weight:1},f=a.stackWeight/h.weight||1;if(a.horizontal){const y=e.w*f,I=h.size||u.height;id(h.start)&&(o=h.start),u.fullSize?fF(u,i.left,o,t.outerWidth-i.right-i.left,I):fF(u,e.left+h.placed,o,y,I),h.start=o,h.placed+=y,o=u.bottom}else{const y=e.h*f,I=h.size||u.width;id(h.start)&&(s=h.start),u.fullSize?fF(u,s,i.top,I,t.outerHeight-i.bottom-i.top):fF(u,s,e.top+h.placed,I,y),h.start=s,h.placed+=y,s=u.right}}e.x=s,e.y=o}var jc={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Vc(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=function hZ(n){const e=function cZ(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}(n),t=EB(e.filter(h=>h.box.fullSize),!0),r=EB(CB(e,"left"),!0),i=EB(CB(e,"right")),s=EB(CB(e,"top"),!0),o=EB(CB(e,"bottom")),a=a6(e,"x"),u=a6(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(a),chartArea:CB(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(a)}}(n.boxes),u=a.vertical,h=a.horizontal;Is(n.boxes,L=>{"function"==typeof L.beforeLayout&&L.beforeLayout()});const f=u.reduce((L,V)=>V.box.options&&!1===V.box.options.display?L:L+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),I=Object.assign({},i);c6(I,Vc(r));const C=Object.assign({maxPadding:I,w:s,h:o,x:i.left,y:i.top},i),P=function AZ(n,e){const t=function uZ(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!o6.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:u}=a.box,h=t[a.stack],f=h&&a.stackWeight/h.weight;a.horizontal?(a.width=f?f*r:u&&e.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:u&&e.availableHeight)}return t}(u.concat(h),y);IB(a.fullSize,C,y,P),IB(u,C,y,P),IB(h,C,y,P)&&IB(u,C,y,P),function fZ(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(C),u6(a.leftAndTop,C,y,P),C.x+=C.w,C.y+=C.h,u6(a.rightAndBottom,C,y,P),n.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},Is(a.chartArea,L=>{const V=L.box;Object.assign(V,n.chartArea),V.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}};class A6{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class gZ extends A6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const pF="$chartjs",mZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h6=n=>null===n||""===n,d6=!!_Y&&{passive:!0};function _Z(n,e,t){n.canvas.removeEventListener(e,t,d6)}function gF(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function bZ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gF(a.addedNodes,r),o=o&&!gF(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function CZ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gF(a.removedNodes,r),o=o&&!gF(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const BB=new Map;let f6=0;function p6(){const n=window.devicePixelRatio;n!==f6&&(f6=n,BB.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function BZ(n,e,t){const r=n.canvas,i=r&&TL(r);if(!i)return;const s=pV((a,u)=>{const h=i.clientWidth;t(a,u),h<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const u=a[0],h=u.contentRect.width,f=u.contentRect.height;0===h&&0===f||s(h,f)});return o.observe(i),function EZ(n,e){BB.size||window.addEventListener("resize",p6),BB.set(n,e)}(n,s),o}function kL(n,e,t){t&&t.disconnect(),"resize"===e&&function IZ(n){BB.delete(n),BB.size||window.removeEventListener("resize",p6)}(n)}function SZ(n,e,t){const r=n.canvas,i=pV(s=>{null!==n.ctx&&t(function wZ(n,e){const t=mZ[n.type]||n.type,{x:r,y:i}=I_(n,e);return{type:t,chart:e,native:n,x:void 0!==r?r:null,y:void 0!==i?i:null}}(s,n))},n);return function vZ(n,e,t){n.addEventListener(e,t,d6)}(r,e,i),i}class xZ extends A6{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function yZ(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[pF]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",h6(i)){const s=RV(n,"width");void 0!==s&&(n.width=s)}if(h6(r))if(""===n.style.height)n.height=n.width/(e||2);else{const s=RV(n,"height");void 0!==s&&(n.height=s)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[pF])return!1;const r=t[pF].initial;["height","width"].forEach(s=>{const o=r[s];Yi(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[pF],!0}addEventListener(e,t,r){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:bZ,detach:CZ,resize:BZ}[t]||SZ)(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];i&&(({attach:kL,detach:kL,resize:kL}[t]||_Z)(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function vY(n,e,t,r){const i=aF(n),s=E_(i,"margin"),o=oF(i.maxWidth,n,"clientWidth")||JT,a=oF(i.maxHeight,n,"clientHeight")||JT,u=function yY(n,e,t){let r,i;if(void 0===e||void 0===t){const s=TL(n);if(s){const o=s.getBoundingClientRect(),a=aF(s),u=E_(a,"border","width"),h=E_(a,"padding");e=o.width-h.width-u.width,t=o.height-h.height-u.height,r=oF(a.maxWidth,s,"clientWidth"),i=oF(a.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:r||JT,maxHeight:i||JT}}(n,e,t);let{width:h,height:f}=u;if("content-box"===i.boxSizing){const I=E_(i,"border","width"),C=E_(i,"padding");h-=C.width+I.width,f-=C.height+I.height}return h=Math.max(0,h-s.width),f=Math.max(0,r?h/r:f-s.height),h=lF(Math.min(h,o,u.maxWidth)),f=lF(Math.min(f,a,u.maxHeight)),h&&!f&&(f=lF(h/2)),(void 0!==e||void 0!==t)&&r&&u.height&&f>u.height&&(f=u.height,h=lF(Math.floor(f*r))),{width:h,height:f}}(e,t,r,i)}isAttached(e){const t=TL(e);return!(!t||!t.isConnected)}}class Ef{constructor(){rr(this,"active",!1)}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return O1(this.x)&&O1(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}function mF(n,e,t,r,i){const s=ci(r,0),o=Math.min(ci(i,n.length),n.length);let u,h,f,a=0;for(t=Math.ceil(t),i&&(u=i-r,t=u/Math.floor(u/t)),f=s;f<0;)a++,f=Math.round(s+a*t);for(h=Math.max(s,0);h<o;h++)h===f&&(e.push(n[h]),a++,f=Math.round(s+a*t))}rr(Ef,"defaults",{}),rr(Ef,"defaultRoutes");const g6=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,m6=(n,e)=>Math.min(e||n,n);function y6(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function RZ(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let h,u=n.getPixelForTick(i);if(!(t&&(h=1===r?Math.max(u-s,o-u):0===e?(n.getPixelForTick(1)-u)/2:(u-n.getPixelForTick(i-1))/2,u+=i<e?h:-h,u<s-a||u>o+a)))return u}function SB(n){return n.drawTicks?n.tickLength:0}function v6(n,e){if(!n.display)return 0;const t=pl(n.font,e),r=Vc(n.padding);return(Io(n.text)?n.text.length:1)*t.lineHeight+r.height}function HZ(n,e,t){let r=wL(n);return(t&&"right"!==e||!t&&"right"===e)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}class D_ extends Ef{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=hh(e,Number.POSITIVE_INFINITY),t=hh(t,Number.NEGATIVE_INFINITY),r=hh(r,Number.POSITIVE_INFINITY),i=hh(i,Number.NEGATIVE_INFINITY),{min:hh(e,r),max:hh(t,i),minDefined:ca(e),maxDefined:ca(t)}}getMinMax(e){let o,{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let u=0,h=a.length;u<h;++u)o=a[u].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:hh(t,hh(r,t)),max:hh(r,hh(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){uo(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Z$(n,e,t){const{min:r,max:i}=n,s=nV(e,(i-r)/2),o=(a,u)=>t&&0===a?0:a+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=a<this.ticks.length;this._convertTicksToLabels(u?y6(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function TZ(n,e){const t=n.options.ticks,r=function FZ(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?function NZ(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}(e):[],o=s.length,a=s[0],u=s[o-1],h=[];if(o>i)return function PZ(n,e,t,r){let o,i=0,s=t[0];for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}(e,h,s,o/i),h;const f=function MZ(n,e,t){const r=function OZ(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}(n),i=e.length/t;if(!r)return Math.max(i,1);const s=function C$(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r==0&&(e.push(r),e.push(n/r));return t===(0|t)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}(r);for(let o=0,a=s.length-1;o<a;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}(s,e,i);if(o>0){let y,I;const C=o>1?Math.round((u-a)/(o-1)):null;for(mF(e,h,f,Yi(C)?0:a-C,a),y=0,I=o-1;y<I;y++)mF(e,h,f,s[y],s[y+1]);return mF(e,h,f,u,Yi(C)?e.length:u+C),h}return mF(e,h,f),h}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,r,e=this.options.reverse;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){uo(this.options.afterUpdate,[this])}beforeSetDimensions(){uo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){uo(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),uo(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){uo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=uo(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){uo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){uo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=m6(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a,u,h,o=i;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const f=this._getLabelSizes(),y=f.widest.width,I=f.highest.height,C=Hl(this.chart.width-y,0,this.maxWidth);a=e.offset?this.maxWidth/r:C/(r-1),y+6>a&&(a=C/(r-(e.offset?.5:1)),u=this.maxHeight-SB(e.grid)-t.padding-v6(e.title,this.chart.options.font),h=Math.sqrt(y*y+I*I),o=yL(Math.min(Math.asin(Hl((f.highest.height+6)/a,-1,1)),Math.asin(Hl(u/h,-1,1))-Math.asin(Hl(I/h,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){uo(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){uo(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const u=v6(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=SB(s)+u):(e.height=this.maxHeight,e.width=SB(s)+u),r.display&&this.ticks.length){const{first:h,last:f,widest:y,highest:I}=this._getLabelSizes(),C=2*r.padding,P=bf(this.labelRotation),L=Math.cos(P),V=Math.sin(P);a?e.height=Math.min(this.maxHeight,e.height+(r.mirror?0:V*y.width+L*I.height)+C):e.width=Math.min(this.maxWidth,e.width+(r.mirror?0:L*y.width+V*I.height)+C),this._calculatePadding(h,f,V,L)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,u=0!==this.labelRotation,h="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let I=0,C=0;u?h?(I=i*e.width,C=r*t.height):(I=r*e.height,C=i*t.width):"start"===s?C=t.width:"end"===s?I=e.width:"inner"!==s&&(I=e.width/2,C=t.width/2),this.paddingLeft=Math.max((I-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((C-y+o)*this.width/(this.width-y),0)}else{let f=t.height/2,y=e.height/2;"start"===s?(f=0,y=e.height):"end"===s&&(f=t.height,y=0),this.paddingTop=f+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){uo(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)Yi(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=y6(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],u=Math.floor(t/m6(t,r));let y,I,C,P,L,V,j,z,se,ve,Se,h=0,f=0;for(y=0;y<t;y+=u){if(P=e[y].label,L=this._resolveTickFontOptions(y),i.font=V=L.string,j=s[V]=s[V]||{data:{},gc:[]},z=L.lineHeight,se=ve=0,Yi(P)||Io(P)){if(Io(P))for(I=0,C=P.length;I<C;++I)Se=P[I],!Yi(Se)&&!Io(Se)&&(se=nF(i,j.data,j.gc,se,Se),ve+=z)}else se=nF(i,j.data,j.gc,se,P),ve=z;o.push(se),a.push(ve),h=Math.max(se,h),f=Math.max(ve,f)}!function kZ(n,e){Is(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}(s,t);const Ve=o.indexOf(h),Oe=a.indexOf(f),Ce=ut=>({width:o[ut]||0,height:a[ut]||0});return{first:Ce(0),last:Ce(t-1),widest:Ce(Ve),highest:Ce(Oe),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function B$(n){return Hl(n,-32768,32767)}(this._alignToPixels?w_(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function QZ(n,e,t){return p0(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=function UZ(n,e){return p0(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=bf(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>a*i?a/r:u/i:u*i<a*r?u/r:a/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,u=s.offset,h=this.isHorizontal(),y=this.ticks.length+(u?1:0),I=SB(s),C=[],P=a.setContext(this.getContext()),L=P.display?P.width:0,V=L/2,j=function(ze){return w_(r,ze,L)};let z,se,ve,Se,Ve,Oe,Ce,ut,mt,ge,me,qe;if("top"===o)z=j(this.bottom),Oe=this.bottom-I,ut=z-V,ge=j(e.top)+V,qe=e.bottom;else if("bottom"===o)z=j(this.top),ge=e.top,qe=j(e.bottom)-V,Oe=z+V,ut=this.top+I;else if("left"===o)z=j(this.right),Ve=this.right-I,Ce=z-V,mt=j(e.left)+V,me=e.right;else if("right"===o)z=j(this.left),mt=e.left,me=j(e.right)-V,Ve=z+V,Ce=this.left+I;else if("x"===t){if("center"===o)z=j((e.top+e.bottom)/2+.5);else if(Ni(o)){const ze=Object.keys(o)[0];z=j(this.chart.scales[ze].getPixelForValue(o[ze]))}ge=e.top,qe=e.bottom,Oe=z+V,ut=Oe+I}else if("y"===t){if("center"===o)z=j((e.left+e.right)/2);else if(Ni(o)){const ze=Object.keys(o)[0];z=j(this.chart.scales[ze].getPixelForValue(o[ze]))}Ve=z-V,Ce=Ve-I,mt=e.left,me=e.right}const Ke=ci(i.ticks.maxTicksLimit,y),Ct=Math.max(1,Math.ceil(y/Ke));for(se=0;se<y;se+=Ct){const ze=this.getContext(se),st=s.setContext(ze),Ze=a.setContext(ze),yt=st.lineWidth,Mt=st.color,vn=Ze.dash||[],te=Ze.dashOffset,Pe=st.tickWidth,Le=st.tickColor,et=st.tickBorderDash||[],At=st.tickBorderDashOffset;ve=RZ(this,se,u),void 0!==ve&&(Se=w_(r,ve,yt),h?Ve=Ce=mt=me=Se:Oe=ut=ge=qe=Se,C.push({tx1:Ve,ty1:Oe,tx2:Ce,ty2:ut,x1:mt,y1:ge,x2:me,y2:qe,width:yt,color:Mt,borderDash:vn,borderDashOffset:te,tickWidth:Pe,tickColor:Le,tickBorderDash:et,tickBorderDashOffset:At}))}return this._ticksLength=y,this._borderValue=z,C}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:u,crossAlign:h,padding:f,mirror:y}=s,I=SB(r.grid),C=I+f,P=y?-f:C,L=-bf(this.labelRotation),V=[];let j,z,se,ve,Se,Ve,Oe,Ce,ut,mt,ge,me,qe="middle";if("top"===i)Ve=this.bottom-P,Oe=this._getXAxisLabelAlignment();else if("bottom"===i)Ve=this.top+P,Oe=this._getXAxisLabelAlignment();else if("left"===i){const Ct=this._getYAxisLabelAlignment(I);Oe=Ct.textAlign,Se=Ct.x}else if("right"===i){const Ct=this._getYAxisLabelAlignment(I);Oe=Ct.textAlign,Se=Ct.x}else if("x"===t){if("center"===i)Ve=(e.top+e.bottom)/2+C;else if(Ni(i)){const Ct=Object.keys(i)[0];Ve=this.chart.scales[Ct].getPixelForValue(i[Ct])+C}Oe=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)Se=(e.left+e.right)/2-C;else if(Ni(i)){const Ct=Object.keys(i)[0];Se=this.chart.scales[Ct].getPixelForValue(i[Ct])}Oe=this._getYAxisLabelAlignment(I).textAlign}"y"===t&&("start"===u?qe="top":"end"===u&&(qe="bottom"));const Ke=this._getLabelSizes();for(j=0,z=a.length;j<z;++j){se=a[j],ve=se.label;const Ct=s.setContext(this.getContext(j));Ce=this.getPixelForTick(j)+s.labelOffset,ut=this._resolveTickFontOptions(j),mt=ut.lineHeight,ge=Io(ve)?ve.length:1;const ze=ge/2,st=Ct.color,Ze=Ct.textStrokeColor,yt=Ct.textStrokeWidth;let vn,Mt=Oe;if(o?(Se=Ce,"inner"===Oe&&(Mt=j===z-1?this.options.reverse?"left":"right":0===j?this.options.reverse?"right":"left":"center"),me="top"===i?"near"===h||0!==L?-ge*mt+mt/2:"center"===h?-Ke.highest.height/2-ze*mt+mt:mt/2-Ke.highest.height:"near"===h||0!==L?mt/2:"center"===h?Ke.highest.height/2-ze*mt:Ke.highest.height-ge*mt,y&&(me*=-1),0!==L&&!Ct.showLabelBackdrop&&(Se+=mt/2*Math.sin(L))):(Ve=Ce,me=(1-ge)*mt/2),Ct.showLabelBackdrop){const te=Vc(Ct.backdropPadding),Pe=Ke.heights[j],Le=Ke.widths[j];let et=me-te.top,At=0-te.left;switch(qe){case"middle":et-=Pe/2;break;case"bottom":et-=Pe}switch(Oe){case"center":At-=Le/2;break;case"right":At-=Le}vn={left:At,top:et,width:Le+te.width,height:Pe+te.height,color:Ct.backdropColor}}V.push({label:ve,font:ut,textOffset:me,options:{rotation:L,color:st,strokeColor:Ze,strokeWidth:yt,textAlign:Mt,textBaseline:qe,translation:[Se,Ve],backdrop:vn}})}return V}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-bf(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=e+s,u=this._getLabelSizes().widest.width;let h,f;return"left"===t?i?(f=this.right+s,"near"===r?h="left":"center"===r?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-a,"near"===r?h="right":"center"===r?(h="center",f-=u/2):(h="left",f=this.left)):"right"===t?i?(f=this.left+s,"near"===r?h="right":"center"===r?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+a,"near"===r?h="left":"center"===r?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(u,h,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const u=i[s];t.drawOnChartArea&&a({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&a({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,y,I;this.isHorizontal()?(h=w_(e,this.left,o)-o/2,f=w_(e,this.right,a)+a/2,y=I=u):(y=w_(e,this.top,o)-o/2,I=w_(e,this.bottom,a)+a/2,h=f=u),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(h,y),t.lineTo(f,I),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&rF(r,i);const s=this.getLabelItems(e);for(const o of s)b_(r,o.label,0,o.textOffset,o.font,o.options);i&&iF(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=pl(r.font),o=Vc(r.padding),a=r.align;let u=s.lineHeight/2;"bottom"===t||"center"===t||Ni(t)?(u+=o.bottom,Io(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:h,titleY:f,maxWidth:y,rotation:I}=function VZ(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:u}=n,{chartArea:h,scales:f}=u;let I,C,P,y=0;const L=o-i,V=a-s;if(n.isHorizontal()){if(C=Hc(r,s,a),Ni(t)){const j=Object.keys(t)[0];P=f[j].getPixelForValue(t[j])+L-e}else P="center"===t?(h.bottom+h.top)/2+L-e:g6(n,t,e);I=a-s}else{if(Ni(t)){const j=Object.keys(t)[0];C=f[j].getPixelForValue(t[j])-V+e}else C="center"===t?(h.left+h.right)/2-V+e:g6(n,t,e);P=Hc(r,o,i),y="left"===t?-ua:ua}return{titleX:C,titleY:P,maxWidth:I,rotation:y}}(this,u,t,a);b_(e,r.text,0,0,s,{color:r.color,maxWidth:y,rotation:I,textAlign:HZ(a,t,i),textBaseline:"middle",translation:[h,f]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=ci(e.grid&&e.grid.z,-1),i=ci(e.border&&e.border.z,0);return this._isVisible()&&this.draw===D_.prototype.draw?[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){return pl(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yF{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function GZ(n){return"id"in n&&"defaults"in n})(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,function jZ(n,e,t){const r=uB(Object.create(null),[t?Sa.get(t):{},Sa.get(e),n.defaults]);Sa.set(e,r),n.defaultRoutes&&function KZ(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),u=o.join(".");Sa.route(s,i,u,a)})}(e,n.defaultRoutes),n.descriptors&&Sa.describe(e,n.descriptors)}(e,o,r),this.override&&Sa.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Sa[i]&&(delete Sa[i][r],this.override&&delete __[r])}}class WZ{constructor(){this.controllers=new yF(Cf,"datasets",!0),this.elements=new yF(Ef,"elements"),this.plugins=new yF(Object,"plugins"),this.scales=new yF(D_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Is(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=mL(e);uo(r["before"+i],[],r),t[e](r),uo(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var qp=new WZ;class zZ{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin;if(!1===uo(o[r],[t,i,s.options],o)&&i.cancelable)return!1}return!0}invalidate(){Yi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=ci(r.options&&r.options.plugins,{}),s=function qZ(n){const e={},t=[],r=Object.keys(qp.plugins.items);for(let s=0;s<r.length;s++)t.push(qp.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];-1===t.indexOf(o)&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}(r);return!1!==i||t?function YZ(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const u=a.id,h=$Z(r[u],i);null!==h&&s.push({plugin:a,options:ZZ(n.config,{plugin:a,local:t[u]},h,o)})}return s}(e,s,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(u=>a.plugin.id===u.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function $Z(n,e){return e||!1!==n?!0===n?{}:n:null}function ZZ(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function UL(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(Sa.datasets[n]||{}).indexAxis||"x"}function vF(n,e){if("x"===n||"y"===n||"r"===n||(n=e.axis||function eX(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(e.position)||n.length>1&&vF(n[0].toLowerCase(),e)))return n;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function _6(n){const e=n.options||(n.options={});e.plugins=ci(e.plugins,{}),e.scales=function tX(n,e){const t=__[n.type]||{scales:{}},r=e.scales||{},i=UL(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ni(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=vF(o,a),h=function JZ(n,e){return n===e?"_index_":"_value_"}(u,i),f=t.scales||{};s[o]=AB(Object.create(null),[{axis:u},a,f[u],f[h]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,u=o.indexAxis||UL(a,e),f=(__[a]||{}).scales||{};Object.keys(f).forEach(y=>{const I=function XZ(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(y,u),C=o[I+"AxisID"]||I;s[C]=s[C]||Object.create(null),AB(s[C],[{axis:I},r[C],f[y]])})}),Object.keys(s).forEach(o=>{const a=s[o];AB(a,[Sa.scales[a.type],Sa.scale])}),s}(n,e)}function w6(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const b6=new Map,C6=new Set;function _F(n,e){let t=b6.get(n);return t||(t=e(),b6.set(n,t),C6.add(t)),t}const xB=(n,e,t)=>{const r=h0(e,t);void 0!==r&&n.add(r)};class rX{constructor(e){this._config=function nX(n){return(n=n||{}).data=w6(n.data),_6(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=w6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return _F(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return _F(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return _F(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return _F(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const u=new Set;t.forEach(f=>{e&&(u.add(e),f.forEach(y=>xB(u,e,y))),f.forEach(y=>xB(u,i,y)),f.forEach(y=>xB(u,__[s]||{},y)),f.forEach(y=>xB(u,Sa,y)),f.forEach(y=>xB(u,CL,y))});const h=Array.from(u);return 0===h.length&&h.push(Object.create(null)),C6.has(t)&&o.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,__[t]||{},Sa.datasets[t]||{},{type:t},Sa,CL]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=E6(this._resolverCache,e,i);let u=o;(function sX(n,e){const{isScriptable:t,isIndexable:r}=SV(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(d0(a)||iX(a))||o&&Io(a))return!0}return!1})(o,t)&&(s.$shared=!1,u=L1(o,r=d0(r)?r():r,this.createResolver(e,r,a)));for(const h of t)s[h]=u[h];return s}createResolver(e,t,r=[""],i){const{resolver:s}=E6(this._resolverCache,e,r);return Ni(t)?L1(s,t,void 0,i):s}}function E6(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:SL(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const iX=n=>Ni(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||d0(n[t]),!1),aX=["top","bottom","left","right","chartArea"];function I6(n,e){return"top"===n||"bottom"===n||-1===aX.indexOf(n)&&"x"===e}function B6(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function S6(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),uo(t&&t.onComplete,[n],e)}function lX(n){const e=n.chart,t=e.options.animation;uo(t&&t.onProgress,[n],e)}function x6(n){return OV()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const wF={},D6=n=>{const e=x6(n);return Object.values(wF).filter(t=>t.canvas===e).pop()};function cX(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}class $p{static register(...e){qp.add(...e),T6()}static unregister(...e){qp.remove(...e),T6()}constructor(e,t){const r=this.config=new rX(t),i=x6(e),s=D6(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function DZ(n){return!OV()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?gZ:xZ}(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),u=a&&a.canvas,h=u&&u.height,f=u&&u.width;this.id=f$(),this.ctx=a,this.canvas=u,this.width=f,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function T$(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],wF[this.id]=this,a&&u?(mm.listen(this,"complete",S6),mm.listen(this,"progress",lX),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return Yi(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qp}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return EV(this.canvas,this.ctx),this}stop(){return mm.stop(this),this}resize(e,t){mm.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.platform.getMaximumSize(this.canvas,e,t,r.maintainAspectRatio&&this.aspectRatio),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,LV(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),uo(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){Is(this.options.scales||{},(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],u=vF(o,a),h="r"===u,f="x"===u;return{options:a,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),Is(s,o=>{const a=o.options,u=a.id,h=vF(u,a),f=ci(a.type,o.dtype);(void 0===a.position||I6(a.position,h)!==I6(o.dposition))&&(a.position=o.dposition),i[u]=!0;let y=null;u in r&&r[u].type===f?y=r[u]:(y=new(qp.getScale(f))({id:u,type:f,ctx:this.ctx,chart:this}),r[y.id]=y),y.init(a,e)}),Is(i,(o,a)=>{o||delete r[a]}),Is(r,o=>{jc.configure(this,o,o.options),jc.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(B6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{0===t.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||UL(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=qp.getController(a),{datasetElementType:h,dataElementType:f}=Sa.datasets[a];Object.assign(u,{dataElementType:qp.getElement(f),datasetElementType:h&&qp.getElement(h)}),o.controller=new u(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Is(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:y}=this.getDatasetMeta(h),I=!i&&-1===s.indexOf(y);y.buildOrUpdateElements(I),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Is(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(B6("z","_idx"));const{_active:a,_lastEvent:u}=this;u?this._eventHandler(u,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Is(this.scales,e=>{jc.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!sV(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t)cX(e,i,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!sV(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;jc.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Is(this.boxes,i=>{r&&"chartArea"===i.position||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,d0(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(mm.has(this)?this.attached&&!mm.running(this)&&mm.start(this):(this.draw(),S6({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,i=!r.disabled,s=function AX(n){const{xScale:e,yScale:t}=n;if(e&&t)return{left:e.left,right:e.right,top:t.top,bottom:t.bottom}}(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&rF(t,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&iF(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return mB(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=lZ.modes[t];return"function"==typeof s?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=p0(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);id(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),mm.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),EV(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete wF[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Is(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(u,h)=>{t.addEventListener(this,u,h),e[u]=h},i=(u,h)=>{e[u]&&(t.removeEventListener(this,u,h),delete e[u])},s=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Is(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Is(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,a,u;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,u=e.length;a<u;++a){o=e[a];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ZT(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(u,h)=>u.filter(f=>!h.some(y=>f.datasetIndex===y.datasetIndex&&f.index===y.index)),o=s(t,e),a=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,i))return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=this._getActiveElements(e,i,r,t),u=function _$(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),h=function uX(n,e,t,r){return t&&"mouseout"!==n.type?r?e:n:null}(e,this._lastEvent,r,u);r&&(this._lastEvent=null,uo(s.onHover,[e,a,this],this),u&&uo(s.onClick,[e,a,this],this));const f=!ZT(a,i);return(f||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=h,f}_getActiveElements(e,t,r,i){if("mouseout"===e.type)return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}function T6(){return Is($p.instances,n=>n._plugins.invalidate())}function U1(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function bF(n,e,t,r,i,s){const{x:o,y:a,startAngle:u,pixelMargin:h,innerRadius:f}=e,y=Math.max(e.outerRadius+r+t-h,0),I=f>0?f+r+t+h:0;let C=0;const P=i-u;if(r){const st=((f>0?f-r:0)+(y>0?y-r:0))/2;C=(P-(0!==st?P*st/(st+r):P))/2}const V=(P-Math.max(.001,P*y-t/Ro)/y)/2,j=u+V+C,z=i-V-C,{outerStart:se,outerEnd:ve,innerStart:Se,innerEnd:Ve}=function fX(n,e,t,r){const i=function dX(n){return BL(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),a=u=>{const h=(t-Math.min(s,u))*r/2;return Hl(u,0,Math.min(s,h))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Hl(i.innerStart,0,o),innerEnd:Hl(i.innerEnd,0,o)}}(e,I,y,z-j),Oe=y-se,Ce=y-ve,ut=j+se/Oe,mt=z-ve/Ce,ge=I+Se,me=I+Ve,qe=j+Se/ge,Ke=z-Ve/me;if(n.beginPath(),s){const Ct=(ut+mt)/2;if(n.arc(o,a,y,ut,Ct),n.arc(o,a,y,Ct,mt),ve>0){const yt=U1(Ce,mt,o,a);n.arc(yt.x,yt.y,ve,mt,z+ua)}const ze=U1(me,z,o,a);if(n.lineTo(ze.x,ze.y),Ve>0){const yt=U1(me,Ke,o,a);n.arc(yt.x,yt.y,Ve,z+ua,Ke+Math.PI)}const st=(z-Ve/I+(j+Se/I))/2;if(n.arc(o,a,I,z-Ve/I,st,!0),n.arc(o,a,I,st,j+Se/I,!0),Se>0){const yt=U1(ge,qe,o,a);n.arc(yt.x,yt.y,Se,qe+Math.PI,j-ua)}const Ze=U1(Oe,j,o,a);if(n.lineTo(Ze.x,Ze.y),se>0){const yt=U1(Oe,ut,o,a);n.arc(yt.x,yt.y,se,j-ua,ut)}}else{n.moveTo(o,a);const Ct=Math.cos(ut)*y+o,ze=Math.sin(ut)*y+a;n.lineTo(Ct,ze);const st=Math.cos(mt)*y+o,Ze=Math.sin(mt)*y+a;n.lineTo(st,Ze)}n.closePath()}rr($p,"defaults",Sa),rr($p,"instances",wF),rr($p,"overrides",__),rr($p,"registry",qp),rr($p,"version","4.2.1"),rr($p,"getChart",D6);class CF extends Ef{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=uV(i,{x:e,y:t}),{startAngle:a,endAngle:u,innerRadius:h,outerRadius:f,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),I=this.options.spacing/2,P=ci(y,u-a)>=Bo||dB(s,a,u),L=pm(o,h+I,f+I);return P&&L}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,f=(i+s)/2,y=(o+a+h+u)/2;return{x:t+Math.cos(f)*y,y:r+Math.sin(f)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>Bo?Math.floor(r/Bo):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const h=i*(1-Math.sin(Math.min(Ro,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function pX(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let u=e.endAngle;if(s){bF(n,e,t,r,u,i);for(let h=0;h<s;++h)n.fill();isNaN(a)||(u=o+(a%Bo||Bo))}bF(n,e,t,r,u,i),n.fill()}(e,this,h,s,o),function gX(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:u}=e,{borderWidth:h,borderJoinStyle:f}=u,y="inner"===u.borderAlign;if(!h)return;y?(n.lineWidth=2*h,n.lineJoin=f||"round"):(n.lineWidth=h,n.lineJoin=f||"bevel");let I=e.endAngle;if(s){bF(n,e,t,r,I,i);for(let C=0;C<s;++C)n.stroke();isNaN(a)||(I=o+(a%Bo||Bo))}y&&function hX(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:u}=e;let h=i/a;n.beginPath(),n.arc(s,o,a,r-h,t+h),u>i?(h=i/u,n.arc(s,o,u,t+h,r-h,!0)):n.arc(s,o,i,t+ua,r-ua),n.closePath(),n.clip()}(n,e,I),s||(bF(n,e,t,r,I,i),n.stroke())}(e,this,h,s,o),e.restore()}}function F6(n,e,t=e){n.lineCap=ci(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ci(t.borderDash,e.borderDash)),n.lineDashOffset=ci(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ci(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ci(t.borderWidth,e.borderWidth),n.strokeStyle=ci(t.borderColor,e.borderColor)}function mX(n,e,t){n.lineTo(t.x,t.y)}function M6(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,u=Math.max(i,o),h=Math.min(s,a);return{count:r,start:u,loop:e.loop,ilen:h<u&&!(i<o&&s<o||i>a&&s>a)?r+h-u:h-u}}function vX(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:u,ilen:h}=M6(i,t,r),f=function yX(n){return n.stepped?V$:n.tension||"monotone"===n.cubicInterpolationMode?j$:mX}(s);let C,P,L,{move:y=!0,reverse:I}=r||{};for(C=0;C<=h;++C)P=i[(a+(I?h-C:C))%o],!P.skip&&(y?(n.moveTo(P.x,P.y),y=!1):f(n,L,P,I,s.stepped),L=P);return u&&(P=i[(a+(I?h:0))%o],f(n,L,P,I,s.stepped)),!!u}function _X(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=M6(i,t,r),{move:u=!0,reverse:h}=r||{};let I,C,P,L,V,j,f=0,y=0;const z=ve=>(o+(h?a-ve:ve))%s,se=()=>{L!==V&&(n.lineTo(f,V),n.lineTo(f,L),n.lineTo(f,j))};for(u&&(C=i[z(0)],n.moveTo(C.x,C.y)),I=0;I<=a;++I){if(C=i[z(I)],C.skip)continue;const ve=C.x,Se=C.y,Ve=0|ve;Ve===P?(Se<L?L=Se:Se>V&&(V=Se),f=(y*f+ve)/++y):(se(),n.lineTo(ve,Se),P=Ve,y=0,L=V=Se),j=Se}se()}function QL(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?vX:_X}rr(CF,"id","arc"),rr(CF,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),rr(CF,"defaultRoutes",{backgroundColor:"backgroundColor"});const EX="function"==typeof Path2D;class g0 extends Ef{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(dY(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,t),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function xY(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=function BY(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}(t,i,s,r);return function KV(n,e,t,r){return r&&r.setContext&&t?function DY(n,e,t,r){const i=n._chart.getContext(),s=GV(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,u=t.length,h=[];let f=s,y=e[0].start,I=y;function C(P,L,V,j){const z=a?-1:1;if(P!==L){for(P+=u;t[P%u].skip;)P-=z;for(;t[L%u].skip;)L+=z;P%u!=L%u&&(h.push({start:P%u,end:L%u,loop:V,style:j}),f=j,y=L%u)}}for(const P of e){y=a?y:P.start;let V,L=t[y%u];for(I=y+1;I<=P.end;I++){const j=t[I%u];V=GV(r.setContext(p0(i,{type:"segment",p0:L,p1:j,p0DataIndex:(I-1)%u,p1DataIndex:I%u,datasetIndex:o}))),TY(V,f)&&C(y,I-1,P.loop,f),L=j,f=V}y<I-1&&C(y,I-1,P.loop,f)}return h}(n,e,t,r):e}(n,!0===r?[{start:o,end:a,loop:s}]:function SY(n,e,t,r){const i=n.length,s=[];let u,o=e,a=n[e];for(u=e+1;u<=t;++u){const h=n[u%i];h.skip||h.stop?a.skip||(s.push({start:e%i,end:(u-1)%i,loop:r=!1}),e=o=h.stop?u:null):(o=u,a.skip&&(e=u)),a=h}return null!==o&&s.push({start:e%i,end:o%i,loop:r}),s}(t,o,a<o?a+i:a,!!n._fullLoop&&0===o&&a===i-1),t,e)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=jV(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],u=function wX(n){return n.stepped?wY:n.tension||"monotone"===n.cubicInterpolationMode?bY:B_}(r);let h,f;for(h=0,f=o.length;h<f;++h){const{start:y,end:I}=o[h],C=s[y],P=s[I];if(C===P){a.push(C);continue}const V=u(C,P,Math.abs((i-C[t])/(P[t]-C[t])),r.stepped);V[t]=e[t],a.push(V)}return 1===a.length?a[0]:a}pathSegment(e,t,r){return QL(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=QL(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)o&=s(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function IX(n,e,t,r){EX&&!e.options.segment?function bX(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),F6(n,e.options),n.stroke(i)}(n,e,t,r):function CX(n,e,t,r){const{segments:i,options:s}=e,o=QL(e);for(const a of i)F6(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}(n,e,t,r)}(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function N6(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}rr(g0,"id","line"),rr(g0,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),rr(g0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),rr(g0,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class EF extends Ef{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return N6(this,e,"x",t)}inYRange(e,t){return N6(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!mB(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,IL(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function P6(n,e){const{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let a,u,h,f,y;return n.horizontal?(y=o/2,a=Math.min(t,i),u=Math.max(t,i),h=r-y,f=r+y):(y=s/2,a=t-y,u=t+y,h=Math.min(r,i),f=Math.max(r,i)),{left:a,top:h,right:u,bottom:f}}function m0(n,e,t,r){return n?0:Hl(e,t,r)}function HL(n,e,t,r){const i=null===e,s=null===t,a=n&&!(i&&s)&&P6(n,r);return a&&(i||pm(e,a.left,a.right))&&(s||pm(t,a.top,a.bottom))}function TX(n,e){n.rect(e.x,e.y,e.w,e.h)}function VL(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0;return{x:n.x+r,y:n.y+i,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-r),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-i),radius:n.radius}}rr(EF,"id","point"),rr(EF,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),rr(EF,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class IF extends Ef{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=function xX(n){const e=P6(n),t=e.right-e.left,r=e.bottom-e.top,i=function BX(n,e,t){const i=n.borderSkipped,s=BV(n.options.borderWidth);return{t:m0(i.top,s.top,0,t),r:m0(i.right,s.right,0,e),b:m0(i.bottom,s.bottom,0,t),l:m0(i.left,s.left,0,e)}}(n,t/2,r/2),s=function SX(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=C_(i),o=Math.min(e,t),a=n.borderSkipped,u=r||Ni(i);return{topLeft:m0(!u||a.top||a.left,s.topLeft,0,o),topRight:m0(!u||a.top||a.right,s.topRight,0,o),bottomLeft:m0(!u||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:m0(!u||a.bottom||a.right,s.bottomRight,0,o)}}(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),a=function DX(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?yB:TX;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,VL(o,t,s)),e.clip(),a(e,VL(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,VL(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return HL(this,e,t,r)}inXRange(e,t){return HL(this,e,null,t)}inYRange(e,t){return HL(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}rr(IF,"id","bar"),rr(IF,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),rr(IF,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var FX=Object.freeze({__proto__:null,ArcElement:CF,LineElement:g0,PointElement:EF,BarElement:IF});const jL=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],O6=jL.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function L6(n){return jL[n%jL.length]}function R6(n){return O6[n%O6.length]}function k6(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var RX={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i;if(!t.forceOverride&&(k6(r)||function LX(n){return n&&(n.borderColor||n.backgroundColor)}(i)||s&&k6(s)))return;const o=function OX(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof S_?e=function NX(n,e){return n.backgroundColor=n.data.map(()=>L6(e++)),e}(t,e):i instanceof wB?e=function PX(n,e){return n.backgroundColor=n.data.map(()=>R6(e++)),e}(t,e):i&&(e=function MX(n,e){return n.borderColor=L6(e),n.backgroundColor=R6(e),++e}(t,e))}}(n);r.forEach(o)}};function U6(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Q6(n){n.data.datasets.forEach(e=>{U6(e)})}var HX={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void Q6(n);const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,u=n.getDatasetMeta(s),h=o||i.data;if("y"===vB([a,n.options.indexAxis])||!u.controller.supportsDecimation)return;const f=n.scales[u.xAxisID];if("linear"!==f.type&&"time"!==f.type||n.options.parsing)return;let P,{start:y,count:I}=function QX(n,e){const t=e.length;let i,r=0;const{iScale:s}=n,{min:o,max:a,minDefined:u,maxDefined:h}=s.getUserBounds();return u&&(r=Hl(gm(e,s.axis,o).lo,0,t-1)),i=h?Hl(gm(e,s.axis,a).hi+1,r,t)-r:t-r,{start:r,count:i}}(u,h);if(I<=(t.threshold||4*r))U6(i);else{switch(Yi(o)&&(i._data=h,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(L){this._data=L}})),t.algorithm){case"lttb":P=function kX(n,e,t,r,i){const s=i.samples||r;if(s>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(s-2);let u=0;const h=e+t-1;let y,I,C,P,L,f=e;for(o[u++]=n[f],y=0;y<s-2;y++){let z,V=0,j=0;const se=Math.floor((y+1)*a)+1+e,ve=Math.min(Math.floor((y+2)*a)+1,t)+e,Se=ve-se;for(z=se;z<ve;z++)V+=n[z].x,j+=n[z].y;V/=Se,j/=Se;const Ve=Math.floor(y*a)+1+e,Oe=Math.min(Math.floor((y+1)*a)+1,t)+e,{x:Ce,y:ut}=n[f];for(C=P=-1,z=Ve;z<Oe;z++)P=.5*Math.abs((Ce-V)*(n[z].y-ut)-(Ce-n[z].x)*(j-ut)),P>C&&(C=P,I=n[z],L=z);o[u++]=I,f=L}return o[u++]=n[h],o}(h,y,I,r,t);break;case"min-max":P=function UX(n,e,t,r){let o,a,u,h,f,y,I,C,P,L,i=0,s=0;const V=[],z=n[e].x,ve=n[e+t-1].x-z;for(o=e;o<e+t;++o){a=n[o],u=(a.x-z)/ve*r,h=a.y;const Se=0|u;if(Se===f)h<P?(P=h,y=o):h>L&&(L=h,I=o),i=(s*i+a.x)/++s;else{const Ve=o-1;if(!Yi(y)&&!Yi(I)){const Oe=Math.min(y,I),Ce=Math.max(y,I);Oe!==C&&Oe!==Ve&&V.push(x2(S2({},n[Oe]),{x:i})),Ce!==C&&Ce!==Ve&&V.push(x2(S2({},n[Ce]),{x:i}))}o>0&&Ve!==C&&V.push(n[Ve]),V.push(a),f=Se,s=0,P=L=h,y=I=C=o}}return V}(h,y,I,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=P}})},destroy(n){Q6(n)}};function KL(n,e,t,r){if(r)return;let i=e[n],s=t[n];return"angle"===n&&(i=dh(i),s=dh(s)),{property:n,start:i,end:s}}function GL(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function H6(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function V6(n,e){let t=[],r=!1;return Io(n)?(r=!0,t=n):t=function jX(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=GL(o,a,i);const u=i[o],h=i[a];null!==r?(s.push({x:u.x,y:r}),s.push({x:h.x,y:r})):null!==t&&(s.push({x:t,y:u.y}),s.push({x:t,y:h.y}))}),s}(n,e),t.length?new g0({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function j6(n){return n&&!1!==n.fill}function KX(n,e,t){let i=n[e].fill;const s=[e];let o;if(!t)return i;for(;!1!==i&&-1===s.indexOf(i);){if(!ca(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function GX(n,e,t){const r=function $X(n){const e=n.options,t=e.fill;let r=ci(t&&t.target,t);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(n);if(Ni(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return ca(i)&&Math.floor(i)===i?function WX(n,e,t,r){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=r)&&t}(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function XX(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:o,last:a,point:u}=JX(s,e,"x");if(!(!u||o&&a))if(o)r.unshift(u);else if(n.push(u),!a)break}n.push(...r)}function JX(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,o=n.points;let a=!1,u=!1;for(let h=0;h<s.length;h++){const f=s[h],y=o[f.start][t],I=o[f.end][t];if(pm(i,y,I)){a=i===y,u=i===I;break}}return{first:a,last:u,point:r}}class K6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:o}=this;return e.arc(i,s,o,(t=t||{start:0,end:Bo}).end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function WL(n,e,t){const r=function eJ(n){const{chart:e,fill:t,line:r}=n;if(ca(t))return function tJ(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function YX(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,a=function ZX(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);a.push(V6({x:null,y:e.bottom},r));for(let u=0;u<s.length;u++){const h=s[u];for(let f=h.start;f<=h.end;f++)XX(i,o[f],a)}return new g0({points:i,options:{}})}(n);if("shape"===t)return!0;const i=function nJ(n){return(n.scale||{}).getPointPositionForValue?function iJ(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=function qX(n,e,t){let r;return r="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Ni(n)?n.value:e.getBaseValue(),r}(t,e,s),a=[];if(r.grid.circular){const u=e.getPointPositionForValue(0,s);return new K6({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)a.push(e.getPointPositionForValue(u,o));return a}(n):function rJ(n){const{scale:e={},fill:t}=n,r=function zX(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Ni(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(ca(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(n)}(n);return i instanceof K6?i:V6(i,r)}(e),{line:i,scale:s,axis:o}=e,a=i.options,u=a.fill,h=a.backgroundColor,{above:f=h,below:y=h}=u||{};r&&i.points.length&&(rF(n,t),function sJ(n,e){const{line:t,target:r,above:i,below:s,area:o,scale:a}=e,u=t._loop?"angle":e.axis;n.save(),"x"===u&&s!==i&&(G6(n,r,o.top),W6(n,{line:t,target:r,color:i,scale:a,property:u}),n.restore(),n.save(),G6(n,r,o.bottom)),W6(n,{line:t,target:r,color:s,scale:a,property:u}),n.restore()}(n,{line:i,target:r,above:f,below:y,area:t,scale:s,axis:o}),iF(n))}function G6(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const a of r){const{start:u,end:h}=a,f=i[u],y=i[GL(u,h,i)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function W6(n,e){const{line:t,target:r,property:i,color:s,scale:o}=e,a=function VX(n,e,t){const r=n.segments,i=n.points,s=e.points,o=[];for(const a of r){let{start:u,end:h}=a;h=GL(u,h,i);const f=KL(t,i[u],i[h],a.loop);if(!e.segments){o.push({source:a,target:f,start:i[u],end:i[h]});continue}const y=jV(e,f);for(const I of y){const C=KL(t,s[I.start],s[I.end],I.loop),P=VV(a,i,C);for(const L of P)o.push({source:L,target:I,start:{[t]:H6(f,C,"start",Math.max)},end:{[t]:H6(f,C,"end",Math.min)}})}}return o}(t,r,i);for(const{source:u,target:h,start:f,end:y}of a){const{style:{backgroundColor:I=s}={}}=u,C=!0!==r;n.save(),n.fillStyle=I,oJ(n,o,C&&KL(i,f,y)),n.beginPath();const P=!!t.pathSegment(n,u);let L;if(C){P?n.closePath():z6(n,r,y,i);const V=!!r.pathSegment(n,h,{move:P,reverse:!0});L=P&&V,L||z6(n,r,f,i)}n.closePath(),n.fill(L?"evenodd":"nonzero"),n.restore()}}function oJ(n,e,t){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=t||{};"x"===s&&(n.beginPath(),n.rect(o,r,a-o,i-r),n.clip())}function z6(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var aJ={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,o,a,u;for(o=0;o<r;++o)s=n.getDatasetMeta(o),a=s.dataset,u=null,a&&a.options&&a instanceof g0&&(u={visible:n.isDatasetVisible(o),index:o,fill:GX(a,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],u&&!1!==u.fill&&(u.fill=KX(i,o,t.propagate))},beforeDraw(n,e,t){const r="beforeDraw"===t.drawTime,i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;!a||(a.line.updateControlPoints(s,a.axis),r&&a.fill&&WL(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;j6(s)&&WL(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!j6(r)||"beforeDatasetDraw"!==t.drawTime||WL(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const q6=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}};class $6 extends Ef{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=uo(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,i=pl(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:u}=q6(r,s);let h,f;t.font=i.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(o,s,a,u)+10):(f=this.maxHeight,h=this._fitCols(o,i,a,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=i+a;let y=e;s.textAlign="left",s.textBaseline="middle";let I=-1,C=-f;return this.legendItems.forEach((P,L)=>{const V=r+t/2+s.measureText(P.text).width;(0===L||h[h.length-1]+V+2*a>o)&&(y+=f,h[h.length-(L>0?0:1)]=0,C+=f,I++),u[L]={left:0,top:C,row:I,width:V,height:i},h[h.length-1]+=V+a}),y}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=o-e;let y=a,I=0,C=0,P=0,L=0;return this.legendItems.forEach((V,j)=>{const{itemWidth:z,itemHeight:se}=function cJ(n,e,t,r,i){const s=function uJ(n,e,t,r){let i=n.text;return i&&"string"!=typeof i&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}(r,n,e,t),o=function AJ(n,e,t){let r=n;return"string"!=typeof e.text&&(r=Y6(e,t)),r}(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}(r,t,s,V,i);j>0&&C+se+2*a>f&&(y+=I+a,h.push({width:I,height:C}),P+=I+a,L++,I=C=0),u[j]={left:P,top:C,col:L,width:z,height:se},I=Math.max(I,z),C+=se+a}),y+=I,h.push({width:I,height:C}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=k1(s,this.left,this.width);if(this.isHorizontal()){let a=0,u=Hc(r,this.left+i,this.right-this.lineWidths[a]);for(const h of t)a!==h.row&&(a=h.row,u=Hc(r,this.left+i,this.right-this.lineWidths[a])),h.top+=this.top+e+i,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+i}else{let a=0,u=Hc(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const h of t)h.col!==a&&(a=h.col,u=Hc(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),h.top=u,h.left+=this.left+i,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;rF(e,this),this._draw(),iF(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Sa.color,u=k1(e.rtl,this.left,this.width),h=pl(o.font),{padding:f}=o,y=h.size,I=y/2;let C;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:P,boxHeight:L,itemHeight:V}=q6(o,y),se=this.isHorizontal(),ve=this._computeTitleHeight();C=se?{x:Hc(s,this.left+f,this.right-r[0]),y:this.top+f+ve,line:0}:{x:this.left+f,y:Hc(s,this.top+ve+f,this.bottom-t[0].height),line:0},kV(this.ctx,e.textDirection);const Se=V+f;this.legendItems.forEach((Ve,Oe)=>{i.strokeStyle=Ve.fontColor,i.fillStyle=Ve.fontColor;const Ce=i.measureText(Ve.text).width,ut=u.textAlign(Ve.textAlign||(Ve.textAlign=o.textAlign)),mt=P+I+Ce;let ge=C.x,me=C.y;u.setWidth(this.width),se?Oe>0&&ge+mt+f>this.right&&(me=C.y+=Se,C.line++,ge=C.x=Hc(s,this.left+f,this.right-r[C.line])):Oe>0&&me+Se>this.bottom&&(ge=C.x=ge+t[C.line].width+f,C.line++,me=C.y=Hc(s,this.top+ve+f,this.bottom-t[C.line].height)),function(Ve,Oe,Ce){if(isNaN(P)||P<=0||isNaN(L)||L<0)return;i.save();const ut=ci(Ce.lineWidth,1);if(i.fillStyle=ci(Ce.fillStyle,a),i.lineCap=ci(Ce.lineCap,"butt"),i.lineDashOffset=ci(Ce.lineDashOffset,0),i.lineJoin=ci(Ce.lineJoin,"miter"),i.lineWidth=ut,i.strokeStyle=ci(Ce.strokeStyle,a),i.setLineDash(ci(Ce.lineDash,[])),o.usePointStyle){const mt={radius:L*Math.SQRT2/2,pointStyle:Ce.pointStyle,rotation:Ce.rotation,borderWidth:ut},ge=u.xPlus(Ve,P/2);IV(i,mt,ge,Oe+I,o.pointStyleWidth&&P)}else{const mt=Oe+Math.max((y-L)/2,0),ge=u.leftForLtr(Ve,P),me=C_(Ce.borderRadius);i.beginPath(),Object.values(me).some(qe=>0!==qe)?yB(i,{x:ge,y:mt,w:P,h:L,radius:me}):i.rect(ge,mt,P,L),i.fill(),0!==ut&&i.stroke()}i.restore()}(u.x(ge),me,Ve),ge=((n,e,t,r)=>n===(r?"left":"right")?t:"center"===n?(e+t)/2:e)(ut,ge+P+I,se?ge+mt:this.right,e.rtl),function(Ve,Oe,Ce){b_(i,Ce.text,Ve,Oe+V/2,h,{strikethrough:Ce.hidden,textAlign:u.textAlign(Ce.textAlign)})}(u.x(ge),me,Ve),se?C.x+=mt+f:C.y+="string"!=typeof Ve.text?Y6(Ve,h.lineHeight):Se}),UV(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=pl(t.font),i=Vc(t.padding);if(!t.display)return;const s=k1(e.rtl,this.left,this.width),o=this.ctx,a=t.position,h=i.top+r.size/2;let f,y=this.left,I=this.width;if(this.isHorizontal())I=Math.max(...this.lineWidths),f=this.top+h,y=Hc(e.align,y,this.right-I);else{const P=this.columnSizes.reduce((L,V)=>Math.max(L,V.height),0);f=h+Hc(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const C=Hc(a,y,y+I);o.textAlign=s.textAlign(wL(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,b_(o,t.text,C,f,r)}_computeTitleHeight(){const e=this.options.title,t=pl(e.font),r=Vc(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(pm(e,this.left,this.right)&&pm(t,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],pm(e,i.left,i.left+i.width)&&pm(t,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function hJ(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(i,r);i&&!s&&uo(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&uo(t.onHover,[e,r,this],this)}else r&&uo(t.onClick,[e,r,this],this)}}function Y6(n,e){return e*(n.text?n.text.length+.5:0)}var dJ={id:"legend",_element:$6,start(n,e,t){const r=n.legend=new $6({ctx:n.ctx,options:t,chart:n});jc.configure(n,r,t),jc.addBox(n,r)},stop(n){jc.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;jc.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(t?0:void 0),f=Vc(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:o&&(a||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class zL extends Ef{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=Io(r.text)?r.text.length:1;this._padding=Vc(r.padding);const s=i*pl(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let h,f,y,u=0;return this.isHorizontal()?(f=Hc(a,r,s),y=t+e,h=s-r):("left"===o.position?(f=r+e,y=Hc(a,i,t),u=-.5*Ro):(f=s-e,y=Hc(a,t,i),u=.5*Ro),h=i-t),{titleX:f,titleY:y,maxWidth:h,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=pl(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:u,rotation:h}=this._drawArgs(s);b_(e,t.text,0,0,r,{color:t.color,maxWidth:u,rotation:h,textAlign:wL(t.align),textBaseline:"middle",translation:[o,a]})}}var pJ={id:"title",_element:zL,start(n,e,t){!function fJ(n,e){const t=new zL({ctx:n.ctx,options:e,chart:n});jc.configure(n,t,e),jc.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){jc.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;jc.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const BF=new WeakMap;var gJ={id:"subtitle",start(n,e,t){const r=new zL({ctx:n.ctx,options:t,chart:n});jc.configure(n,r,t),jc.addBox(n,r),BF.set(n,r)},stop(n){jc.removeBox(n,BF.get(n)),BF.delete(n)},beforeUpdate(n,e,t){const r=BF.get(n);jc.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const DB={average(n){if(!n.length)return!1;let e,t,r=0,i=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();r+=a.x,i+=a.y,++s}}return{x:r/s,y:i/s}},nearest(n,e){if(!n.length)return!1;let s,o,a,t=e.x,r=e.y,i=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const u=n[s].element;if(u&&u.hasValue()){const f=vL(e,u.getCenterPoint());f<i&&(i=f,a=u)}}if(a){const u=a.tooltipPosition();t=u.x,r=u.y}return{x:t,y:r}}};function Yp(n,e){return e&&(Io(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ym(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function mJ(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Z6(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,u=pl(e.bodyFont),h=pl(e.titleFont),f=pl(e.footerFont),y=s.length,I=i.length,C=r.length,P=Vc(e.padding);let L=P.height,V=0,j=r.reduce((ve,Se)=>ve+Se.before.length+Se.lines.length+Se.after.length,0);j+=n.beforeBody.length+n.afterBody.length,y&&(L+=y*h.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),j&&(L+=C*(e.displayColors?Math.max(a,u.lineHeight):u.lineHeight)+(j-C)*u.lineHeight+(j-1)*e.bodySpacing),I&&(L+=e.footerMarginTop+I*f.lineHeight+(I-1)*e.footerSpacing);let z=0;const se=function(ve){V=Math.max(V,t.measureText(ve).width+z)};return t.save(),t.font=h.string,Is(n.title,se),t.font=u.string,Is(n.beforeBody.concat(n.afterBody),se),z=e.displayColors?o+2+e.boxPadding:0,Is(r,ve=>{Is(ve.before,se),Is(ve.lines,se),Is(ve.after,se)}),z=0,t.font=f.string,Is(n.footer,se),t.restore(),V+=P.width,{width:V,height:L}}function _J(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:u}}=n;let h="center";return"center"===r?h=i<=(a+u)/2?"left":"right":i<=s/2?h="left":i>=o-s/2&&(h="right"),function vJ(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if("left"===n&&i+s+o>e.width||"right"===n&&i-s-o<0)return!0}(h,n,e,t)&&(h="center"),h}function X6(n,e,t){const r=t.yAlign||e.yAlign||function yJ(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||_J(n,e,t,r),yAlign:r}}function J6(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:u}=t,h=i+s,{topLeft:f,topRight:y,bottomLeft:I,bottomRight:C}=C_(o);let P=function wJ(n,e){let{x:t,width:r}=n;return"right"===e?t-=r:"center"===e&&(t-=r/2),t}(e,a);const L=function bJ(n,e,t){let{y:r,height:i}=n;return"top"===e?r+=t:r-="bottom"===e?i+t:i/2,r}(e,u,h);return"center"===u?"left"===a?P+=h:"right"===a&&(P-=h):"left"===a?P-=Math.max(f,I)+i:"right"===a&&(P+=Math.max(y,C)+i),{x:Hl(P,0,r.width-e.width),y:Hl(L,0,r.height-e.height)}}function SF(n,e,t){const r=Vc(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-r.right:n.x+r.left}function e8(n){return Yp([],ym(n))}function t8(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const n8={beforeTitle:fm,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:fm,beforeBody:fm,beforeLabel:fm,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Yi(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:fm,afterBody:fm,beforeFooter:fm,footer:fm,afterFooter:fm};function vA(n,e,t,r){const i=n[e].call(t,r);return void 0===i?n8[e].call(t,r):i}class qL extends Ef{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new zV(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function CJ(n,e,t){return p0(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=vA(r,"beforeTitle",this,e),s=vA(r,"title",this,e),o=vA(r,"afterTitle",this,e);let a=[];return a=Yp(a,ym(i)),a=Yp(a,ym(s)),a=Yp(a,ym(o)),a}getBeforeBody(e,t){return e8(vA(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Is(e,s=>{const o={before:[],lines:[],after:[]},a=t8(r,s);Yp(o.before,ym(vA(a,"beforeLabel",this,s))),Yp(o.lines,vA(a,"label",this,s)),Yp(o.after,ym(vA(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return e8(vA(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=vA(r,"beforeFooter",this,e),s=vA(r,"footer",this,e),o=vA(r,"afterFooter",this,e);let a=[];return a=Yp(a,ym(i)),a=Yp(a,ym(s)),a=Yp(a,ym(o)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let u,h,a=[];for(u=0,h=t.length;u<h;++u)a.push(mJ(this.chart,t[u]));return e.filter&&(a=a.filter((f,y,I)=>e.filter(f,y,I,r))),e.itemSort&&(a=a.sort((f,y)=>e.itemSort(f,y,r))),Is(a,f=>{const y=t8(e.callbacks,f);i.push(vA(y,"labelColor",this,f)),s.push(vA(y,"labelPointStyle",this,f)),o.push(vA(y,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(i.length){const a=DB[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=Z6(this,r),h=Object.assign({},a,u),f=X6(this.chart,r,h),y=J6(r,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:y.x,y:y.y,width:u.width,height:u.height,caretX:a.x,caretY:a.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:y}=C_(a),{x:I,y:C}=e,{width:P,height:L}=t;let V,j,z,se,ve,Se;return"center"===s?(ve=C+L/2,"left"===i?(V=I,j=V-o,se=ve+o,Se=ve-o):(V=I+P,j=V+o,se=ve-o,Se=ve+o),z=V):(j="left"===i?I+Math.max(u,f)+o:"right"===i?I+P-Math.max(h,y)-o:this.caretX,"top"===s?(se=C,ve=se-o,V=j-o,z=j+o):(se=C+L,ve=se+o,V=j+o,z=j-o),Se=se),{x1:V,x2:j,x3:z,y1:se,y2:ve,y3:Se}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,a,u;if(s){const h=k1(r.rtl,this.x,this.width);for(e.x=SF(this,r.titleAlign,r),t.textAlign=h.textAlign(r.titleAlign),t.textBaseline="middle",o=pl(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,u=0;u<s;++u)t.fillText(i[u],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,u+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:u,boxWidth:h,boxPadding:f}=s,y=pl(s.bodyFont),I=SF(this,"left",s),C=i.x(I),L=t.y+(u<y.lineHeight?(y.lineHeight-u)/2:0);if(s.usePointStyle){const V={radius:Math.min(h,u)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},j=i.leftForLtr(C,h)+h/2,z=L+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,IL(e,V,j,z),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,IL(e,V,j,z)}else{e.lineWidth=Ni(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const V=i.leftForLtr(C,h-f),j=i.leftForLtr(i.xPlus(C,1),h-f-2),z=C_(o.borderRadius);Object.values(z).some(se=>0!==se)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,yB(e,{x:V,y:L,w:h,h:u,radius:z}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),yB(e,{x:j,y:L+1,w:h-2,h:u-2,radius:z}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(V,L,h,u),e.strokeRect(V,L,h,u),e.fillStyle=o.backgroundColor,e.fillRect(j,L+1,h-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:u,boxWidth:h,boxPadding:f}=r,y=pl(r.bodyFont);let I=y.lineHeight,C=0;const P=k1(r.rtl,this.x,this.width),L=function(Ce){t.fillText(Ce,P.x(e.x+C),e.y+I/2),e.y+=I+s},V=P.textAlign(o);let j,z,se,ve,Se,Ve,Oe;for(t.textAlign=o,t.textBaseline="middle",t.font=y.string,e.x=SF(this,V,r),t.fillStyle=r.bodyColor,Is(this.beforeBody,L),C=a&&"right"!==V?"center"===o?h/2+f:h+2+f:0,ve=0,Ve=i.length;ve<Ve;++ve){for(j=i[ve],z=this.labelTextColors[ve],t.fillStyle=z,Is(j.before,L),se=j.lines,a&&se.length&&(this._drawColorBox(t,e,ve,P,r),I=Math.max(y.lineHeight,u)),Se=0,Oe=se.length;Se<Oe;++Se)L(se[Se]),I=y.lineHeight;Is(j.after,L)}C=0,I=y.lineHeight,Is(this.afterBody,L),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,a;if(s){const u=k1(r.rtl,this.x,this.width);for(e.x=SF(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=u.textAlign(r.footerAlign),t.textBaseline="middle",o=pl(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(i[a],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:u}=e,{width:h,height:f}=r,{topLeft:y,topRight:I,bottomLeft:C,bottomRight:P}=C_(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+y,u),"top"===o&&this.drawCaret(e,t,r,i),t.lineTo(a+h-I,u),t.quadraticCurveTo(a+h,u,a+h,u+I),"center"===o&&"right"===s&&this.drawCaret(e,t,r,i),t.lineTo(a+h,u+f-P),t.quadraticCurveTo(a+h,u+f,a+h-P,u+f),"bottom"===o&&this.drawCaret(e,t,r,i),t.lineTo(a+C,u+f),t.quadraticCurveTo(a,u+f,a,u+f-C),"center"===o&&"left"===s&&this.drawCaret(e,t,r,i),t.lineTo(a,u+y),t.quadraticCurveTo(a,u,a+y,u),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=DB[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Z6(this,e),u=Object.assign({},o,this._size),h=X6(t,e,u),f=J6(e,u,h,t);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Vc(t.padding);t.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),kV(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),UV(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:u})=>{const h=this.chart.getDatasetMeta(a);if(!h)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:h.data[u],index:u}}),s=!ZT(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),a=this._positionChanged(o,e),u=t||!ZT(o,s)||a;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,r,i){const s=this.options;if("mouseout"===e.type)return[];if(!i)return t;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=DB[s.position].call(this,e,t);return!1!==o&&(r!==o.x||i!==o.y)}}rr(qL,"positioners",DB);var EJ={id:"tooltip",_element:qL,positioners:DB,afterInit(n,e,t){t&&(n.tooltip=new qL({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",x2(S2({},t),{cancelable:!0})))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:n8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},IJ=Object.freeze({__proto__:null,Colors:RX,Decimation:HX,Filler:aJ,Legend:dJ,SubTitle:gJ,Title:pJ,Tooltip:EJ});function r8(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class xF extends D_{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Yi(e))return null;const r=this.getLabels();return((n,e)=>null===n?null:Hl(Math.round(n),0,e))(t=isFinite(t)&&r[t]===e?t:function SJ(n,e,t,r){const i=n.indexOf(e);return-1===i?((n,e,t,r)=>("string"==typeof e?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,r):i!==n.lastIndexOf(e)?t:i}(r,e,ci(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return r8.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function i8(n,e,{horizontal:t,minRotation:r}){const i=bf(r),s=(t?Math.sin(i):Math.cos(i))||.001;return Math.min(e/s,.75*e*(""+n).length)}rr(xF,"id","category"),rr(xF,"defaults",{ticks:{callback:r8}});class DF extends D_{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Yi(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=t?i:u,a=u=>s=r?s:u;if(e){const u=zp(i),h=zp(s);u<0&&h<0?a(0):u>0&&h>0&&o(0)}if(i===s){let u=0===s?1:Math.abs(.05*s);a(s+u),e||o(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let i,{maxTicksLimit:t,stepSize:r}=e;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o=function DJ(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:u,count:h,maxTicks:f,maxDigits:y,includeBounds:I}=n,C=s||1,P=f-1,{min:L,max:V}=e,j=!Yi(o),z=!Yi(a),se=!Yi(h),ve=(V-L)/(y+1);let Ve,Oe,Ce,ut,Se=aV((V-L)/P/C)*C;if(Se<1e-14&&!j&&!z)return[{value:L},{value:V}];ut=Math.ceil(V/Se)-Math.floor(L/Se),ut>P&&(Se=aV(ut*Se/P/C)*C),Yi(u)||(Ve=Math.pow(10,u),Se=Math.ceil(Se*Ve)/Ve),"ticks"===i?(Oe=Math.floor(L/Se)*Se,Ce=Math.ceil(V/Se)*Se):(Oe=L,Ce=V),j&&z&&s&&function E$(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((a-o)/s,Se/1e3)?(ut=Math.round(Math.min((a-o)/Se,f)),Se=(a-o)/ut,Oe=o,Ce=a):se?(Oe=j?o:Oe,Ce=z?a:Ce,ut=h-1,Se=(Ce-Oe)/ut):(ut=(Ce-Oe)/Se,ut=hB(ut,Math.round(ut),Se/1e3)?Math.round(ut):Math.ceil(ut));const mt=Math.max(cV(Se),cV(Oe));Ve=Math.pow(10,Yi(u)?mt:u),Oe=Math.round(Oe*Ve)/Ve,Ce=Math.round(Ce*Ve)/Ve;let ge=0;for(j&&(I&&Oe!==o?(t.push({value:o}),Oe<o&&ge++,hB(Math.round((Oe+ge*Se)*Ve)/Ve,o,i8(o,ve,n))&&ge++):Oe<o&&ge++);ge<ut;++ge)t.push({value:Math.round((Oe+ge*Se)*Ve)/Ve});return z&&I&&Ce!==a?t.length&&hB(t[t.length-1].value,a,i8(a,ve,n))?t[t.length-1].value=a:t.push({value:a}):(!z||Ce===a)&&t.push({value:Ce}),t}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&lV(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return pB(e,this.chart.options.locale,this.options.ticks.format)}}class $L extends DF{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ca(e)?e:0,this.max=ca(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=bf(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}rr($L,"id","linear"),rr($L,"defaults",{ticks:{callback:tF.formatters.numeric}});const TB=n=>Math.floor(f0(n)),T_=(n,e)=>Math.pow(10,TB(n)+e);function s8(n){return n/Math.pow(10,TB(n))==1}function o8(n,e,t){const r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}class YL extends D_{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=DF.prototype.parse.apply(this,[e,t]);if(0!==r)return ca(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ca(e)?Math.max(0,e):null,this.max=ca(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ca(this._userMin)&&(this.min=e===T_(this.min,0)?T_(this.min,-1):T_(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=t?i:a;r===i&&(r<=0?(s(1),o(10)):(s(T_(r,-1)),o(T_(i,1)))),r<=0&&s(T_(i,-1)),i<=0&&o(T_(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,r=function FJ(n,{min:e,max:t}){e=hh(n.min,e);const r=[],i=TB(e);let s=function TJ(n,e){let r=TB(e-n);for(;o8(n,e,r)>10;)r++;for(;o8(n,e,r)<10;)r--;return Math.min(r,TB(n))}(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),u=i>s?Math.pow(10,i):0,h=Math.round((e-u)*o)/o,f=Math.floor((e-u)/a/10)*a*10;let y=Math.floor((h-f)/Math.pow(10,s)),I=hh(n.min,Math.round((u+f+y*Math.pow(10,s))*o)/o);for(;I<t;)r.push({value:I,major:s8(I),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(s++,y=2,o=s>=0?1:o),I=Math.round((u+f+y*Math.pow(10,s))*o)/o;const C=hh(n.max,I);return r.push({value:C,major:s8(C),significand:y}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&lV(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return void 0===e?"0":pB(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=f0(e),this._valueRange=f0(this.max)-f0(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(f0(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function ZL(n){const e=n.ticks;if(e.display&&n.display){const t=Vc(e.backdropPadding);return ci(e.font&&e.font.size,Sa.font.size)+t.height}return 0}function MJ(n,e,t){return t=Io(t)?t:[t],{w:H$(n,e.string,t),h:t.length*e.lineHeight}}function a8(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function PJ(n,e,t,r,i){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,u=0;r.start<e.l?(a=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(u=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-u)):i.end>e.b&&(u=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+u))}function LJ(n){return 0===n||180===n?"center":n<180?"left":"right"}function RJ(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function kJ(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}function l8(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Bo);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}rr(YL,"id","logarithmic"),rr(YL,"defaults",{ticks:{callback:tF.formatters.logarithmic,major:{enabled:!0}}});class FB extends DF{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Vc(ZL(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ca(e)&&!isNaN(e)?e:0,this.max=ca(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ZL(this.options))}generateTickLabels(e){DF.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=uo(this.options.pointLabels.callback,[t,r],this);return i||0===i?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?function NJ(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Ro/s:0;for(let u=0;u<s;u++){const h=o.setContext(n.getPointLabelContext(u));i[u]=h.padding;const f=n.getPointPosition(u,n.drawingArea+i[u],a),y=pl(h.font),I=MJ(n.ctx,y,n._pointLabels[u]);r[u]=I;const C=dh(n.getIndexAngle(u)+a),P=Math.round(yL(C));PJ(t,e,C,a8(P,f.x,I.w,0,180),a8(P,f.y,I.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function OJ(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,o=ZL(s)/2,a=n.drawingArea,u=s.pointLabels.centerPointLabels?Ro/i:0;for(let h=0;h<i;h++){const f=n.getPointPosition(h,a+o+t[h],u),y=Math.round(yL(dh(f.angle+ua))),I=e[h],C=kJ(f.y,I.h,y),P=LJ(y),L=RJ(f.x,I.w,P);r.push({x:f.x,y:C,textAlign:P,left:L,top:C,right:L+I.w,bottom:C+I.h})}return r}(n,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return dh(e*(Bo/(this._pointLabels.length||1))+bf(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Yi(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Yi(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function HJ(n,e,t){return p0(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-ua+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),l8(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i,border:s}=t,o=this._pointLabels.length;let a,u,h;if(t.pointLabels.display&&function UJ(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=r.setContext(n.getPointLabelContext(i)),o=pl(s.font),{x:a,y:u,textAlign:h,left:f,top:y,right:I,bottom:C}=n._pointLabelItems[i],{backdropColor:P}=s;if(!Yi(P)){const L=C_(s.borderRadius),V=Vc(s.backdropPadding);t.fillStyle=P;const j=f-V.left,z=y-V.top,se=I-f+V.width,ve=C-y+V.height;Object.values(L).some(Se=>0!==Se)?(t.beginPath(),yB(t,{x:j,y:z,w:se,h:ve,radius:L}),t.fill()):t.fillRect(j,z,se,ve)}b_(t,n._pointLabels[i],a,u+o.lineHeight/2,o,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach((f,y)=>{if(0!==y){u=this.getDistanceFromCenterForValue(f.value);const I=this.getContext(y),C=i.setContext(I),P=s.setContext(I);!function QJ(n,e,t,r,i){const s=n.ctx,o=e.circular,{color:a,lineWidth:u}=e;!o&&!r||!a||!u||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=u,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),l8(n,t,o,r),s.closePath(),s.stroke(),s.restore())}(this,C,u,o,P)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:y,lineWidth:I}=f;!I||!y||(e.lineWidth=I,e.strokeStyle=y,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),h=this.getPointPosition(a,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,u)=>{if(0===u&&!t.reverse)return;const h=r.setContext(this.getContext(u)),f=pl(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){e.font=f.string,o=e.measureText(a.label).width,e.fillStyle=h.backdropColor;const y=Vc(h.backdropPadding);e.fillRect(-o/2-y.left,-s-f.size/2-y.top,o+y.width,f.size+y.height)}b_(e,a.label,0,-s,f,{color:h.color})}),e.restore()}drawTitle(){}}rr(FB,"id","radialLinear"),rr(FB,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tF.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),rr(FB,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),rr(FB,"descriptors",{angleLines:{_fallback:"grid"}});const TF={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_A=Object.keys(TF);function VJ(n,e){return n-e}function c8(n,e){if(Yi(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return"function"==typeof r&&(o=r(o)),ca(o)||(o="string"==typeof r?t.parse(o,r):t.parse(o)),null===o?null:(i&&(o="week"!==i||!O1(s)&&!0!==s?t.startOf(o,i):t.startOf(o,"isoWeek",s)),+o)}function u8(n,e,t,r){const i=_A.length;for(let s=_A.indexOf(n);s<i-1;++s){const o=TF[_A[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return _A[s]}return _A[i-1]}function A8(n,e,t){if(t){if(t.length){const{lo:r,hi:i}=_L(t,e);n[t[r]>=e?t[r]:t[i]]=!0}}else n[e]=!0}function h8(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&t?function GJ(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,u;for(a=s;a<=o;a=+i.add(a,1,r))u=t[a],u>=0&&(e[u].major=!0);return e}(n,r,i,t):r}class MB extends D_{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new rZ__date(e.adapters.date);i.init(t),AB(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:c8(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!a&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!a)&&(u(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&u(this.getMinMax(!1))),i=ca(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ca(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=function x$(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}(i,s,this.max);return this._unit=t.unit||(r.autoSkip?u8(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function jJ(n,e,t,r,i){for(let s=_A.length-1;s>=_A.indexOf(t);s--){const o=_A[s];if(TF[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return _A[t?_A.indexOf(t):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function KJ(n){for(let e=_A.indexOf(n)+1,t=_A.length;e<t;++e)if(TF[_A[e]].common)return _A[e]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),h8(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i,s,t=0,r=0;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),t=1===e.length?1-i:(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Hl(t,0,o),r=Hl(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||u8(s.minUnit,t,r,this._getLabelCapacity(t)),a=ci(i.ticks.stepSize,1),u="week"===o&&s.isoWeekday,h=O1(u)||!0===u,f={};let I,C,y=t;if(h&&(y=+e.startOf(y,"isoWeek",u)),y=+e.startOf(y,h?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const P="data"===i.ticks.source&&this.getDataTimestamps();for(I=y,C=0;I<r;I=+e.add(I,a,o),C++)A8(f,I,P);return(I===r||"ticks"===i.bounds||1===C)&&A8(f,I,P),Object.keys(f).sort((L,V)=>L-V).map(L=>+L)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,t){return this._adapter.format(e,t||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return uo(o,[e,t,r],this);const a=s.time.displayFormats,u=this._unit,h=this._majorUnit,y=h&&a[h],I=r[t];return this._adapter.format(e,i||(h&&y&&I&&I.major?y:u&&a[u]))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=bf(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,h8(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,r,e=this._cache.data||[];if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(c8(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return dV(e.sort(VJ))}}function FF(n,e,t){let s,o,a,u,r=0,i=n.length-1;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=gm(n,"pos",e)),({pos:s,time:a}=n[r]),({pos:o,time:u}=n[i])):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=gm(n,"time",e)),({time:s,pos:a}=n[r]),({time:o,pos:u}=n[i]));const h=o-s;return h?a+(u-a)*(e-s)/h:a}rr(MB,"id","time"),rr(MB,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class XL extends MB{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=FF(t,this.min),this._tableRange=FF(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,u,h,f;for(o=0,a=e.length;o<a;++o)h=e[o],h>=t&&h<=r&&i.push(h);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],u=i[o-1],h=i[o],Math.round((f+u)/2)!==h&&s.push({time:h,pos:o/(a-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(FF(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return FF(this._table,r*this._tableRange+this._minPos,!0)}}rr(XL,"id","timeseries"),rr(XL,"defaults",MB.defaults),$p.register(nZ,FX,IJ,Object.freeze({__proto__:null,CategoryScale:xF,LinearScale:$L,LogarithmicScale:YL,RadialLinearScale:FB,TimeScale:MB,TimeSeriesScale:XL}));const qJ=[{path:"",redirectTo:"/ingreso",pathMatch:"full"},{path:"ingreso",component:jq},{path:"medirfc",component:Kq},{path:"graf",component:(()=>{class n{constructor(t){this.servicio=t,this.chart=[]}ngOnInit(){$p.register(xF),this.servicio.getpulso().subscribe(t=>{let r=t.map(s=>s.cantpulsaciones),i=t.map(s=>s.fechademedicion);new $p("canvas",{type:"line",data:{labels:i,datasets:[{data:r,borderColor:"#15d3bd",fill:!1}]},options:{plugins:{legend:{display:!1}},scales:{x:{ticks:{display:!0}},y:{ticks:{display:!0}}}}})})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ea))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-graficos"]],decls:8,vars:1,consts:[["id","canvas"]],template:function(t,r){1&t&&(p.TgZ(0,"html"),p._UZ(1,"head"),p.TgZ(2,"body")(3,"h1"),p._uU(4,"GRAFICOS"),p.qZA(),p.TgZ(5,"div")(6,"canvas",0),p._uU(7),p.qZA()()()()),2&t&&(p.xp6(7),p.hij(" ",r.chart," "))},styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:75px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}div[_ngcontent-%COMP%]{width:50%;height:400px;border:1px solid #000;background-color:#e0f8f5;margin-top:100px;margin-left:500px}"]}),n})()},{path:"report",component:uE},{path:"inicio",component:Gq}];let $J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[RE.forRoot(qJ)],RE]}),n})();class d8{}const vm="*";function f8(n,e=null){return{type:2,steps:n,options:e}}function p8(n){return{type:6,styles:n,offset:null}}function g8(n){Promise.resolve(null).then(n)}class NB{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){g8(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class m8{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?g8(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Pi=!1;function y8(n){return new p.vHH(3e3,Pi)}function Tee(){return"undefined"!=typeof window&&void 0!==window.document}function eR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function y0(n){switch(n.length){case 0:return new NB;case 1:return n[0];default:return new m8(n)}}function v8(n,e,t,r,i={},s={}){const o=[],a=[];let u=-1,h=null;if(r.forEach(f=>{const y=f.offset,I=y==u,C=I&&h||{};Object.keys(f).forEach(P=>{let L=P,V=f[P];if("offset"!==P)switch(L=e.normalizePropertyName(L,o),V){case"!":V=i[P];break;case vm:V=s[P];break;default:V=e.normalizeStyleValue(P,L,V,o)}C[L]=V}),I||a.push(C),h=C,u=y}),o.length)throw function vee(n){return new p.vHH(3502,Pi)}();return a}function tR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&nR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&nR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&nR(t,"destroy",n)))}}function nR(n,e,t){const r=t.totalTime,s=rR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function rR(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function fh(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function _8(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let iR=(n,e)=>!1,w8=(n,e,t)=>[],b8=null;function sR(n){const e=n.parentNode||n.host;return e===b8?null:e}(eR()||"undefined"!=typeof Element)&&(Tee()?(b8=(()=>document.documentElement)(),iR=(n,e)=>{for(;e;){if(e===n)return!0;e=sR(e)}return!1}):iR=(n,e)=>n.contains(e),w8=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let F_=null,C8=!1;function E8(n){F_||(F_=function Mee(){return"undefined"!=typeof document?document.body:null}()||{},C8=!!F_.style&&"WebkitAppearance"in F_.style);let e=!0;return F_.style&&!function Fee(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in F_.style,!e&&C8&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in F_.style)),e}const I8=iR,B8=w8;let S8=(()=>{class n{validateStyleProperty(t){return E8(t)}matchesElement(t,r){return!1}containsElement(t,r){return I8(t,r)}getParentElement(t){return sR(t)}query(t,r,i){return B8(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new NB(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),oR=(()=>{class n{}return n.NOOP=new S8,n})();const aR="ng-enter",NF="ng-leave",PF="ng-trigger",OF=".ng-trigger",D8="ng-animating",lR=".ng-animating";function M_(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cR(parseFloat(e[1]),e[2])}function cR(n,e){return"s"===e?1e3*n:n}function LF(n,e,t){return n.hasOwnProperty("duration")?n:function Oee(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(y8()),{duration:0,delay:0,easing:""};i=cR(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=cR(parseFloat(u),a[4]));const h=a[5];h&&(o=h)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function ZJ(){return new p.vHH(3100,Pi)}()),a=!0),s<0&&(e.push(function XJ(){return new p.vHH(3101,Pi)}()),a=!0),a&&e.splice(u,0,y8())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Q1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function v0(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Q1(n,t);return t}function F8(n,e,t){return t?e+":"+t+";":""}function M8(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=F8(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=F8(0,kee(t),n.style[t]));n.setAttribute("style",e)}function Zp(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=AR(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),eR()&&M8(n))}function N_(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=AR(t);n.style[r]=""}),eR()&&M8(n))}function PB(n){return Array.isArray(n)?1==n.length?n[0]:f8(n):n}const uR=new RegExp("{{\\s*(.+?)\\s*}}","g");function N8(n){let e=[];if("string"==typeof n){let t;for(;t=uR.exec(n);)e.push(t[1]);uR.lastIndex=0}return e}function RF(n,e,t){const r=n.toString(),i=r.replace(uR,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function eee(n){return new p.vHH(3003,Pi)}()),a=""),a.toString()});return i==r?n:i}function kF(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Ree=/-+([a-z0-9])/g;function AR(n){return n.replace(Ree,(...e)=>e[1].toUpperCase())}function kee(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ph(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function tee(n){return new p.vHH(3004,Pi)}()}}function P8(n,e){return window.getComputedStyle(n)[e]}function Kee(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Gee(n,e,t){if(":"==n[0]){const u=function Wee(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function pee(n){return new p.vHH(3016,Pi)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function fee(n){return new p.vHH(3015,Pi)}()),e;const i=r[1],s=r[2],o=r[3];e.push(O8(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(O8(o,i))}(r,t,e)):t.push(n),t}const VF=new Set(["true","1"]),jF=new Set(["false","0"]);function O8(n,e){const t=VF.has(n)||jF.has(n),r=VF.has(e)||jF.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?VF.has(n):jF.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?VF.has(e):jF.has(e)),o&&a}}const zee=new RegExp("s*:selfs*,?","g");function hR(n,e,t,r){return new qee(n).build(e,t,r)}class qee{constructor(e){this._driver=e}build(e,t,r){const i=new Zee(t);this._resetContextStyleTimingState(i);const s=ph(this,PB(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function ree(){return new p.vHH(3006,Pi)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,h=u.name;h.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,s.push(this.visitState(u,t))}),u.name=h}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function iee(){return new p.vHH(3007,Pi)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(KF(a)){const u=a;Object.keys(u).forEach(h=>{N8(u[h]).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(kF(s.values()),t.errors.push(function see(n,e){return new p.vHH(3008,Pi)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ph(this,PB(e.animation),t);return{type:1,matchers:Kee(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:P_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ph(this,r,t)),options:P_(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ph(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:P_(e.options)}}visitAnimate(e,t){const r=function Jee(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dR(LF(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=dR(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=LF(t,e);return dR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:p8({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const h={};r.easing&&(h.easing=r.easing),o=p8(h)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==vm?r.push(o):t.errors.push(function oee(n){return new p.vHH(3002,Pi)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(KF(o)){const a=o,u=a.easing;if(u&&(s=u,delete a.easing),!i)for(let h in a)if(a[h].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const u=t.collectedStyles[t.currentQuerySelector],h=u[a];let f=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function aee(n,e,t,r,i){return new p.vHH(3010,Pi)}()),f=!1),s=h.startTime),f&&(u[a]={startTime:s,endTime:i}),t.options&&function Lee(n,e,t){const r=e.params||{},i=N8(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function JJ(n){return new p.vHH(3001,Pi)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function lee(){return new p.vHH(3011,Pi)}()),r;let s=0;const o=[];let a=!1,u=!1,h=0;const f=e.steps.map(j=>{const z=this._makeStyleAst(j,t);let se=null!=z.offset?z.offset:function Xee(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(KF(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(KF(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(z.styles),ve=0;return null!=se&&(s++,ve=z.offset=se),u=u||ve<0||ve>1,a=a||ve<h,h=ve,o.push(ve),z});u&&t.errors.push(function cee(){return new p.vHH(3012,Pi)}()),a&&t.errors.push(function uee(){return new p.vHH(3200,Pi)}());const y=e.steps.length;let I=0;s>0&&s<y?t.errors.push(function Aee(){return new p.vHH(3202,Pi)}()):0==s&&(I=1/(y-1));const C=y-1,P=t.currentTime,L=t.currentAnimateTimings,V=L.duration;return f.forEach((j,z)=>{const se=I>0?z==C?1:I*z:o[z],ve=se*V;t.currentTime=P+L.delay+ve,L.duration=ve,this._validateStyleAst(j,t),j.offset=se,r.styles.push(j)}),r}visitReference(e,t){return{type:8,animation:ph(this,PB(e.animation),t),options:P_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:P_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:P_(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function $ee(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(zee,"")),n=n.replace(/@\*/g,OF).replace(/@\w+/g,t=>OF+"-"+t.substr(1)).replace(/:animating/g,lR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,fh(t.collectedStyles,t.currentQuerySelector,{});const a=ph(this,PB(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:P_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function hee(){return new p.vHH(3013,Pi)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:LF(e.timings,t.errors,!0);return{type:12,animation:ph(this,PB(e.animation),t),timings:r,options:null}}}class Zee{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function KF(n){return!Array.isArray(n)&&"object"==typeof n}function P_(n){return n?(n=Q1(n)).params&&(n.params=function Yee(n){return n?Q1(n):null}(n.params)):n={},n}function dR(n,e,t){return{duration:n,delay:e,easing:t}}function fR(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class GF{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const nte=new RegExp(":enter","g"),ite=new RegExp(":leave","g");function pR(n,e,t,r,i,s={},o={},a,u,h=[]){return(new ste).buildKeyframes(n,e,t,r,i,s,o,a,u,h)}class ste{buildKeyframes(e,t,r,i,s,o,a,u,h,f=[]){h=h||new GF;const y=new gR(e,t,h,i,s,f,[]);y.options=u,y.currentTimeline.setStyles([o],null,y.errors,u),ph(this,r,y);const I=y.timelines.filter(C=>C.containsAnimation());if(Object.keys(a).length){let C;for(let P=I.length-1;P>=0;P--){const L=I[P];if(L.element===t){C=L;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,y.errors,u)}return I.length?I.map(C=>C.buildKeyframes()):[fR(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?M_(r.duration):null,a=null!=r.delay?M_(r.delay):null;return 0!==o&&e.forEach(u=>{const h=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,h.duration+h.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ph(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=WF);const o=M_(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ph(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?M_(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ph(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return LF(t.params?RF(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?M_(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=WF);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((h,f)=>{t.currentQueryIndex=f;const y=t.createSubContext(e.options,h);s&&y.delayNextStep(s),h===t.element&&(u=y.currentTimeline),ph(this,e.animation,y),y.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,y.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const f=t.currentTimeline;u&&f.delayNextStep(u);const y=f.currentTime;ph(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-y+(i.startTime-r.currentTimeline.startTime)}}const WF={};class gR{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WF,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new zF(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=M_(r.duration)),null!=r.delay&&(i.delay=M_(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=RF(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new gR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=WF,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new ote(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(nte,"."+this._enterClassName)).replace(ite,"."+this._leaveClassName);let h=this._driver.query(this.element,e,1!=r);0!==r&&(h=r<0?h.slice(h.length+r,h.length):h.slice(0,r)),a.push(...h)}return!s&&0==a.length&&o.push(function dee(n){return new p.vHH(3014,Pi)}()),a}}class zF{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zF(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||vm,this._currentKeyframe[t]=vm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function ate(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=vm})):v0(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=RF(o[a],s,r);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:vm),this._updateStyle(a,u)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const h=v0(a,!0);Object.keys(h).forEach(f=>{const y=h[f];"!"==y?e.add(f):y==vm&&t.add(f)}),r||(h.offset=u/this.duration),i.push(h)});const s=e.size?kF(e.values()):[],o=t.size?kF(t.values()):[];if(r){const a=i[0],u=Q1(a);a.offset=0,u.offset=1,i=[a,u]}return fR(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class ote extends zF{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=v0(e[0],!1);u.offset=0,s.push(u);const h=v0(e[0],!1);h.offset=k8(a),s.push(h);const f=e.length-1;for(let y=1;y<=f;y++){let I=v0(e[y],!1);I.offset=k8((t+I.offset*r)/o),s.push(I)}r=o,t=0,i="",e=s}return fR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function k8(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mR{}class lte extends mR{normalizePropertyName(e,t){return AR(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(cte[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function nee(n,e){return new p.vHH(3005,Pi)}())}return o+s}}const cte=(()=>function ute(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function U8(n,e,t,r,i,s,o,a,u,h,f,y,I){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:h,postStyleProps:f,totalTime:y,errors:I}}const yR={};class Q8{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Ate(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,u,h,f){const y=[],I=this.ast.options&&this.ast.options.params||yR,P=this.buildStyles(r,a&&a.params||yR,y),L=u&&u.params||yR,V=this.buildStyles(i,L,y),j=new Set,z=new Map,se=new Map,ve="void"===i,Se={params:Object.assign(Object.assign({},I),L)},Ve=f?[]:pR(e,t,this.ast.animation,s,o,P,V,Se,h,y);let Oe=0;if(Ve.forEach(ut=>{Oe=Math.max(ut.duration+ut.delay,Oe)}),y.length)return U8(t,this._triggerName,r,i,ve,P,V,[],[],z,se,Oe,y);Ve.forEach(ut=>{const mt=ut.element,ge=fh(z,mt,{});ut.preStyleProps.forEach(qe=>ge[qe]=!0);const me=fh(se,mt,{});ut.postStyleProps.forEach(qe=>me[qe]=!0),mt!==t&&j.add(mt)});const Ce=kF(j.values());return U8(t,this._triggerName,r,i,ve,P,V,Ve,Ce,z,se,Oe)}}class hte{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Q1(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=RF(u,i,t));const h=this.normalizer.normalizePropertyName(a,t);u=this.normalizer.normalizeStyleValue(a,h,u,t),r[h]=u})}}),r}}class fte{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new hte(i.style,i.options&&i.options.params||{},r)}),H8(this.states,"true","1"),H8(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Q8(e,i,this.states))}),this.fallbackTransition=function pte(n,e,t){return new Q8(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function H8(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const gte=new GF;class mte{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=hR(this._driver,t,r,[]);if(r.length)throw function _ee(n){return new p.vHH(3503,Pi)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=v8(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=pR(this._driver,t,s,aR,NF,{},{},r,gte,i),o.forEach(f=>{const y=fh(a,f.element,{});f.postStyleProps.forEach(I=>y[I]=null)})):(i.push(function wee(){return new p.vHH(3300,Pi)}()),o=[]),i.length)throw function bee(n){return new p.vHH(3504,Pi)}();a.forEach((f,y)=>{Object.keys(f).forEach(I=>{f[I]=this._driver.computeStyle(y,I,vm)})});const h=y0(o.map(f=>{const y=a.get(f.element);return this._buildPlayer(f,{},y)}));return this._playersById[e]=h,h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Cee(n){return new p.vHH(3301,Pi)}();return t}listen(e,t,r,i){const s=rR(t,"","","");return tR(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const V8="ng-animate-queued",vR="ng-animate-disabled",bte=[],j8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sd="__ng_removed";class _R{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ste(n){return null!=n?n:null}(r?e.value:e),r){const s=Q1(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const OB="void",wR=new _R(OB);class Ete{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,od(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function Eee(n,e){return new p.vHH(3302,Pi)}();if(null==r||0==r.length)throw function Iee(n){return new p.vHH(3303,Pi)}();if(!function xte(n){return"start"==n||"done"==n}(r))throw function Bee(n,e){return new p.vHH(3400,Pi)}();const s=fh(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=fh(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(od(e,PF),od(e,PF+"-"+t),a[t]=wR),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function See(n){return new p.vHH(3401,Pi)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new bR(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(od(e,PF),od(e,PF+"-"+t),this._engine.statesByElement.set(e,a={}));let u=a[t];const h=new _R(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&h.absorbOptions(u.options),a[t]=h,u||(u=wR),h.value!==OB&&u.value===h.value){if(!function Fte(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,h.params)){const L=[],V=s.matchStyles(u.value,u.params,L),j=s.matchStyles(h.value,h.params,L);L.length?this._engine.reportError(L):this._engine.afterFlush(()=>{N_(e,V),Zp(e,j)})}return}const I=fh(this._engine.playersByElement,e,[]);I.forEach(L=>{L.namespaceId==this.id&&L.triggerName==t&&L.queued&&L.destroy()});let C=s.matchTransition(u.value,h.value,e,h.params),P=!1;if(!C){if(!i)return;C=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:u,toState:h,player:o,isFallbackTransition:P}),P||(od(e,V8),o.onStart(()=>{H1(e,V8)})),o.onDone(()=>{let L=this.players.indexOf(o);L>=0&&this.players.splice(L,1);const V=this._engine.playersByElement.get(e);if(V){let j=V.indexOf(o);j>=0&&V.splice(j,1)}}),this.players.push(o),I.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,OF,!0);r.forEach(i=>{if(i[sd])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(u=>{if(o.set(u,s[u].value),this._triggers[u]){const h=this.trigger(e,u,OB,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&y0(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers[o].fallbackTransition,h=r[o]||wR,f=new _R(OB),y=new bR(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:h,toState:f,player:y,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[sd];(!s||s===j8)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){od(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=rR(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,tR(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Ite{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ete(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const h=r.indexOf(u);r.splice(h+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,t)){r.splice(a+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(qF(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!qF(t))return;const s=t[sd];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),od(e,vR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),H1(e,vR))}removeNode(e,t,r,i){if(qF(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[sd]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return qF(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,OF,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return y0(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[sd];if(r&&r.setForRemoval){if(e[sd]=j8,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(vR))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)od(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?y0(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function xee(n){return new p.vHH(3402,Pi)}()}_flushAnimations(e,t){const r=new GF,i=[],s=new Map,o=[],a=new Map,u=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(ze=>{f.add(ze);const st=this.driver.query(ze,".ng-animate-queued",!0);for(let Ze=0;Ze<st.length;Ze++)f.add(st[Ze])});const y=this.bodyNode,I=Array.from(this.statesByElement.keys()),C=W8(I,this.collectedEnterElements),P=new Map;let L=0;C.forEach((ze,st)=>{const Ze=aR+L++;P.set(st,Ze),ze.forEach(yt=>od(yt,Ze))});const V=[],j=new Set,z=new Set;for(let ze=0;ze<this.collectedLeaveElements.length;ze++){const st=this.collectedLeaveElements[ze],Ze=st[sd];Ze&&Ze.setForRemoval&&(V.push(st),j.add(st),Ze.hasAnimation?this.driver.query(st,".ng-star-inserted",!0).forEach(yt=>j.add(yt)):z.add(st))}const se=new Map,ve=W8(I,Array.from(j));ve.forEach((ze,st)=>{const Ze=NF+L++;se.set(st,Ze),ze.forEach(yt=>od(yt,Ze))}),e.push(()=>{C.forEach((ze,st)=>{const Ze=P.get(st);ze.forEach(yt=>H1(yt,Ze))}),ve.forEach((ze,st)=>{const Ze=se.get(st);ze.forEach(yt=>H1(yt,Ze))}),V.forEach(ze=>{this.processLeaveNode(ze)})});const Se=[],Ve=[];for(let ze=this._namespaceList.length-1;ze>=0;ze--)this._namespaceList[ze].drainQueuedTransitions(t).forEach(Ze=>{const yt=Ze.player,Mt=Ze.element;if(Se.push(yt),this.collectedEnterElements.length){const bt=Mt[sd];if(bt&&bt.setForMove){if(bt.previousTriggersValues&&bt.previousTriggersValues.has(Ze.triggerName)){const Dt=bt.previousTriggersValues.get(Ze.triggerName),Ft=this.statesByElement.get(Ze.element);Ft&&Ft[Ze.triggerName]&&(Ft[Ze.triggerName].value=Dt)}return void yt.destroy()}}const vn=!y||!this.driver.containsElement(y,Mt),te=se.get(Mt),Pe=P.get(Mt),Le=this._buildInstruction(Ze,r,Pe,te,vn);if(Le.errors&&Le.errors.length)return void Ve.push(Le);if(vn)return yt.onStart(()=>N_(Mt,Le.fromStyles)),yt.onDestroy(()=>Zp(Mt,Le.toStyles)),void i.push(yt);if(Ze.isFallbackTransition)return yt.onStart(()=>N_(Mt,Le.fromStyles)),yt.onDestroy(()=>Zp(Mt,Le.toStyles)),void i.push(yt);const et=[];Le.timelines.forEach(bt=>{bt.stretchStartingKeyframe=!0,this.disabledNodes.has(bt.element)||et.push(bt)}),Le.timelines=et,r.append(Mt,Le.timelines),o.push({instruction:Le,player:yt,element:Mt}),Le.queriedElements.forEach(bt=>fh(a,bt,[]).push(yt)),Le.preStyleProps.forEach((bt,Dt)=>{const Ft=Object.keys(bt);if(Ft.length){let fn=u.get(Dt);fn||u.set(Dt,fn=new Set),Ft.forEach(pn=>fn.add(pn))}}),Le.postStyleProps.forEach((bt,Dt)=>{const Ft=Object.keys(bt);let fn=h.get(Dt);fn||h.set(Dt,fn=new Set),Ft.forEach(pn=>fn.add(pn))})});if(Ve.length){const ze=[];Ve.forEach(st=>{ze.push(function Dee(n,e){return new p.vHH(3505,Pi)}())}),Se.forEach(st=>st.destroy()),this.reportError(ze)}const Oe=new Map,Ce=new Map;o.forEach(ze=>{const st=ze.element;r.has(st)&&(Ce.set(st,st),this._beforeAnimationBuild(ze.player.namespaceId,ze.instruction,Oe))}),i.forEach(ze=>{const st=ze.element;this._getPreviousPlayers(st,!1,ze.namespaceId,ze.triggerName,null).forEach(yt=>{fh(Oe,st,[]).push(yt),yt.destroy()})});const ut=V.filter(ze=>q8(ze,u,h)),mt=new Map;G8(mt,this.driver,z,h,vm).forEach(ze=>{q8(ze,u,h)&&ut.push(ze)});const me=new Map;C.forEach((ze,st)=>{G8(me,this.driver,new Set(ze),u,"!")}),ut.forEach(ze=>{const st=mt.get(ze),Ze=me.get(ze);mt.set(ze,Object.assign(Object.assign({},st),Ze))});const qe=[],Ke=[],Ct={};o.forEach(ze=>{const{element:st,player:Ze,instruction:yt}=ze;if(r.has(st)){if(f.has(st))return Ze.onDestroy(()=>Zp(st,yt.toStyles)),Ze.disabled=!0,Ze.overrideTotalTime(yt.totalTime),void i.push(Ze);let Mt=Ct;if(Ce.size>1){let te=st;const Pe=[];for(;te=te.parentNode;){const Le=Ce.get(te);if(Le){Mt=Le;break}Pe.push(te)}Pe.forEach(Le=>Ce.set(Le,Mt))}const vn=this._buildAnimation(Ze.namespaceId,yt,Oe,s,me,mt);if(Ze.setRealPlayer(vn),Mt===Ct)qe.push(Ze);else{const te=this.playersByElement.get(Mt);te&&te.length&&(Ze.parentPlayer=y0(te)),i.push(Ze)}}else N_(st,yt.fromStyles),Ze.onDestroy(()=>Zp(st,yt.toStyles)),Ke.push(Ze),f.has(st)&&i.push(Ze)}),Ke.forEach(ze=>{const st=s.get(ze.element);if(st&&st.length){const Ze=y0(st);ze.setRealPlayer(Ze)}}),i.forEach(ze=>{ze.parentPlayer?ze.syncPlayerEvents(ze.parentPlayer):ze.destroy()});for(let ze=0;ze<V.length;ze++){const st=V[ze],Ze=st[sd];if(H1(st,NF),Ze&&Ze.hasAnimation)continue;let yt=[];if(a.size){let vn=a.get(st);vn&&vn.length&&yt.push(...vn);let te=this.driver.query(st,lR,!0);for(let Pe=0;Pe<te.length;Pe++){let Le=a.get(te[Pe]);Le&&Le.length&&yt.push(...Le)}}const Mt=yt.filter(vn=>!vn.destroyed);Mt.length?Dte(this,st,Mt):this.processLeaveNode(st)}return V.length=0,qe.forEach(ze=>{this.players.push(ze),ze.onDone(()=>{ze.destroy();const st=this.players.indexOf(ze);this.players.splice(st,1)}),ze.play()}),qe}elementContainsData(e,t){let r=!1;const i=t[sd];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==OB;a.forEach(h=>{h.queued||!u&&h.triggerName!=i||o.push(h)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const h=u.element,f=h!==s,y=fh(r,h,[]);this._getPreviousPlayers(h,f,o,a,t.toState).forEach(C=>{const P=C.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),C.destroy(),y.push(C)})}N_(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,h=[],f=new Set,y=new Set,I=t.timelines.map(P=>{const L=P.element;f.add(L);const V=L[sd];if(V&&V.removedBeforeQueried)return new NB(P.duration,P.delay);const j=L!==u,z=function Tte(n){const e=[];return z8(n,e),e}((r.get(L)||bte).map(Oe=>Oe.getRealPlayer())).filter(Oe=>!!Oe.element&&Oe.element===L),se=s.get(L),ve=o.get(L),Se=v8(0,this._normalizer,0,P.keyframes,se,ve),Ve=this._buildPlayer(P,Se,z);if(P.subTimeline&&i&&y.add(L),j){const Oe=new bR(e,a,L);Oe.setRealPlayer(Ve),h.push(Oe)}return Ve});h.forEach(P=>{fh(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function Bte(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,P.element,P))}),f.forEach(P=>od(P,D8));const C=y0(I);return C.onDestroy(()=>{f.forEach(P=>H1(P,D8)),Zp(u,t.toStyles)}),y.forEach(P=>{fh(i,P,[]).push(C)}),C}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new NB(e.duration,e.delay)}}class bR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new NB,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>tR(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fh(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qF(n){return n&&1===n.nodeType}function K8(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function G8(n,e,t,r,i){const s=[];t.forEach(u=>s.push(K8(u)));const o=[];r.forEach((u,h)=>{const f={};u.forEach(y=>{const I=f[y]=e.computeStyle(h,y,i);(!I||0==I.length)&&(h[sd]=Cte,o.push(h))}),n.set(h,f)});let a=0;return t.forEach(u=>K8(u,s[a++])),o}function W8(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const h=a.parentNode;return u=t.has(h)?h:i.has(h)?1:o(h),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function od(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function H1(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Dte(n,e,t){y0(t).onDone(()=>n.processLeaveNode(e))}function z8(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof m8?z8(r.players,e):e.push(r)}}function q8(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class $F{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Ite(e,t,r),this._timelineEngine=new mte(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],f=hR(this._driver,s,u,[]);if(u.length)throw function yee(n,e){return new p.vHH(3404,Pi)}();a=function dte(n,e,t){return new fte(n,e,t)}(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=_8(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=_8(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Nte=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zp(this._element,this._initialStyles),this._endStyles&&(Zp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(N_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(N_(this._element,this._endStyles),this._endStyles=null),Zp(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function CR(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Pte(i)&&(e=e||{},e[i]=n[i])}return e}function Pte(n){return"display"===n||"position"===n}class $8{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:P8(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ote{validateStyleProperty(e){return E8(e)}matchesElement(e,t){return!1}containsElement(e,t){return I8(e,t)}getParentElement(e){return sR(e)}query(e,t,r){return B8(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const h={},f=o.filter(I=>I instanceof $8);(function Uee(n,e){return 0===n||0===e})(r,i)&&f.forEach(I=>{let C=I.currentSnapshot;Object.keys(C).forEach(P=>h[P]=C[P])}),t=function Qee(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(u){a[u]=P8(n,u)})}}return e}(e,t=t.map(I=>v0(I,!1)),h);const y=function Mte(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=CR(e[0]),e.length>1&&(r=CR(e[e.length-1]))):e&&(t=CR(e)),t||r?new Nte(n,t,r):null}(e,t);return new $8(e,t,u,y)}}let Lte=(()=>{class n extends d8{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?f8(t):t;return Y8(this._renderer,null,r,"register",[i]),new Rte(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Rte extends class YJ{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new kte(this._id,e,t||{},this._renderer)}}class kte{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Y8(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Y8(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Z8="@.disabled";let Ute=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new X8("",s,this.engine),this._rendererCache.set(s,f)),f}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(o,a,t,f.name,f)};return r.data.animation.forEach(u),new Qte(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG($F),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class X8{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Z8?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Qte extends X8{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Z8?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Hte(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Vte(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let jte=(()=>{class n extends $F{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe),p.LFG(oR),p.LFG(mR))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const J8=new p.OlP("AnimationModuleType"),e7=[{provide:d8,useClass:Lte},{provide:mR,useFactory:function Kte(){return new lte}},{provide:$F,useClass:jte},{provide:p.FYo,useFactory:function Gte(n,e,t){return new Ute(n,e,t)},deps:[Jl,$F,p.R0b]}],t7=[{provide:oR,useFactory:()=>new Ote},{provide:J8,useValue:"BrowserAnimations"},...e7],Wte=[{provide:oR,useClass:S8},{provide:J8,useValue:"NoopAnimations"},...e7];let zte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Wte:t7}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:t7,imports:[mo]}),n})();var V1=U(7770),ER=U(5154);(0,Os.registerVersion)("firebase","9.17.1","app"),U(2833);const IR="@firebase/remote-config",wA=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class one{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,Bt.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function ane(n=navigator){return n.languages&&n.languages[0]||n.language}class lne{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return(0,Bt.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:ane()},h={method:"POST",headers:a,body:JSON.stringify(u)},f=fetch(o,h),y=new Promise((j,z)=>{e.signal.addEventListener(()=>{const se=new Error("The operation was aborted.");se.name="AbortError",z(se)})});let I;try{yield Promise.race([f,y]),I=yield f}catch(j){let z="fetch-client-network";throw"AbortError"===(null==j?void 0:j.name)&&(z="fetch-timeout"),wA.create(z,{originalErrorMessage:null==j?void 0:j.message})}let C=I.status;const P=I.headers.get("ETag")||void 0;let L,V;if(200===I.status){let j;try{j=yield I.json()}catch(z){throw wA.create("fetch-client-parse",{originalErrorMessage:null==z?void 0:z.message})}L=j.entries,V=j.state}if("INSTANCE_STATE_UNSPECIFIED"===V?C=500:"NO_CHANGE"===V?C=304:("NO_TEMPLATE"===V||"EMPTY_CONFIG"===V)&&(L={}),304!==C&&200!==C)throw wA.create("fetch-status",{httpStatus:C});return{status:C,eTag:P,config:L}})()}}class Ane{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,Bt.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,Bt.Z)(function*(){yield function cne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(wA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function une(n){if(!(n instanceof be.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+(0,be.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class fne{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function XF(n,e){const t=n.target.error||void 0;return wA.create(e,{originalErrorMessage:t&&(null==t?void 0:t.message)})}const O_="app_namespace_store";class yne{constructor(e,t,r,i=function mne(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(XF(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(O_,{keyPath:"compositeKey"})}}catch(t){e(wA.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,Bt.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([O_],"readonly").objectStore(O_),u=t.createCompositeKey(e);try{const h=a.get(u);h.onerror=f=>{s(XF(f,"storage-get"))},h.onsuccess=f=>{const y=f.target.result;i(y?y.value:void 0)}}catch(h){s(wA.create("storage-get",{originalErrorMessage:null==h?void 0:h.message}))}})})()}set(e,t){var r=this;return(0,Bt.Z)(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([O_],"readwrite").objectStore(O_),h=r.createCompositeKey(e);try{const f=u.put({compositeKey:h,value:t});f.onerror=y=>{o(XF(y,"storage-set"))},f.onsuccess=()=>{s()}}catch(f){o(wA.create("storage-set",{originalErrorMessage:null==f?void 0:f.message}))}})})()}delete(e){var t=this;return(0,Bt.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([O_],"readwrite").objectStore(O_),u=t.createCompositeKey(e);try{const h=a.delete(u);h.onerror=f=>{s(XF(f,"storage-delete"))},h.onsuccess=()=>{i()}}catch(h){s(wA.create("storage-delete",{originalErrorMessage:null==h?void 0:h.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class vne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Bt.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function wne(){return TR.apply(this,arguments)}function TR(){return(TR=(0,Bt.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch(n){return!1}})).apply(this,arguments)}!function _ne(){(0,Os._registerComponent)(new Fu.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw wA.create("registration-window");if(!(0,be.hl)())throw wA.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw wA.create("registration-project-id");if(!o)throw wA.create("registration-api-key");if(!a)throw wA.create("registration-app-id");const u=new yne(a,r.name,t=t||"firebase"),h=new vne(u),f=new kc.Yd(IR);f.logLevel=kc.in.ERROR;const y=new lne(i,Os.SDK_VERSION,t,s,o,a),I=new Ane(y,u),C=new one(I,u,h,f),P=new fne(r,C,h,u,f);return function rne(n){const e=(0,be.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(P),P},"PUBLIC").setMultipleInstances(!0)),(0,Os.registerVersion)(IR,"0.4.3"),(0,Os.registerVersion)(IR,"0.4.3","esm2017")}();var LB=U(8766);const bne="/firebase-messaging-sw.js",Cne="/firebase-cloud-messaging-push-scope",s7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",o7="google.c.a.c_id",Ine="google.c.a.c_l",Bne="google.c.a.ts",Sne="google.c.a.e";var j1=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(j1||(j1={})),j1))();function _m(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xne(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const FR="fcm_token_details_db",a7="fcm_token_object_Store";function Tne(n){return MR.apply(this,arguments)}function MR(){return MR=(0,Bt.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(FR))return null;let e=null;return(yield(0,LB.X3)(FR,5,{upgrade:(r=(0,Bt.Z)(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(a7))return;const h=a.objectStore(a7),f=yield h.index("fcmSenderId").get(n);if(yield h.clear(),f)if(2===s){const y=f;if(!y.auth||!y.p256dh||!y.endpoint)return;e={token:y.fcmToken,createTime:null!==(u=y.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:_m(y.vapidKey)}}}else if(3===s){const y=f;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:_m(y.auth),p256dh:_m(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:_m(y.vapidKey)}}}else if(4===s){const y=f;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:_m(y.auth),p256dh:_m(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:_m(y.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield(0,LB.Lj)(FR),yield(0,LB.Lj)("fcm_vapid_details_db"),yield(0,LB.Lj)("undefined"),Fne(e)?e:null;var r}),MR.apply(this,arguments)}function Fne(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const L_="firebase-messaging-store";let NR=null;function PR(){return NR||(NR=(0,LB.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(L_)}})),NR}function l7(n){return OR.apply(this,arguments)}function OR(){return OR=(0,Bt.Z)(function*(n){const e=UR(n),r=yield(yield PR()).transaction(L_).objectStore(L_).get(e);if(r)return r;{const i=yield Tne(n.appConfig.senderId);if(i)return yield LR(n,i),i}}),OR.apply(this,arguments)}function LR(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,Bt.Z)(function*(n,e){const t=UR(n),i=(yield PR()).transaction(L_,"readwrite");return yield i.objectStore(L_).put(e,t),yield i.done,e}),RR.apply(this,arguments)}function Pne(n){return kR.apply(this,arguments)}function kR(){return kR=(0,Bt.Z)(function*(n){const e=UR(n),r=(yield PR()).transaction(L_,"readwrite");yield r.objectStore(L_).delete(e),yield r.done}),kR.apply(this,arguments)}function UR({appConfig:n}){return n.appId}const uc=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lne(n,e){return QR.apply(this,arguments)}function QR(){return QR=(0,Bt.Z)(function*(n,e){const t=yield KR(n),r=u7(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(jR(n.appConfig),i)).json()}catch(o){throw uc.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw uc.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw uc.create("token-subscribe-no-token");return s.token}),QR.apply(this,arguments)}function Rne(n,e){return HR.apply(this,arguments)}function HR(){return HR=(0,Bt.Z)(function*(n,e){const t=yield KR(n),r=u7(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${jR(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw uc.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw uc.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw uc.create("token-update-no-token");return s.token}),HR.apply(this,arguments)}function c7(n,e){return VR.apply(this,arguments)}function VR(){return VR=(0,Bt.Z)(function*(n,e){const r={method:"DELETE",headers:yield KR(n)};try{const s=yield(yield fetch(`${jR(n.appConfig)}/${e}`,r)).json();if(s.error)throw uc.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw uc.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}}),VR.apply(this,arguments)}function jR({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function KR(n){return GR.apply(this,arguments)}function GR(){return GR=(0,Bt.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),GR.apply(this,arguments)}function u7({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==s7&&(i.web.applicationPubKey=r),i}function Une(n){return WR.apply(this,arguments)}function WR(){return WR=(0,Bt.Z)(function*(n){const e=yield Hne(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:_m(e.getKey("auth")),p256dh:_m(e.getKey("p256dh"))},r=yield l7(n.firebaseDependencies);if(r){if(Vne(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Qne(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield c7(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return h7(n.firebaseDependencies,t)}return h7(n.firebaseDependencies,t)}),WR.apply(this,arguments)}function A7(n){return zR.apply(this,arguments)}function zR(){return zR=(0,Bt.Z)(function*(n){const e=yield l7(n.firebaseDependencies);e&&(yield c7(n.firebaseDependencies,e.token),yield Pne(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),zR.apply(this,arguments)}function Qne(n,e){return qR.apply(this,arguments)}function qR(){return qR=(0,Bt.Z)(function*(n,e){try{const t=yield Rne(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield LR(n.firebaseDependencies,r),t}catch(t){throw yield A7(n),t}}),qR.apply(this,arguments)}function h7(n,e){return $R.apply(this,arguments)}function $R(){return $R=(0,Bt.Z)(function*(n,e){const r={token:yield Lne(n,e),createTime:Date.now(),subscriptionOptions:e};return yield LR(n,r),r.token}),$R.apply(this,arguments)}function Hne(n,e){return YR.apply(this,arguments)}function YR(){return YR=(0,Bt.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xne(e)})}),YR.apply(this,arguments)}function Vne(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function d7(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function jne(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Kne(n,e){!e.data||(n.data=e.data)}(e,n),function Gne(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function Wne(n){return"object"==typeof n&&!!n&&o7 in n}function f7(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function ZR(n){return uc.create("missing-app-config-values",{valueName:n})}f7("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),f7("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qne{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function zne(n){if(!n||!n.options)throw ZR("App Configuration Object");if(!n.name)throw ZR("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw ZR(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function p7(n){return XR.apply(this,arguments)}function XR(){return XR=(0,Bt.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(bne,{scope:Cne}),n.swRegistration.update().catch(()=>{})}catch(e){throw uc.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}),XR.apply(this,arguments)}function $ne(n,e){return JR.apply(this,arguments)}function JR(){return JR=(0,Bt.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield p7(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw uc.create("invalid-sw-registration");n.swRegistration=e}}),JR.apply(this,arguments)}function Yne(n,e){return ek.apply(this,arguments)}function ek(){return ek=(0,Bt.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=s7)}),ek.apply(this,arguments)}function tk(){return tk=(0,Bt.Z)(function*(n,e){if(!navigator)throw uc.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw uc.create("permission-blocked");return yield Yne(n,null==e?void 0:e.vapidKey),yield $ne(n,null==e?void 0:e.serviceWorkerRegistration),Une(n)}),tk.apply(this,arguments)}function Zne(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,Bt.Z)(function*(n,e,t){const r=Xne(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[o7],message_name:t[Ine],message_time:t[Bne],message_device_time:Math.floor(Date.now()/1e3)})}),nk.apply(this,arguments)}function Xne(n){switch(n){case j1.NOTIFICATION_CLICKED:return"notification_open";case j1.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rk(){return rk=(0,Bt.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===j1.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(d7(t)):n.onMessageHandler.next(d7(t)));const r=t.data;Wne(r)&&"1"===r[Sne]&&(yield Zne(n,t.messageType,r))}),rk.apply(this,arguments)}const m7="@firebase/messaging",ere=n=>{const e=new qne(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Jne(n,e){return rk.apply(this,arguments)}(e,t)),e},tre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function g7(n,e){return tk.apply(this,arguments)}(e,r)}};function v7(){return ik.apply(this,arguments)}function ik(){return(ik=(0,Bt.Z)(function*(){try{yield(0,be.eu)()}catch(n){return!1}return"undefined"!=typeof window&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nre(){(0,Os._registerComponent)(new Fu.wA("messaging",ere,"PUBLIC")),(0,Os._registerComponent)(new Fu.wA("messaging-internal",tre,"PRIVATE")),(0,Os.registerVersion)(m7,"0.12.3"),(0,Os.registerVersion)(m7,"0.12.3","esm2017")}();var _7=U(579),sre=U(341),ak=U(353),JF=U(3334);const RB=new p.GfV("7.5.0"),lk="__angularfire_symbol__analyticsIsSupportedValue",ck="__angularfire_symbol__analyticsIsSupported",uk="__angularfire_symbol__remoteConfigIsSupportedValue",Ak="__angularfire_symbol__remoteConfigIsSupported",hk="__angularfire_symbol__messagingIsSupportedValue",dk="__angularfire_symbol__messagingIsSupported";globalThis[ck]||(globalThis[ck]=(0,_7.Gb)().then(n=>globalThis[lk]=n).catch(()=>globalThis[lk]=!1)),globalThis[dk]||(globalThis[dk]=v7().then(n=>globalThis[hk]=n).catch(()=>globalThis[hk]=!1)),globalThis[Ak]||(globalThis[Ak]=wne().then(n=>globalThis[uk]=n).catch(()=>globalThis[uk]=!1));function K1(){}class E7{constructor(e,t=sre.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class ore{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",K1,{},K1,K1)),t.pipe((0,b.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eM=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new E7(Zone.current)),this.insideAngular=t.run(()=>new E7(Zone.current,ak.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R_(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function gl(n){return R_(),function lre(n){return function(t){return(t=t.lift(new ore(n.ngZone))).pipe((0,JF.R)(n.outsideAngular),(0,V1.QV)(n.insideAngular))}}(R_())(n)}var Vl=U(2011),pk=U(6787),I7=U(2313);const mk=new Map,B7={activated:!1,tokenObservers:[]},fre={initialized:!1,enabled:!1};function Ac(n){return mk.get(n)||Object.assign({},B7)}function tM(){return fre}class _re{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Bt.Z)(function*(){t.stop();try{t.pending=new be.BH,yield function wre(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new be.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pu=new be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function x7(n){if(!Ac(n).activated)throw Pu.create("use-before-activation",{appName:n.name})}function _k(n,e){return wk.apply(this,arguments)}function wk(){return wk=(0,Bt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const y=yield i.getHeartbeatsHeader();y&&(r["X-Firebase-Client"]=y)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(y){throw Pu.create("fetch-network-error",{originalErrorMessage:null==y?void 0:y.message})}if(200!==o.status)throw Pu.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(y){throw Pu.create("fetch-parse-error",{originalErrorMessage:null==y?void 0:y.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Pu.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const h=1e3*Number(u[1]),f=Date.now();return{token:a.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}}),wk.apply(this,arguments)}function Ire(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const UB="firebase-app-check-store";let iM=null;function T7(){return iM||(iM=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Pu.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(UB,{keyPath:"compositeKey"})}}catch(t){e(Pu.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),iM)}function bk(){return bk=(0,Bt.Z)(function*(n,e){const r=(yield T7()).transaction(UB,"readwrite"),s=r.objectStore(UB).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var h;a(Pu.create("storage-set",{originalErrorMessage:null===(h=u.target.error)||void 0===h?void 0:h.message}))}})}),bk.apply(this,arguments)}const QB=new kc.Yd("@firebase/app-check");function Ik(n,e){return(0,be.hl)()?function Dre(n,e){return function F7(n,e){return bk.apply(this,arguments)}(function N7(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{QB.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function P7(){return tM().enabled}function O7(){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Bt.Z)(function*(){const n=tM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Sk.apply(this,arguments)}const Ore={error:"UNKNOWN_ERROR"};function Lre(n){return be.US.encodeString(JSON.stringify(n),!1)}function sM(n){return xk.apply(this,arguments)}function xk(){return xk=(0,Bt.Z)(function*(n,e=!1){const t=n.app;x7(t);const r=Ac(t);let s,i=r.token;if(i&&!G1(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(G1(u)?i=u:yield Ik(t,void 0))}if(!e&&i&&G1(i))return{token:i.token};let a,o=!1;if(P7()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_k(Ire(t,yield O7()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield Ik(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ac(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?QB.warn(u.message):QB.error(u),s=u}return i?s?a=G1(i)?{token:i.token,internalError:s}:k7(s):(a={token:i.token},r.token=i,yield Ik(t,i)):a=k7(s),o&&R7(t,a),a}),xk.apply(this,arguments)}function Tk(n,e){const t=Ac(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function L7(n){const{app:e}=n,t=Ac(e);let r=t.tokenRefresher;r||(r=function Rre(n){const{app:e}=n;return new _re((0,Bt.Z)(function*(){let r;if(r=Ac(e).token?yield sM(n,!0):yield sM(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ac(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function R7(n,e){const t=Ac(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function G1(n){return n.expireTimeMillis-Date.now()>0}function k7(n){return{token:Lre(Ore),error:n}}class kre{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ac(this.app);for(const t of e)Tk(this.app,t.next);return Promise.resolve()}}const W7="app-check-internal";!function Xre(){(0,Os._registerComponent)(new Fu.wA("app-check",n=>function Ure(n,e){return new kre(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(W7).initialize()})),(0,Os._registerComponent)(new Fu.wA(W7,n=>function Qre(n){return{getToken:e=>sM(n,e),addTokenListener:e=>function Dk(n,e,t,r){const{app:i}=n,s=Ac(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&G1(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),L7(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>L7(n))}(n,"INTERNAL",e),removeTokenListener:e=>Tk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Os.registerVersion)("@firebase/app-check","0.6.3")}();class aM{constructor(){return((n,e)=>{const t=e?[e]:(0,Os.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})("app-check")}}"undefined"!=typeof window&&window;var HB=U(9260);const Ok=new p.OlP("angularfire2.auth.use-emulator"),Lk=new p.OlP("angularfire2.auth.settings"),Rk=new p.OlP("angularfire2.auth.tenant-id"),kk=new p.OlP("angularfire2.auth.langugage-code"),Uk=new p.OlP("angularfire2.auth.use-device-language"),Qk=new p.OlP("angularfire.auth.persistence"),Hk=(n,e,t,r,i,s,o,a)=>(0,Vl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[h,f]of Object.entries(o))u.settings[h]=f;return a&&u.setPersistence(a),u},[t,r,i,s,o,a]);let lM=(()=>{class n{constructor(t,r,i,s,o,a,u,h,f,y,I,C){const P=new xp.xQ,L=(0,Ue.of)(void 0).pipe((0,V1.QV)(o.outsideAngular),(0,la.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,407)))),(0,en.U)(()=>(0,Vl.on)(t,s,r)),(0,en.U)(V=>Hk(V,s,a,h,f,y,u,I)),(0,ER.d)({bufferSize:1,refCount:!1}));if(Zc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{L.pipe((0,dA.P)()).subscribe();const j=L.pipe((0,la.w)(ve=>ve.getRedirectResult().then(Se=>Se,()=>null)),gl,(0,ER.d)({bufferSize:1,refCount:!1})),z=L.pipe((0,la.w)(ve=>new Ot.y(Se=>({unsubscribe:s.runOutsideAngular(()=>ve.onAuthStateChanged(Ve=>Se.next(Ve),Ve=>Se.error(Ve),()=>Se.complete()))})))),se=L.pipe((0,la.w)(ve=>new Ot.y(Se=>({unsubscribe:s.runOutsideAngular(()=>ve.onIdTokenChanged(Ve=>Se.next(Ve),Ve=>Se.error(Ve),()=>Se.complete()))}))));this.authState=j.pipe((0,I7.c)(z),(0,JF.R)(o.outsideAngular),(0,V1.QV)(o.insideAngular)),this.user=j.pipe((0,I7.c)(se),(0,JF.R)(o.outsideAngular),(0,V1.QV)(o.insideAngular)),this.idToken=this.user.pipe((0,la.w)(ve=>ve?(0,$o.D)(ve.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe((0,la.w)(ve=>ve?(0,$o.D)(ve.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,pk.T)(j,P,this.authState.pipe((0,wn.h)(ve=>!ve))).pipe((0,en.U)(ve=>(null==ve?void 0:ve.user)?ve:null),(0,JF.R)(o.outsideAngular),(0,V1.QV)(o.insideAngular))}return(0,Vl.pX)(this,L,s,{spy:{apply:(V,j,z)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&z.then(se=>P.next(se))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Vl.Dh),p.LFG(Vl.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(eM),p.LFG(Ok,8),p.LFG(Lk,8),p.LFG(Rk,8),p.LFG(kk,8),p.LFG(Uk,8),p.LFG(Qk,8),p.LFG(aM,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var iie=U(4002),Vk=U(5778),cM=U(519);const $7="firebase_screen_id",Kk="outlet",VB="screen_class",Y7="screen_name";let gie=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Gk={},mie=n=>{const e=[n[VB],n[Kk]].join("#");if(Gk.hasOwnProperty(e))return Gk[e];{const t=gie++;return Gk[e]=t,t}},Cie=new p.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Eie=new p.OlP("angularfire2.analytics.appVersion"),Iie=new p.OlP("angularfire2.analytics.appName"),Bie=new p.OlP("angularfire2.analytics.debugMode"),Sie=new p.OlP("angularfire2.analytics.config"),uM="dataLayer";let jB=(()=>{class n{constructor(t,r,i,s,o,a,u,h,f){if(this.analyticsInitialized=new Promise(()=>{}),function va(n){return n===wc}(u)){window[uM]=window[uM]||[];const I=(...L)=>"config"===L[0]&&"firebase"===L[2].origin&&(this.measurementId=L[1],!0),C=L=>{window.gtag=(...V)=>{L&&L(...V),"event"===V[0]&&V[2].send_to===this.measurementId&&(s&&(V[2].app_name=s),i&&(V[2].app_version=i)),o&&"undefined"!=typeof console&&console.info(...V),function(...j){window[uM].push(arguments)}(...V)}};window[uM].some(I)?(this.analyticsInitialized=Promise.resolve(),C()):this.analyticsInitialized=new Promise(L=>{C((...V)=>{I(...V)&&L()})}),a&&this.updateConfig(a),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const y=(0,Ue.of)(void 0).pipe((0,V1.QV)(f.outsideAngular),(0,la.w)(_7.Gb),(0,la.w)(I=>I?h.runOutsideAngular(()=>U.e(814).then(U.bind(U,3814))):Sp.E),(0,en.U)(()=>(0,Vl.cc)("analytics","AngularFireAnalytics",t.name,()=>{const I=t.analytics();return!1===r&&I.setAnalyticsCollectionEnabled(!1),I},[t,r,a,o])),(0,ER.d)({bufferSize:1,refCount:!1}));return(0,Vl.pX)(this,y,h)}updateConfig(t){return(0,W.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Vl.Ot),p.LFG(Cie,8),p.LFG(Eie,8),p.LFG(Iie,8),p.LFG(Bie,8),p.LFG(Sie,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(eM))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),X7=(()=>{class n{constructor(t,r,i,s){if(this.disposables=[],HB.Z.registerVersion("angularfire",RB.full,"compat-user-tracking"),Zc(r))this.initialized=Promise.resolve();else{let o;this.initialized=s.runOutsideAngular(()=>new Promise(a=>o=a)),this.disposables=[i.authState.subscribe(a=>{t.setUserId(null==a?void 0:a.uid),o()}),i.credential.subscribe(a=>{if(a){const u=a.user.isAnonymous?"anonymous":a.additionalUserInfo.providerId;a.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:u}),t.logEvent("login",{method:u})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(jB),p.LFG(p.Lbi),p.LFG(lM),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Pie=(()=>{class n{constructor(t,r,i,s,o,a){if(HB.Z.registerVersion("angularfire",RB.full,"compat-screen-tracking"),!r||!t)return this;o.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe((0,wn.h)(i=>i instanceof xr)).pipe((0,la.w)(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,C=>C.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",u=n.routerState.root.children.map(C=>C).find(C=>C.outlet===i.snapshot.outlet);if(!u)return(0,Ue.of)(null);let h=u;for(;h.firstChild;)h=h.firstChild;const f=h.pathFromRoot.map(C=>{var P;return null===(P=C.routeConfig)||void 0===P?void 0:P.path}).filter(C=>C).join("/")||"/",y={[Y7]:f,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:f,[Kk]:i.snapshot.outlet};e&&(y.page_title=e.getTitle());let I=u.component;if(I){if(I===Iv){let C=i.snapshot;for(;C.firstChild;)C=C.firstChild;I=C.component}}else I=i.snapshot.component;if("string"==typeof I)return(0,Ue.of)(Object.assign(Object.assign({},y),{[VB]:I}));if(I){const C=t.resolveComponentFactory(I);return(0,Ue.of)(Object.assign(Object.assign({},y),{[VB]:C.selector}))}return(0,Ue.of)(null)}),(0,wn.h)(i=>!!i),(0,en.U)(i=>Object.assign({firebase_screen_class:i[VB],[$7]:mie(i)},i)),(0,iie.v)(i=>i[Kk]),(0,E.zg)(i=>i.pipe((0,Vk.x)((s,o)=>JSON.stringify(s)===JSON.stringify(o)),(0,Fr.O)(void 0),(0,cM.G)(),(0,en.U)(([s,o])=>s?Object.assign({firebase_previous_class:s[VB],firebase_previous_screen:s[Y7],firebase_previous_id:s[$7]},o):o)))))(r,i,s).pipe((0,la.w)(u=>(0,W.mG)(this,void 0,void 0,function*(){return a&&(yield a.initialized),yield t.logEvent("screen_view",u)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(jB),p.LFG(Yo,8),p.LFG(LA,8),p.LFG(p._Vd),p.LFG(p.R0b),p.LFG(X7,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Oie=(()=>{class n{constructor(t,r,i){HB.Z.registerVersion("angularfire",RB.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(jB),p.LFG(Pie,8),p.LFG(X7,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[jB]}),n})();U(407);var hr,J7=U(3942),Lie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wm={},zk=zk||{},qr=Lie||self;function AM(){}function hM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function KB(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qk="closure_uid_"+(1e9*Math.random()>>>0),kie=0;function Uie(n,e,t){return n.call.apply(n.bind,arguments)}function Qie(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Kc(n,e,t){return(Kc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uie:Qie).apply(null,arguments)}function dM(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hc(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _0(){this.s=this.s,this.o=this.o}_0.prototype.s=!1,_0.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Rie(n){Object.prototype.hasOwnProperty.call(n,qk)&&n[qk]||(n[qk]=++kie)}(this)},_0.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ej=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $k(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tj(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(hM(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Gc(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gc.prototype.h=function(){this.defaultPrevented=!0};var Vie=function(){if(!qr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qr.addEventListener("test",AM,e),qr.removeEventListener("test",AM,e)}catch(t){}return n}();function fM(n){return/^[\s\xa0]*$/.test(n)}var nj=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yk(n,e){return n<e?-1:n>e?1:0}function pM(){var n=qr.navigator;return n&&(n=n.userAgent)?n:""}function Xp(n){return-1!=pM().indexOf(n)}function Zk(n){return Zk[" "](n),n}Zk[" "]=AM;var gM,Kie=Xp("Opera"),W1=Xp("Trident")||Xp("MSIE"),rj=Xp("Edge"),Xk=rj||W1,ij=Xp("Gecko")&&!(-1!=pM().toLowerCase().indexOf("webkit")&&!Xp("Edge"))&&!(Xp("Trident")||Xp("MSIE"))&&!Xp("Edge"),Gie=-1!=pM().toLowerCase().indexOf("webkit")&&!Xp("Edge");function sj(){var n=qr.document;return n?n.documentMode:void 0}e:{var Jk="",eU=function(){var n=pM();return ij?/rv:([^\);]+)(\)|;)/.exec(n):rj?/Edge\/([\d\.]+)/.exec(n):W1?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Gie?/WebKit\/(\S+)/.exec(n):Kie?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(eU&&(Jk=eU?eU[1]:""),W1){var tU=sj();if(null!=tU&&tU>parseFloat(Jk)){gM=String(tU);break e}}gM=Jk}var Wie={};var qie=qr.document&&W1&&(sj()||parseInt(gM,10))||void 0;function GB(n,e){if(Gc.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ij){e:{try{Zk(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:$ie[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&GB.X.h.call(this)}}hc(GB,Gc);var $ie={2:"touch",3:"pen",4:"mouse"};GB.prototype.h=function(){GB.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var WB="closure_listenable_"+(1e6*Math.random()|0),Yie=0;function Zie(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Yie,this.ba=this.ea=!1}function mM(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function rU(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function aj(n){const e={};for(const t in n)e[t]=n[t];return e}const lj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cj(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<lj.length;s++)t=lj[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yM(n){this.src=n,this.g={},this.h=0}function iU(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=ej(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mM(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function sU(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}yM.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=sU(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new Zie(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var oU="closure_lm_"+(1e6*Math.random()|0),aU={};function uj(n,e,t,r,i){if(r&&r.once)return hj(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uj(n,e[s],t,r,i);return null}return t=AU(t),n&&n[WB]?n.N(e,t,KB(r)?!!r.capture:!!r,i):Aj(n,e,t,!1,r,i)}function Aj(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=KB(i)?!!i.capture:!!i,a=cU(n);if(a||(n[oU]=a=new yM(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Xie(){const e=Jie;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Vie||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fj(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hj(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)hj(n,e[s],t,r,i);return null}return t=AU(t),n&&n[WB]?n.O(e,t,KB(r)?!!r.capture:!!r,i):Aj(n,e,t,!0,r,i)}function dj(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dj(n,e[s],t,r,i);else r=KB(r)?!!r.capture:!!r,t=AU(t),n&&n[WB]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=sU(s=n.g[e],t,r,i))&&(mM(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=cU(n))&&(e=n.g[e.toString()],n=-1,e&&(n=sU(e,t,r,i)),(t=-1<n?e[n]:null)&&lU(t))}function lU(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[WB])iU(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fj(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=cU(e))?(iU(t,n),0==t.h&&(t.src=null,e[oU]=null)):mM(n)}}}function fj(n){return n in aU?aU[n]:aU[n]="on"+n}function Jie(n,e){if(n.ba)n=!0;else{e=new GB(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&lU(n),n=t.call(r,e)}return n}function cU(n){return(n=n[oU])instanceof yM?n:null}var uU="__closure_events_fn_"+(1e9*Math.random()>>>0);function AU(n){return"function"==typeof n?n:(n[uU]||(n[uU]=function(e){return n.handleEvent(e)}),n[uU])}function jl(){_0.call(this),this.i=new yM(this),this.P=this,this.I=null}function dc(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Gc(e,n);else if(e instanceof Gc)e.target=e.target||n;else{var i=e;cj(e=new Gc(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=vM(o,r,!0,e)&&i}if(i=vM(o=e.g=n,r,!0,e)&&i,i=vM(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=vM(o=e.g=t[s],r,!1,e)&&i}function vM(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,u=o.ha||o.src;o.ea&&iU(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}hc(jl,_0),jl.prototype[WB]=!0,jl.prototype.removeEventListener=function(n,e,t,r){dj(this,n,e,t,r)},jl.prototype.M=function(){if(jl.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)mM(t[r]);delete n.g[e],n.h--}}this.I=null},jl.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jl.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var hU=qr.JSON.stringify;function ese(){var n=mj;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dU,pj=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nse,n=>n.reset());class nse{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rse(n){qr.setTimeout(()=>{throw n},0)}function gj(n,e){dU||function ise(){var n=qr.Promise.resolve(void 0);dU=function(){n.then(sse)}}(),fU||(dU(),fU=!0),mj.add(n,e)}var fU=!1,mj=new class tse{constructor(){this.h=this.g=null}add(e,t){const r=pj.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function sse(){for(var n;n=ese();){try{n.h.call(n.g)}catch(t){rse(t)}var e=pj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}fU=!1}function _M(n,e){jl.call(this),this.h=n||1,this.g=e||qr,this.j=Kc(this.lb,this),this.l=Date.now()}function pU(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function gU(n,e,t){if("function"==typeof n)t&&(n=Kc(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kc(n.handleEvent,n)}return 2147483647<Number(e)?-1:qr.setTimeout(n,e||0)}function yj(n){n.g=gU(()=>{n.g=null,n.i&&(n.i=!1,yj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hc(_M,jl),(hr=_M.prototype).ca=!1,hr.R=null,hr.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),dc(this,"tick"),this.ca&&(pU(this),this.start()))}},hr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hr.M=function(){_M.X.M.call(this),pU(this),delete this.g};class ose extends _0{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yj(this)}M(){super.M(),this.g&&(qr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zB(n){_0.call(this),this.h=n,this.g={}}hc(zB,_0);var vj=[];function _j(n,e,t,r){Array.isArray(t)||(t&&(vj[0]=t.toString()),t=vj);for(var i=0;i<t.length;i++){var s=uj(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function wj(n){rU(n.g,function(e,t){this.g.hasOwnProperty(t)&&lU(e)},n),n.g={}}function wM(){this.g=!0}function z1(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function use(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return hU(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}zB.prototype.M=function(){zB.X.M.call(this),wj(this)},zB.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wM.prototype.Aa=function(){this.g=!1},wM.prototype.info=function(){};var U_={},bj=null;function bM(){return bj=bj||new jl}function Cj(n){Gc.call(this,U_.Pa,n)}function qB(n){const e=bM();dc(e,new Cj(e))}function Ej(n,e){Gc.call(this,U_.STAT_EVENT,n),this.stat=e}function Ou(n){const e=bM();dc(e,new Ej(e,n))}function Ij(n,e){Gc.call(this,U_.Qa,n),this.size=e}function $B(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qr.setTimeout(function(){n()},e)}U_.Pa="serverreachability",hc(Cj,Gc),U_.STAT_EVENT="statevent",hc(Ej,Gc),U_.Qa="timingevent",hc(Ij,Gc);var CM={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Bj={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function mU(){}function xj(){}mU.prototype.h=null;var _U,YB={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yU(){Gc.call(this,"d")}function vU(){Gc.call(this,"c")}function EM(){}function ZB(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new zB(this),this.O=Ase,this.T=new _M(n=Xk?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Dj}function Dj(){this.i=null,this.g="",this.h=!1}hc(yU,Gc),hc(vU,Gc),hc(EM,mU),EM.prototype.g=function(){return new XMLHttpRequest},EM.prototype.i=function(){return{}},_U=new EM;var Ase=45e3,wU={},IM={};function bU(n,e,t){n.K=1,n.v=DM(bm(e)),n.s=t,n.P=!0,Tj(n,null)}function Tj(n,e){n.F=Date.now(),XB(n),n.A=bm(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Qj(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Dj,n.g=uK(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ose(Kc(n.La,n,n.g),n.N)),_j(n.S,n.g,"readystatechange",n.ib),e=n.H?aj(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),qB(),function ase(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var h=a[u].split("=");if(1<h.length){var f=h[0];h=h[1];var y=f.split("_");o=2<=y.length&&"type"==y[1]?o+(f+"=")+h+"&":o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Fj(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Mj(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=hse(n,t),i==IM){4==e&&(n.o=4,Ou(14),r=!1),z1(n.j,n.m,null,"[Incomplete Response]");break}if(i==wU){n.o=4,Ou(15),z1(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}z1(n.j,n.m,i,null),CU(n,i)}Fj(n)&&i!=IM&&i!=wU&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ou(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),FU(e),e.K=!0,Ou(11))):(z1(n.j,n.m,t,"[Invalid Chunked Response]"),Q_(n),JB(n))}function hse(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?IM:(t=Number(e.substring(t,r)),isNaN(t)?wU:(r+=1)+t>e.length?IM:(e=e.substr(r,t),n.C=r+t,e))}function XB(n){n.V=Date.now()+n.O,Nj(n,n.O)}function Nj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$B(Kc(n.gb,n),e)}function BM(n){n.B&&(qr.clearTimeout(n.B),n.B=null)}function JB(n){0==n.l.G||n.I||oK(n.l,n)}function Q_(n){BM(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,pU(n.T),wj(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function CU(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||EU(t.h,n)))if(!n.J&&EU(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(h){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=$B(Kc(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;OM(t),NM(t)}TU(t),Ou(18)}if(1>=jj(t.h)&&t.ja){try{t.ja()}catch(h){}t.ja=void 0}}else V_(t,11)}else if((n.J||t.g==n)&&OM(t),!fM(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(t.T=h[0],h=h[1],2==t.G)if("c"==h[0]){t.I=h[1],t.ka=h[2];const f=h[3];null!=f&&(t.ma=f,t.j.info("VER="+t.ma));const y=h[4];null!=y&&(t.Ca=y,t.j.info("SVER="+t.Ca));const I=h[5];null!=I&&"number"==typeof I&&0<I&&(t.J=r=1.5*I,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const C=n.g;if(C){const P=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=r.h;s.g||-1==P.indexOf("spdy")&&-1==P.indexOf("quic")&&-1==P.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(IU(s,s.h),s.h=null))}if(r.D){const L=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;L&&(r.za=L,ko(r.F,r.D,L))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=cK(r,r.H?r.ka:null,r.V),o.J){Kj(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(BM(a),XB(a)),r.g=o}else iK(r);0<t.i.length&&PM(t)}else"stop"!=h[0]&&"close"!=h[0]||V_(t,7);else 3==t.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?V_(t,7):DU(t):"noop"!=h[0]&&t.l&&t.l.wa(h),t.A=0)}qB()}catch(h){}}function Pj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hM(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fse(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(hM(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function dse(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(hM(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(hr=ZB.prototype).setTimeout=function(n){this.O=n},hr.ib=function(n){n=n.target;const e=this.L;e&&3==Cm(n)?e.l():this.La(n)},hr.La=function(n){try{if(n==this.g)e:{const f=Cm(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>f)&&(3!=f||Xk||this.g&&(this.h.h||this.g.fa()||Xj(this.g)))){this.I||4!=f||7==e||qB(),BM(this);var t=this.g.aa();this.Y=t;t:if(Fj(this)){var r=Xj(this.g);n="";var i=r.length,s=4==Cm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Q_(this),JB(this);var o="";break t}this.h.i=new qr.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function lse(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,f,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fM(a)){var h=a;break t}}h=null}if(!(t=h)){this.i=!1,this.o=3,Ou(12),Q_(this),JB(this);break e}z1(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,CU(this,t)}this.P?(Mj(this,f,o),Xk&&this.i&&3==f&&(_j(this.S,this.T,"tick",this.hb),this.T.start())):(z1(this.j,this.m,o,null),CU(this,o)),4==f&&Q_(this),this.i&&!this.I&&(4==f?oK(this.l,this):(this.i=!1,XB(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Ou(12)):(this.o=0,Ou(13)),Q_(this),JB(this)}}}catch(f){}},hr.hb=function(){if(this.g){var n=Cm(this.g),e=this.g.fa();this.C<e.length&&(BM(this),Mj(this,n,e),this.i&&4!=n&&XB(this))}},hr.cancel=function(){this.I=!0,Q_(this)},hr.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function cse(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(qB(),Ou(17)),Q_(this),this.o=2,JB(this)):Nj(this,this.V-n)};var Oj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H_(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof H_){this.h=void 0!==e?e:n.h,SM(this,n.j),this.s=n.s,this.g=n.g,xM(this,n.m),this.l=n.l,e=n.i;var t=new nS;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Lj(this,t),this.o=n.o}else n&&(t=String(n).match(Oj))?(this.h=!!e,SM(this,t[1]||"",!0),this.s=eS(t[2]||""),this.g=eS(t[3]||"",!0),xM(this,t[4]),this.l=eS(t[5]||"",!0),Lj(this,t[6]||"",!0),this.o=eS(t[7]||"")):(this.h=!!e,this.i=new nS(null,this.h))}function bm(n){return new H_(n)}function SM(n,e,t){n.j=t?eS(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xM(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Lj(n,e,t){e instanceof nS?(n.i=e,function wse(n,e){e&&!n.j&&(w0(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(kj(this,r),Qj(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=tS(e,vse)),n.i=new nS(e,n.h))}function ko(n,e,t){n.i.set(e,t)}function DM(n){return ko(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eS(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tS(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gse),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gse(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}H_.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tS(e,Rj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tS(e,Rj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(tS(t,"/"==t.charAt(0)?yse:mse,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tS(t,_se)),n.join("")};var Rj=/[#\/\?@]/g,mse=/[#\?:]/g,yse=/[#\?]/g,vse=/[#\?@]/g,_se=/#/g;function nS(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function w0(n){n.g||(n.g=new Map,n.h=0,n.i&&function pse(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kj(n,e){w0(n),e=q1(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Uj(n,e){return w0(n),e=q1(n,e),n.g.has(e)}function Qj(n,e,t){kj(n,e),0<t.length&&(n.i=null,n.g.set(q1(n,e),$k(t)),n.h+=t.length)}function q1(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Hj(n){this.l=n||Cse,n=qr.PerformanceNavigationTiming?0<(n=qr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qr.g&&qr.g.Ga&&qr.g.Ga()&&qr.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(hr=nS.prototype).add=function(n,e){w0(this),this.i=null,n=q1(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},hr.forEach=function(n,e){w0(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},hr.oa=function(){w0(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},hr.W=function(n){w0(this);let e=[];if("string"==typeof n)Uj(this,n)&&(e=e.concat(this.g.get(q1(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},hr.set=function(n,e){return w0(this),this.i=null,Uj(this,n=q1(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},hr.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},hr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Cse=10;function Vj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jj(n){return n.h?1:n.g?n.g.size:0}function EU(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function IU(n,e){n.g?n.g.add(e):n.h=e}function Kj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gj(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $k(n.i)}function BU(){}function Ese(){this.g=new BU}function Ise(n,e,t){const r=t||"";try{Pj(n,function(i,s){let o=i;KB(i)&&(o=hU(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function TM(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function rS(n){this.l=n.ac||null,this.j=n.jb||!1}function FM(n,e){jl.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=SU,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hj.prototype.cancel=function(){if(this.i=Gj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},BU.prototype.stringify=function(n){return qr.JSON.stringify(n,void 0)},BU.prototype.parse=function(n){return qr.JSON.parse(n,void 0)},hc(rS,mU),rS.prototype.g=function(){return new FM(this.l,this.j)},rS.prototype.i=function(n){return function(){return n}}({}),hc(FM,jl);var SU=0;function Wj(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function iS(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sS(n)}function sS(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(hr=FM.prototype).open=function(n,e){if(this.readyState!=SU)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sS(this)},hr.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qr).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},hr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iS(this)),this.readyState=SU},hr.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sS(this)),this.g&&(this.readyState=3,sS(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==qr.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wj(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},hr.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?iS(this):sS(this),3==this.readyState&&Wj(this)}},hr.Va=function(n){this.g&&(this.response=this.responseText=n,iS(this))},hr.Ua=function(n){this.g&&(this.response=n,iS(this))},hr.ga=function(){this.g&&iS(this)},hr.setRequestHeader=function(n,e){this.v.append(n,e)},hr.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},hr.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(FM.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Sse=qr.JSON.parse;function Aa(n){jl.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zj,this.K=this.L=!1}hc(Aa,jl);var zj="",xse=/^https?$/i,Dse=["POST","PUT"];function qj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$j(n),MM(n)}function $j(n){n.D||(n.D=!0,dc(n,"complete"),dc(n,"error"))}function Yj(n){if(n.h&&void 0!==zk&&(!n.C[1]||4!=Cm(n)||2!=n.aa()))if(n.v&&4==Cm(n))gU(n.Ha,0,n);else if(dc(n,"readystatechange"),4==Cm(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(Oj)[1]||null;if(!i&&qr.self&&qr.self.location){var s=qr.self.location.protocol;i=s.substr(0,s.length-1)}r=!xse.test(i?i.toLowerCase():"")}t=r}if(t)dc(n,"complete"),dc(n,"success");else{n.m=6;try{var o=2<Cm(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.aa()+"]",$j(n)}}finally{MM(n)}}}function MM(n,e){if(n.g){Zj(n);const t=n.g,r=n.C[0]?AM:null;n.g=null,n.C=null,e||dc(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Zj(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qr.clearTimeout(n.A),n.A=null)}function Cm(n){return n.g?n.g.readyState:0}function Xj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Jj(n){let e="";return rU(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function xU(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Jj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ko(n,e,t))}function oS(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eK(n){this.Ca=0,this.i=[],this.j=new wM,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=oS("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=oS("baseRetryDelayMs",5e3,n),this.bb=oS("retryDelaySeedMs",1e4,n),this.$a=oS("forwardChannelMaxRetries",2,n),this.ta=oS("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Hj(n&&n.concurrentRequestLimit),this.Fa=new Ese,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function DU(n){if(tK(n),3==n.G){var e=n.U++,t=bm(n.F);ko(t,"SID",n.I),ko(t,"RID",e),ko(t,"TYPE","terminate"),aS(n,t),(e=new ZB(n,n.j,e,void 0)).K=2,e.v=DM(bm(t)),t=!1,qr.navigator&&qr.navigator.sendBeacon&&(t=qr.navigator.sendBeacon(e.v.toString(),"")),!t&&qr.Image&&((new Image).src=e.v,t=!0),t||(e.g=uK(e.l,null),e.g.da(e.v)),e.F=Date.now(),XB(e)}lK(n)}function NM(n){n.g&&(FU(n),n.g.cancel(),n.g=null)}function tK(n){NM(n),n.u&&(qr.clearTimeout(n.u),n.u=null),OM(n),n.h.cancel(),n.m&&("number"==typeof n.m&&qr.clearTimeout(n.m),n.m=null)}function PM(n){Vj(n.h)||n.m||(n.m=!0,gj(n.Ja,n),n.C=0)}function nK(n,e){var t;t=e?e.m:n.U++;const r=bm(n.F);ko(r,"SID",n.I),ko(r,"RID",t),ko(r,"AID",n.T),aS(n,r),n.o&&n.s&&xU(r,n.o,n.s),t=new ZB(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=rK(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),IU(n.h,t),bU(t,r,e)}function aS(n,e){n.ia&&rU(n.ia,function(t,r){ko(e,r,t)}),n.l&&Pj({},function(t,r){ko(e,r,t)})}function rK(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Kc(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let h=i[u].h;const f=i[u].g;if(h-=s,0>h)s=Math.max(0,i[u].h-100),a=!1;else try{Ise(f,o,"req"+h+"_")}catch(y){r&&r(f)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function iK(n){n.g||n.u||(n.Z=1,gj(n.Ia,n),n.A=0)}function TU(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=$B(Kc(n.Ia,n),aK(n,n.A)),n.A++,0))}function FU(n){null!=n.B&&(qr.clearTimeout(n.B),n.B=null)}function sK(n){n.g=new ZB(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=bm(n.sa);ko(e,"RID","rpc"),ko(e,"SID",n.I),ko(e,"CI",n.L?"0":"1"),ko(e,"AID",n.T),ko(e,"TYPE","xmlhttp"),aS(n,e),n.o&&n.s&&xU(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=DM(bm(e)),t.s=null,t.P=!0,Tj(t,n)}function OM(n){null!=n.v&&(qr.clearTimeout(n.v),n.v=null)}function oK(n,e){var t=null;if(n.g==e){OM(n),FU(n),n.g=null;var r=2}else{if(!EU(n.h,e))return;t=e.D,Kj(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;dc(r=bM(),new Ij(r,t)),PM(n)}else iK(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Fse(n,e){return!(jj(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=$B(Kc(n.Ja,n,e),aK(n,n.C)),n.C++,0)))}(n,e)||2==r&&TU(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:V_(n,5);break;case 4:V_(n,10);break;case 3:V_(n,6);break;default:V_(n,2)}}function aK(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function V_(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Kc(n.kb,n);t||(t=new H_("//www.google.com/images/cleardot.gif"),qr.location&&"http"==qr.location.protocol||SM(t,"https"),DM(t)),function Bse(n,e){const t=new wM;if(qr.Image){const r=new Image;r.onload=dM(TM,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dM(TM,t,r,"TestLoadImage: error",!1,e),r.onabort=dM(TM,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dM(TM,t,r,"TestLoadImage: timeout",!1,e),qr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ou(2);n.G=0,n.l&&n.l.va(e),lK(n),tK(n)}function lK(n){if(n.G=0,n.la=[],n.l){const e=Gj(n.h);(0!=e.length||0!=n.i.length)&&(tj(n.la,e),tj(n.la,n.i),n.h.i.length=0,$k(n.i),n.i.length=0),n.l.ua()}}function cK(n,e,t){var r=t instanceof H_?bm(t):new H_(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),xM(r,r.m);else{var i=qr.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new H_(null,void 0);r&&SM(s,r),e&&(s.g=e),i&&xM(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&ko(r,t,e),ko(r,"VER",n.ma),aS(n,r),r}function uK(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Aa(t&&n.Da&&!n.ra?new rS({jb:!0}):n.ra)).Ka(n.H),e}function AK(){}function LM(){if(W1&&!(10<=Number(qie)))throw Error("Environmental error: no available transport.")}function gh(n,e){jl.call(this),this.g=new eK(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!fM(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fM(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $1(this)}function hK(n){yU.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dK(){vU.call(this),this.status=1}function $1(n){this.g=n}(hr=Aa.prototype).Ka=function(n){this.L=n},hr.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_U.g(),this.C=function Sj(n){return n.h||(n.h=n.i())}(this.u?this.u:_U),this.g.onreadystatechange=Kc(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void qj(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=qr.FormData&&n instanceof qr.FormData,!(0<=ej(Dse,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zj(this),0<this.B&&((this.K=function Tse(n){return W1&&function zie(){return function jie(n){var e=Wie;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=nj(String(gM)).split("."),t=nj("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Yk(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Yk(0==i[2].length,0==s[2].length)||Yk(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kc(this.qa,this)):this.A=gU(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){qj(this,s)}},hr.qa=function(){void 0!==zk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dc(this,"timeout"),this.abort(8))},hr.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,dc(this,"complete"),dc(this,"abort"),MM(this))},hr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),MM(this,!0)),Aa.X.M.call(this)},hr.Ha=function(){this.s||(this.F||this.v||this.l?Yj(this):this.fb())},hr.fb=function(){Yj(this)},hr.aa=function(){try{return 2<Cm(this)?this.g.status:-1}catch(n){return-1}},hr.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},hr.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Sse(e)}},hr.Ea=function(){return this.m},hr.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(hr=eK.prototype).ma=8,hr.G=1,hr.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new ZB(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=aj(s),cj(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rK(this,i,e),ko(t=bm(this.F),"RID",n),ko(t,"CVER",22),this.D&&ko(t,"X-HTTP-Session-Id",this.D),aS(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(Jj(s)))+"&"+e:this.o&&xU(t,this.o,s)),IU(this.h,i),this.Ya&&ko(t,"TYPE","init"),this.O?(ko(t,"$req",e),ko(t,"SID","null"),i.Z=!0,bU(i,t,null)):bU(i,t,e),this.G=2}}else 3==this.G&&(n?nK(this,n):0==this.i.length||Vj(this.h)||nK(this))},hr.Ia=function(){if(this.u=null,sK(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=$B(Kc(this.eb,this),n)}},hr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ou(10),NM(this),sK(this))},hr.cb=function(){null!=this.v&&(this.v=null,NM(this),TU(this),Ou(19))},hr.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ou(2)):(this.j.info("Failed to ping google.com"),Ou(1))},(hr=AK.prototype).xa=function(){},hr.wa=function(){},hr.va=function(){},hr.ua=function(){},hr.Ra=function(){},LM.prototype.g=function(n,e){return new gh(n,e)},hc(gh,jl),gh.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ou(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=cK(n,null,n.V),PM(n)},gh.prototype.close=function(){DU(this.g)},gh.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=hU(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&PM(e)},gh.prototype.M=function(){this.g.l=null,delete this.j,DU(this.g),delete this.g,gh.X.M.call(this)},hc(hK,yU),hc(dK,vU),hc($1,AK),$1.prototype.xa=function(){dc(this.g,"a")},$1.prototype.wa=function(n){dc(this.g,new hK(n))},$1.prototype.va=function(n){dc(this.g,new dK)},$1.prototype.ua=function(){dc(this.g,"b")},LM.prototype.createWebChannel=LM.prototype.g,gh.prototype.send=gh.prototype.u,gh.prototype.open=gh.prototype.m,gh.prototype.close=gh.prototype.close,CM.NO_ERROR=0,CM.TIMEOUT=8,CM.HTTP_ERROR=6,Bj.COMPLETE="complete",xj.EventType=YB,YB.OPEN="a",YB.CLOSE="b",YB.ERROR="c",YB.MESSAGE="d",jl.prototype.listen=jl.prototype.N,Aa.prototype.listenOnce=Aa.prototype.O,Aa.prototype.getLastError=Aa.prototype.Oa,Aa.prototype.getLastErrorCode=Aa.prototype.Ea,Aa.prototype.getStatus=Aa.prototype.aa,Aa.prototype.getResponseJson=Aa.prototype.Sa,Aa.prototype.getResponseText=Aa.prototype.fa,Aa.prototype.send=Aa.prototype.da,Aa.prototype.setWithCredentials=Aa.prototype.Ka;var Mse=wm.createWebChannelTransport=function(){return new LM},Nse=wm.getStatEventTarget=function(){return bM()},MU=wm.ErrorCode=CM,Pse=wm.EventType=Bj,Ose=wm.Event=U_,fK=wm.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Lse=wm.FetchXmlHttpFactory=rS,RM=wm.WebChannel=xj,Rse=wm.XhrIo=Aa;const pK="@firebase/firestore";class Kl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kl.UNAUTHENTICATED=new Kl(null),Kl.GOOGLE_CREDENTIALS=new Kl("google-credentials-uid"),Kl.FIRST_PARTY=new Kl("first-party-uid"),Kl.MOCK_USER=new Kl("mock-user");let Y1="9.17.1";const b0=new kc.Yd("@firebase/firestore");function NU(){return b0.logLevel}function ln(n,...e){if(b0.logLevel<=kc.in.DEBUG){const t=e.map(PU);b0.debug(`Firestore (${Y1}): ${n}`,...t)}}function xa(n,...e){if(b0.logLevel<=kc.in.ERROR){const t=e.map(PU);b0.error(`Firestore (${Y1}): ${n}`,...t)}}function j_(n,...e){if(b0.logLevel<=kc.in.WARN){const t=e.map(PU);b0.warn(`Firestore (${Y1}): ${n}`,...t)}}function PU(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Jn(n="Unexpected state"){const e=`FIRESTORE (${Y1}) INTERNAL ASSERTION FAILED: `+n;throw xa(e),new Error(e)}function lr(n,e){n||Jn()}function Tn(n,e){return n}const Rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tn extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ml{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gK{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kl.UNAUTHENTICATED))}shutdown(){}}class Hse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vse{constructor(e){this.t=e,this.currentUser=Kl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new ml;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ml,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable((0,Bt.Z)(function*(){yield h.promise,yield s(r.currentUser)}))},u=h=>{ln("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ln("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ml)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ln("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lr("string"==typeof r.accessToken),new gK(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lr(null===e||"string"==typeof e),new Kl(e)}}class jse{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Kl.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(lr(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Kse{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new jse(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Kl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gse{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&ln("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,ln("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ln("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):ln("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lr("string"==typeof t.token),this.A=t.token,new mK(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wse(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class yK{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Wse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function $r(n,e){return n<e?-1:n>e?1:0}function Z1(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function vK(n){return n+"\0"}class Uo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tn(Rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tn(Rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tn(Rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tn(Rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Uo.fromMillis(Date.now())}static fromDate(e){return Uo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Uo(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$r(this.nanoseconds,e.nanoseconds):$r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mr(e)}static min(){return new mr(new Uo(0,0))}static max(){return new mr(new Uo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lS{constructor(e,t,r){void 0===t?t=0:t>e.length&&Jn(),void 0===r?r=e.length-t:r>e.length-t&&Jn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===lS.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lS?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gi extends lS{construct(e,t,r){return new Gi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new tn(Rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Gi(t)}static emptyPath(){return new Gi([])}}const zse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ha extends lS{construct(e,t,r){return new ha(e,t,r)}static isValidIdentifier(e){return zse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ha.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ha(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new tn(Rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new tn(Rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new tn(Rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new tn(Rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ha(t)}static emptyPath(){return new ha([])}}class Bn{constructor(e){this.path=e}static fromPath(e){return new Bn(Gi.fromString(e))}static fromName(e){return new Bn(Gi.fromString(e).popFirst(5))}static empty(){return new Bn(Gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bn(new Gi(e.slice()))}}class kM{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function OU(n){return n.fields.find(e=>2===e.kind)}function K_(n){return n.fields.filter(e=>2!==e.kind)}kM.UNKNOWN_ID=-1;class UM{constructor(e,t){this.fieldPath=e,this.kind=t}}class cS{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cS(0,mh.min())}}function _K(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=mr.fromTimestamp(1e9===r?new Uo(t+1,0):new Uo(t,r));return new mh(i,Bn.empty(),e)}function wK(n){return new mh(n.readTime,n.key,-1)}class mh{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mh(mr.min(),Bn.empty(),-1)}static max(){return new mh(mr.max(),Bn.empty(),-1)}}function LU(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Bn.comparator(n.documentKey,e.documentKey),0!==t?t:$r(n.largestBatchId,e.largestBatchId))}const bK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function C0(n){return RU.apply(this,arguments)}function RU(){return RU=(0,Bt.Z)(function*(n){if(n.code!==Rt.FAILED_PRECONDITION||n.message!==bK)throw n;ln("LocalStore","Unexpectedly lost primary lease")}),RU.apply(this,arguments)}class Tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Tt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Tt?t:Tt.resolve(t)}catch(t){return Tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.reject(t)}static resolve(e){return new Tt((t,r)=>{t(e)})}static reject(e){return new Tt((t,r)=>{r(e)})}static waitFor(e){return new Tt((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=Tt.resolve(!1);for(const r of e)t=t.next(i=>i?Tt.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Tt((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next(f=>{o[h]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new Tt((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class QM{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ml,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new uS(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=kU(r.target.error);this.P.reject(new uS(e,i))}}static open(e,t,r,i){try{return new QM(t,e.transaction(i,r))}catch(s){throw new uS(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ln("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Zse(t)}}class If{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===If.D((0,be.z$)())&&xa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ln("SimpleDb","Removing database:",e),G_(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,be.hl)())return!1;if(If.N())return!0;const e=(0,be.z$)(),t=If.D(e),r=0<t&&t<10,i=If.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Bt.Z)(function*(){return t.db||(ln("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new uS(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new tn(Rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new tn(Rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new uS(e,a))},s.onupgradeneeded=o=>{ln("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.S.$(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{ln("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Bt.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.F(e);const u=QM.open(s.db,e,o?"readonly":"readwrite",r),h=i(u).next(f=>(u.V(),f)).catch(f=>(u.abort(f),Tt.reject(f))).toPromise();return h.catch(()=>{}),yield u.v,h}catch(u){const h=u,f="FirebaseError"!==h.name&&a<3;if(ln("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),s.close(),!f)return Promise.reject(h)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yse{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return G_(this.q.delete())}}class uS extends tn{constructor(e,t){super(Rt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function E0(n){return"IndexedDbTransactionError"===n.name}class Zse{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ln("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ln("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),G_(r)}add(e){return ln("SimpleDb","ADD",this.store.name,e,e),G_(this.store.add(e))}get(e){return G_(this.store.get(e)).next(t=>(void 0===t&&(t=null),ln("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ln("SimpleDb","DELETE",this.store.name,e),G_(this.store.delete(e))}count(){return ln("SimpleDb","COUNT",this.store.name),G_(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Tt((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Tt((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,t){ln("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Tt((r,i)=>{t.onerror=s=>{const o=kU(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,t){const r=[];return new Tt((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Yse(a),h=t(a.primaryKey,a.value,u);if(h instanceof Tt){const f=h.catch(y=>(u.done(),Tt.reject(y)));r.push(f)}u.isDone?i():null===u.G?a.continue():a.continue(u.G)}}).next(()=>Tt.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function G_(n){return new Tt((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=kU(r.target.error);t(i)}})}let EK=!1;function kU(n){const e=If.D((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new tn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return EK||(EK=!0,setTimeout(()=>{throw r},0)),r}}return n}class Xse{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ln("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Bt.Z)(function*(){t.task=null;try{ln("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){E0(r)?ln("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield C0(r)}yield t.nt(6e4)}))}}class Jse{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Bt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,s=!0;return Tt.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ln("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(ln("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=wK(s);LU(o,r)>0&&(r=o)}),new mh(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let yh=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class eoe{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class I0{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new I0("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof I0&&e.projectId===this.projectId&&e.database===this.database}}function IK(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function W_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function AS(n){return null==n}function hS(n){return 0===n&&1/n==-1/0}function SK(n){return"number"==typeof n&&Number.isInteger(n)&&!hS(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class yl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yl(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yl.EMPTY_BYTE_STRING=new yl("");const noe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B0(n){if(lr(!!n),"string"==typeof n){let e=0;const t=noe.exec(n);if(lr(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:da(n.seconds),nanos:da(n.nanos)}}function da(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function z_(n){return"string"==typeof n?yl.fromBase64String(n):yl.fromUint8Array(n)}function UU(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xK(n){const e=n.mapValue.fields.__previous_value__;return UU(e)?xK(e):e}function dS(n){const e=B0(n.mapValue.fields.__local_write_time__.timestampValue);return new Uo(e.seconds,e.nanos)}const S0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},HM={nullValue:"NULL_VALUE"};function q_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?UU(n)?4:MK(n)?9007199254740991:10:Jn()}function Jp(n,e){if(n===e)return!0;const t=q_(n);if(t!==q_(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dS(n).isEqual(dS(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=B0(r.timestampValue),o=B0(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,z_(n.bytesValue).isEqual(z_(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return da(r.geoPointValue.latitude)===da(i.geoPointValue.latitude)&&da(r.geoPointValue.longitude)===da(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return da(r.integerValue)===da(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=da(r.doubleValue),o=da(i.doubleValue);return s===o?hS(s)===hS(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Z1(n.arrayValue.values||[],e.arrayValue.values||[],Jp);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(IK(s)!==IK(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Jp(s[a],o[a])))return!1;return!0}(n,e);default:return Jn()}var i}function fS(n,e){return void 0!==(n.values||[]).find(t=>Jp(t,e))}function x0(n,e){if(n===e)return 0;const t=q_(n),r=q_(e);if(t!==r)return $r(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $r(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=da(i.integerValue||i.doubleValue),a=da(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return DK(n.timestampValue,e.timestampValue);case 4:return DK(dS(n),dS(e));case 5:return $r(n.stringValue,e.stringValue);case 6:return function(i,s){const o=z_(i),a=z_(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const h=$r(o[u],a[u]);if(0!==h)return h}return $r(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=$r(da(i.latitude),da(s.latitude));return 0!==o?o:$r(da(i.longitude),da(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const h=x0(o[u],a[u]);if(h)return h}return $r(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===S0.mapValue&&s===S0.mapValue)return 0;if(i===S0.mapValue)return 1;if(s===S0.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},h=Object.keys(u);a.sort(),h.sort();for(let f=0;f<a.length&&f<h.length;++f){const y=$r(a[f],h[f]);if(0!==y)return y;const I=x0(o[a[f]],u[h[f]]);if(0!==I)return I}return $r(a.length,h.length)}(n.mapValue,e.mapValue);default:throw Jn()}}function DK(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $r(n,e);const t=B0(n),r=B0(e),i=$r(t.seconds,r.seconds);return 0!==i?i:$r(t.nanos,r.nanos)}function X1(n){return QU(n)}function QU(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=B0(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?z_(n.bytesValue).toBase64():"referenceValue"in n?Bn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=QU(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${QU(r.fields[a])}`;return s+"}"}(n.mapValue):Jn();var e}function $_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function HU(n){return!!n&&"integerValue"in n}function pS(n){return!!n&&"arrayValue"in n}function TK(n){return!!n&&"nullValue"in n}function FK(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function VM(n){return!!n&&"mapValue"in n}function gS(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return W_(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gS(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gS(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MK(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function roe(n){return"nullValue"in n?HM:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$_(I0.empty(),Bn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Jn()}function ioe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$_(I0.empty(),Bn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?S0:Jn()}function NK(n,e){const t=x0(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function PK(n,e){const t=x0(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class D0{constructor(e,t){this.position=e,this.inclusive=t}}function OK(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Bn.comparator(Bn.fromName(o.referenceValue),t.key):x0(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function LK(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jp(n.position[t],e.position[t]))return!1;return!0}class RK{}class Oi extends RK{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new soe(e,t,r):"array-contains"===t?new loe(e,r):"in"===t?new jK(e,r):"not-in"===t?new coe(e,r):"array-contains-any"===t?new uoe(e,r):new Oi(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ooe(e,r):new aoe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(x0(t,this.value)):null!==t&&q_(this.value)===q_(t)&&this.matchesComparison(x0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Bs extends RK{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Bs(e,t)}matches(e){return J1(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function J1(n){return"and"===n.op}function VU(n){return"or"===n.op}function jU(n){return kK(n)&&J1(n)}function kK(n){for(const e of n.filters)if(e instanceof Bs)return!1;return!0}function KU(n){if(n instanceof Oi)return n.field.canonicalString()+n.op.toString()+X1(n.value);if(jU(n))return n.filters.map(e=>KU(e)).join(",");{const e=n.filters.map(t=>KU(t)).join(",");return`${n.op}(${e})`}}function UK(n,e){return n instanceof Oi?(t=n,(r=e)instanceof Oi&&t.op===r.op&&t.field.isEqual(r.field)&&Jp(t.value,r.value)):n instanceof Bs?function(t,r){return r instanceof Bs&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&UK(s,r.filters[o]),!0)}(n,e):void Jn();var t,r}function QK(n,e){const t=n.filters.concat(e);return Bs.create(t,n.op)}function HK(n){return n instanceof Oi?function(e){return`${e.field.canonicalString()} ${e.op} ${X1(e.value)}`}(n):n instanceof Bs?function(e){return e.op.toString()+" {"+e.getFilters().map(HK).join(" ,")+"}"}(n):"Filter"}class soe extends Oi{constructor(e,t,r){super(e,t,r),this.key=Bn.fromName(r.referenceValue)}matches(e){const t=Bn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ooe extends Oi{constructor(e,t){super(e,"in",t),this.keys=VK(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aoe extends Oi{constructor(e,t){super(e,"not-in",t),this.keys=VK(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VK(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Bn.fromName(r.referenceValue))}class loe extends Oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pS(t)&&fS(t.arrayValue,this.value)}}class jK extends Oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fS(this.value.arrayValue,t)}}class coe extends Oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(fS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fS(this.value.arrayValue,t)}}class uoe extends Oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fS(this.value.arrayValue,r))}}class eC{constructor(e,t="asc"){this.field=e,this.dir=t}}function Aoe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class fa{constructor(e,t){this.comparator=e,this.root=t||fc.EMPTY}insert(e,t){return new fa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fc.BLACK,null,null))}remove(e){return new fa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jM(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jM(this.root,e,this.comparator,!1)}getReverseIterator(){return new jM(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jM(this.root,e,this.comparator,!0)}}class jM{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fc{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:fc.RED,this.left=null!=i?i:fc.EMPTY,this.right=null!=s?s:fc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new fc(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return fc.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jn();const e=this.left.check();if(e!==this.right.check())throw Jn();return e+(this.isRed()?0:1)}}fc.EMPTY=null,fc.RED=!0,fc.BLACK=!1,fc.EMPTY=new class{constructor(){this.size=0}get key(){throw Jn()}get value(){throw Jn()}get color(){throw Jn()}get left(){throw Jn()}get right(){throw Jn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new fc(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rs{constructor(e){this.comparator=e,this.data=new fa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KK(this.data.getIterator())}getIteratorFrom(e){return new KK(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rs(this.comparator);return t.data=e,t}}class KK{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tC(n){return n.hasNext()?n.getNext():void 0}class bA{constructor(e){this.fields=e,e.sort(ha.comparator)}static empty(){return new bA([])}unionWith(e){let t=new Rs(ha.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z1(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pc{constructor(e){this.value=e}static empty(){return new pc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!VM(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gS(t)}setAll(e){let t=ha.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=gS(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());VM(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];VM(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){W_(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new pc(gS(this.value))}}function GK(n){const e=[];return W_(n.fields,(t,r)=>{const i=new ha([t]);if(VM(r)){const s=GK(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bA(e)}class So{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new So(e,0,mr.min(),mr.min(),mr.min(),pc.empty(),0)}static newFoundDocument(e,t,r,i){return new So(e,1,t,mr.min(),r,i,0)}static newNoDocument(e,t){return new So(e,2,t,mr.min(),mr.min(),pc.empty(),0)}static newUnknownDocument(e,t){return new So(e,3,t,mr.min(),mr.min(),pc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof So&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new So(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hoe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function GU(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hoe(n,e,t,r,i,s,o)}function Y_(n){const e=Tn(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>KU(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),AS(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>X1(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>X1(r)).join(",")),e.ft=t}return e.ft}function mS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Aoe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UK(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LK(n.startAt,e.startAt)&&LK(n.endAt,e.endAt)}function KM(n){return Bn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function GM(n,e){return n.filters.filter(t=>t instanceof Oi&&t.field.isEqual(e))}function WK(n,e,t){let r=HM,i=!0;for(const s of GM(n,e)){let o=HM,a=!0;switch(s.op){case"<":case"<=":o=roe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=HM}NK({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];NK({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function zK(n,e,t){let r=S0,i=!0;for(const s of GM(n,e)){let o=S0,a=!0;switch(s.op){case">=":case">":o=ioe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=S0}PK({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];PK({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class Em{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function qK(n,e,t,r,i,s,o,a){return new Em(n,e,t,r,i,s,o,a)}function nC(n){return new Em(n)}function $K(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function WU(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function WM(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function zU(n){return null!==n.collectionGroup}function Z_(n){const e=Tn(n);if(null===e.dt){e.dt=[];const t=WM(e),r=WU(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new eC(t)),e.dt.push(new eC(ha.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new eC(ha.keyField(),s))}}}return e.dt}function Lu(n){const e=Tn(n);if(!e._t)if("F"===e.limitType)e._t=GU(e.path,e.collectionGroup,Z_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Z_(e))t.push(new eC(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new D0(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new D0(e.startAt.position,e.startAt.inclusive):null;e._t=GU(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function qU(n,e){e.getFirstInequalityField(),WM(n);const t=n.filters.concat([e]);return new Em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zM(n,e,t){return new Em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yS(n,e){return mS(Lu(n),Lu(e))&&n.limitType===e.limitType}function YK(n){return`${Y_(Lu(n))}|lt:${n.limitType}`}function $U(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>HK(r)).join(", ")}]`),AS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>X1(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>X1(r)).join(",")),`Target(${t})`}(Lu(n))}; limitType=${n.limitType})`}function vS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Bn.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Z_(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=OK(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Z_(t),r)||t.endAt&&!function(i,s,o){const a=OK(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Z_(t),r)));var t,r}function ZK(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XK(n){return(e,t)=>{let r=!1;for(const i of Z_(n)){const s=doe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function doe(n,e,t){const r=n.field.isKeyField()?Bn.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?x0(a,u):Jn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Jn()}}function JK(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hS(e)?"-0":e}}function eG(n){return{integerValue:""+n}}function tG(n,e){return SK(e)?eG(e):JK(n,e)}class qM{constructor(){this._=void 0}}function foe(n,e,t){return n instanceof rC?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof X_?rG(n,e):n instanceof J_?iG(n,e):function(r,i){const s=nG(r,i),o=sG(s)+sG(r.gt);return HU(s)&&HU(r.gt)?eG(o):JK(r.yt,o)}(n,e)}function poe(n,e,t){return n instanceof X_?rG(n,e):n instanceof J_?iG(n,e):t}function nG(n,e){return n instanceof iC?HU(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class rC extends qM{}class X_ extends qM{constructor(e){super(),this.elements=e}}function rG(n,e){const t=oG(e);for(const r of n.elements)t.some(i=>Jp(i,r))||t.push(r);return{arrayValue:{values:t}}}class J_ extends qM{constructor(e){super(),this.elements=e}}function iG(n,e){let t=oG(e);for(const r of n.elements)t=t.filter(i=>!Jp(i,r));return{arrayValue:{values:t}}}class iC extends qM{constructor(e,t){super(),this.yt=e,this.gt=t}}function sG(n){return da(n.integerValue||n.doubleValue)}function oG(n){return pS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _S{constructor(e,t){this.field=e,this.transform=t}}class moe{constructor(e,t){this.version=e,this.transformResults=t}}class Qo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qo}static exists(e){return new Qo(void 0,e)}static updateTime(e){return new Qo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $M(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class YM{}function aG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new oC(n.key,Qo.none()):new sC(n.key,n.data,Qo.none());{const t=n.data,r=pc.empty();let i=new Rs(ha.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Im(n.key,r,new bA(i.toArray()),Qo.none())}}function yoe(n,e,t){n instanceof sC?function(r,i,s){const o=r.value.clone(),a=uG(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Im?function(r,i,s){if(!$M(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=uG(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(cG(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wS(n,e,t,r){return n instanceof sC?function(i,s,o,a){if(!$M(i.precondition,s))return o;const u=i.value.clone(),h=AG(i.fieldTransforms,a,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Im?function(i,s,o,a){if(!$M(i.precondition,s))return o;const u=AG(i.fieldTransforms,a,s),h=s.data;return h.setAll(cG(i)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(n,e,t,r):(o=t,$M(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function voe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=nG(r.transform,i||null);null!=s&&(null===t&&(t=pc.empty()),t.set(r.field,s))}return t||null}function lG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Z1(t,r,(i,s)=>function goe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof X_&&r instanceof X_||t instanceof J_&&r instanceof J_?Z1(t.elements,r.elements,Jp):t instanceof iC&&r instanceof iC?Jp(t.gt,r.gt):t instanceof rC&&r instanceof rC);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class sC extends YM{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Im extends YM{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uG(n,e,t){const r=new Map;lr(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,poe(o,a,t[i]))}return r}function AG(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,foe(s,o,e))}return r}class oC extends YM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YU extends YM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _oe{constructor(e){this.count=e}}var Wa,Wi;function hG(n){switch(n){default:return Jn();case Rt.CANCELLED:case Rt.UNKNOWN:case Rt.DEADLINE_EXCEEDED:case Rt.RESOURCE_EXHAUSTED:case Rt.INTERNAL:case Rt.UNAVAILABLE:case Rt.UNAUTHENTICATED:return!1;case Rt.INVALID_ARGUMENT:case Rt.NOT_FOUND:case Rt.ALREADY_EXISTS:case Rt.PERMISSION_DENIED:case Rt.FAILED_PRECONDITION:case Rt.ABORTED:case Rt.OUT_OF_RANGE:case Rt.UNIMPLEMENTED:case Rt.DATA_LOSS:return!0}}function dG(n){if(void 0===n)return xa("GRPC error has no .code"),Rt.UNKNOWN;switch(n){case Wa.OK:return Rt.OK;case Wa.CANCELLED:return Rt.CANCELLED;case Wa.UNKNOWN:return Rt.UNKNOWN;case Wa.DEADLINE_EXCEEDED:return Rt.DEADLINE_EXCEEDED;case Wa.RESOURCE_EXHAUSTED:return Rt.RESOURCE_EXHAUSTED;case Wa.INTERNAL:return Rt.INTERNAL;case Wa.UNAVAILABLE:return Rt.UNAVAILABLE;case Wa.UNAUTHENTICATED:return Rt.UNAUTHENTICATED;case Wa.INVALID_ARGUMENT:return Rt.INVALID_ARGUMENT;case Wa.NOT_FOUND:return Rt.NOT_FOUND;case Wa.ALREADY_EXISTS:return Rt.ALREADY_EXISTS;case Wa.PERMISSION_DENIED:return Rt.PERMISSION_DENIED;case Wa.FAILED_PRECONDITION:return Rt.FAILED_PRECONDITION;case Wa.ABORTED:return Rt.ABORTED;case Wa.OUT_OF_RANGE:return Rt.OUT_OF_RANGE;case Wa.UNIMPLEMENTED:return Rt.UNIMPLEMENTED;case Wa.DATA_LOSS:return Rt.DATA_LOSS;default:return Jn()}}(Wi=Wa||(Wa={}))[Wi.OK=0]="OK",Wi[Wi.CANCELLED=1]="CANCELLED",Wi[Wi.UNKNOWN=2]="UNKNOWN",Wi[Wi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wi[Wi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wi[Wi.NOT_FOUND=5]="NOT_FOUND",Wi[Wi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wi[Wi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wi[Wi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wi[Wi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wi[Wi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wi[Wi.ABORTED=10]="ABORTED",Wi[Wi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wi[Wi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wi[Wi.INTERNAL=13]="INTERNAL",Wi[Wi.UNAVAILABLE=14]="UNAVAILABLE",Wi[Wi.DATA_LOSS=15]="DATA_LOSS";class T0{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){W_(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BK(this.inner)}size(){return this.innerSize}}const woe=new fa(Bn.comparator);function CA(){return woe}const fG=new fa(Bn.comparator);function bS(...n){let e=fG;for(const t of n)e=e.insert(t.key,t);return e}function pG(n){let e=fG;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function eg(){return CS()}function gG(){return CS()}function CS(){return new T0(n=>n.toString(),(n,e)=>n.isEqual(e))}const boe=new fa(Bn.comparator),Coe=new Rs(Bn.comparator);function ui(...n){let e=Coe;for(const t of n)e=e.add(t);return e}const Eoe=new Rs($r);function ZM(){return Eoe}class ES{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,IS.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ES(mr.min(),i,ZM(),CA(),ui())}}class IS{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new IS(r,t,ui(),ui(),ui())}}class XM{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class mG{constructor(e,t){this.targetId=e,this.Et=t}}class yG{constructor(e,t,r=yl.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vG{constructor(){this.At=0,this.Rt=wG(),this.bt=yl.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ui(),t=ui(),r=ui();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Jn()}}),new IS(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=wG()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ioe{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=CA(),this.qt=_G(),this.Ut=new Rs($r)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:Jn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(KM(s))if(0===r){const o=new Bn(s.path);this.Qt(t,o,So.newNoDocument(o,mr.min()))}else lr(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&KM(a.target)){const u=new Bn(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,So.newNoDocument(u,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=ui();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const h=this.Yt(u);return!h||2===h.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new ES(e,t,this.Ut,this.Lt,r);return this.Lt=CA(),this.qt=_G(),this.Ut=new Rs($r),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new vG,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Rs($r),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||ln("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new vG),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function _G(){return new fa(Bn.comparator)}function wG(){return new fa(Bn.comparator)}const Boe={asc:"ASCENDING",desc:"DESCENDING"},Soe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xoe={and:"AND",or:"OR"};class Doe{constructor(e,t){this.databaseId=e,this.wt=t}}function aC(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bG(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Toe(n,e){return aC(n,e.toTimestamp())}function Da(n){return lr(!!n),mr.fromTimestamp(function(e){const t=B0(e);return new Uo(t.seconds,t.nanos)}(n))}function ZU(n,e){return(t=n,new Gi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function CG(n){const e=Gi.fromString(n);return lr(MG(e)),e}function BS(n,e){return ZU(n.databaseId,e.path)}function tg(n,e){const t=CG(e);if(t.get(1)!==n.databaseId.projectId)throw new tn(Rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tn(Rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Bn(IG(t))}function XU(n,e){return ZU(n.databaseId,e)}function EG(n){const e=CG(n);return 4===e.length?Gi.emptyPath():IG(e)}function SS(n){return new Gi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IG(n){return lr(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function BG(n,e,t){return{name:BS(n,e),fields:t.value.mapValue.fields}}function SG(n,e,t){const r=tg(n,e.name),i=Da(e.updateTime),s=e.createTime?Da(e.createTime):mr.min(),o=new pc({mapValue:{fields:e.fields}}),a=So.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function xS(n,e){let t;if(e instanceof sC)t={update:BG(n,e.key,e.value)};else if(e instanceof oC)t={delete:BS(n,e.key)};else if(e instanceof Im)t={update:BG(n,e.key,e.data),updateMask:koe(e.fieldMask)};else{if(!(e instanceof YU))return Jn();t={verify:BS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof rC)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof X_)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof J_)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof iC)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Jn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Toe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Jn()),t;var i}function JU(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Qo.updateTime(Da(i.updateTime)):void 0!==i.exists?Qo.exists(i.exists):Qo.none():Qo.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;"setToServerValue"in o?(lr("REQUEST_TIME"===o.setToServerValue),a=new rC):"appendMissingElements"in o?a=new X_(o.appendMissingElements.values||[]):"removeAllFromArray"in o?a=new J_(o.removeAllFromArray.values||[]):"increment"in o?a=new iC(s,o.increment):Jn();const u=ha.fromServerFormat(o.fieldPath);return new _S(u,a)}(n,i)):[];var i;if(e.update){const i=tg(n,e.update.name),s=new pc({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new bA((e.updateMask.fieldPaths||[]).map(h=>ha.fromServerFormat(h)));return new Im(i,s,o,t,r)}return new sC(i,s,t,r)}if(e.delete){const i=tg(n,e.delete);return new oC(i,t)}if(e.verify){const i=tg(n,e.verify);return new YU(i,t)}return Jn()}function xG(n,e){return{documents:[XU(n,e.path)]}}function e4(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XU(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XU(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return FG(Bs.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(h=>{return{field:lC((f=h).field),direction:Ooe(f.dir)};var f})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(h=e.limit,n.wt||AS(h)?h:{value:h});var h,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function DG(n){let e=EG(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){lr(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(f){const y=TG(f);return y instanceof Bs&&jU(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(f=>{return new eC(cC((y=f).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;t.limit&&(a=function(f){let y;return y="object"==typeof f?f.value:f,AS(y)?null:y}(t.limit));let u=null;var f;t.startAt&&(u=new D0((f=t.startAt).values||[],!!f.before));let h=null;return t.endAt&&(h=function(f){return new D0(f.values||[],!f.before)}(t.endAt)),qK(e,i,o,s,a,"F",u,h)}function TG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cC(e.unaryFilter.field);return Oi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=cC(e.unaryFilter.field);return Oi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cC(e.unaryFilter.field);return Oi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=cC(e.unaryFilter.field);return Oi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Jn()}}(n):void 0!==n.fieldFilter?function(e){return Oi.create(cC(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jn()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Bs.create(e.compositeFilter.filters.map(t=>TG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Jn()}}(e.compositeFilter.op))}(n):Jn()}function Ooe(n){return Boe[n]}function Loe(n){return Soe[n]}function Roe(n){return xoe[n]}function lC(n){return{fieldPath:n.canonicalString()}}function cC(n){return ha.fromServerFormat(n.fieldPath)}function FG(n){return n instanceof Oi?function(e){if("=="===e.op){if(FK(e.value))return{unaryFilter:{field:lC(e.field),op:"IS_NAN"}};if(TK(e.value))return{unaryFilter:{field:lC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(FK(e.value))return{unaryFilter:{field:lC(e.field),op:"IS_NOT_NAN"}};if(TK(e.value))return{unaryFilter:{field:lC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lC(e.field),op:Loe(e.op),value:e.value}}}(n):n instanceof Bs?function(e){const t=e.getFilters().map(r=>FG(r));return 1===t.length?t[0]:{compositeFilter:{op:Roe(e.op),filters:t}}}(n):Jn()}function koe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ru(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=NG(e)),e=Uoe(n.get(t),e);return NG(e)}function Uoe(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function NG(n){return n+"\x01\x01"}function ng(n){const e=n.length;if(lr(e>=2),2===e)return lr("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Gi.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Jn(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Jn()}s=o+2}return new Gi(r)}const PG=["userId","batchId"];function JM(n,e){return[n,Ru(e)]}function OG(n,e,t){return[n,Ru(e),t]}const Qoe={},Hoe=["prefixPath","collectionGroup","readTime","documentId"],Voe=["prefixPath","collectionGroup","documentId"],joe=["collectionGroup","readTime","prefixPath","documentId"],Koe=["canonicalId","targetId"],Goe=["targetId","path"],Woe=["path","targetId"],zoe=["collectionId","parent"],qoe=["indexId","uid"],$oe=["uid","sequenceNumber"],Yoe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zoe=["indexId","uid","orderedDocumentKey"],Xoe=["userId","collectionPath","documentId"],Joe=["userId","collectionPath","largestBatchId"],eae=["userId","collectionGroup","largestBatchId"],LG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tae=[...LG,"documentOverlays"],RG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kG=RG,nae=[...kG,"indexConfiguration","indexState","indexEntries"];class t4 extends CK{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Gl(n,e){const t=Tn(n);return If.M(t.se,e)}class n4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yoe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wS(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wS(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gG();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=aG(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(mr.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ui())}isEqual(e){return this.batchId===e.batchId&&Z1(this.mutations,e.mutations,(t,r)=>lG(t,r))&&Z1(this.baseMutations,e.baseMutations,(t,r)=>lG(t,r))}}class r4{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){lr(e.mutations.length===r.length);let i=boe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new r4(e,t,r,i)}}class i4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class F0{constructor(e,t,r,i,s=mr.min(),o=mr.min(),a=yl.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new F0(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new F0(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new F0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class UG{constructor(e){this.ie=e}}function QG(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:e5(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:BS(i=n.ie,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:aC(i,s.version.toTimestamp()),createTime:aC(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ew(e.version)};else{if(!e.isUnknownDocument())return Jn();r.unknownDocument={path:t.path.toArray(),version:ew(e.version)}}var i,s;return r}function e5(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ew(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tw(n){const e=new Uo(n.seconds,n.nanoseconds);return mr.fromTimestamp(e)}function nw(n,e){const t=(e.baseMutations||[]).map(s=>JU(n.ie,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(o.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>JU(n.ie,s)),i=Uo.fromMillis(e.localWriteTimeMs);return new n4(e.batchId,i,t,r)}function DS(n){const e=tw(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tw(n.lastLimboFreeSnapshotVersion):mr.min();let r;var i;return void 0!==n.query.documents?(lr(1===(i=n.query).documents.length),r=Lu(nC(EG(i.documents[0])))):r=Lu(DG(n.query)),new F0(r,n.targetId,0,n.lastListenSequenceNumber,e,t,yl.fromBase64String(n.resumeToken))}function HG(n,e){const t=ew(e.snapshotVersion),r=ew(e.lastLimboFreeSnapshotVersion);let i;i=KM(e.target)?xG(n.ie,e.target):e4(n.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Y_(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function s4(n){const e=DG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zM(e,e.limit,"L"):e}function o4(n,e){return new i4(e.largestBatchId,JU(n.ie,e.overlayMutation))}function VG(n,e){const t=e.path.lastSegment();return[n,Ru(e.path.popLast()),t]}function jG(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ew(r.readTime),documentKey:Ru(r.documentKey.path),largestBatchId:r.largestBatchId}}class iae{getBundleMetadata(e,t){return KG(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:tw(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return KG(e).put({bundleId:(r=t).id,createTime:ew(Da(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return GG(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:s4(i.bundledQuery),readTime:tw(i.readTime)};var i})}saveNamedQuery(e,t){return GG(e).put({name:(r=t).name,readTime:ew(Da(r.readTime)),bundledQuery:r.bundledQuery});var r}}function KG(n){return Gl(n,"bundles")}function GG(n){return Gl(n,"namedQueries")}class t5{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new t5(e,t.uid||"")}getOverlay(e,t){return TS(e).get(VG(this.userId,t)).next(r=>r?o4(this.yt,r):null)}getOverlays(e,t){const r=eg();return Tt.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new i4(t,o);i.push(this.oe(e,a))}),Tt.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Ru(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(TS(e).Y("collectionPathOverlayIndex",a))}),Tt.waitFor(s)}getOverlaysForCollection(e,t,r){const i=eg(),s=Ru(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return TS(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const h=o4(this.yt,u);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=eg();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return TS(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,h,f)=>{const y=o4(this.yt,h);s.size()<i||y.largestBatchId===o?(s.set(y.getKey(),y),o=y.largestBatchId):f.done()}).next(()=>s)}oe(e,t){return TS(e).put(function(r,i,s){const[o,a,u]=VG(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:xS(r.ie,s.mutation)}}(this.yt,this.userId,t))}}function TS(n){return Gl(n,"documentOverlays")}class rw{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(da(e.integerValue));else if("doubleValue"in e){const r=da(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),hS(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(z_(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?MK(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Jn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Bn.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function sae(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function WG(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=sae(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}rw.Ie=new rw;class oae{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=WG(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=WG(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aae{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class lae{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class FS{constructor(){this.$e=new oae,this.Be=new aae(this.$e),this.Le=new lae(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class iw{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new iw(this.indexId,this.documentKey,this.arrayValue,r)}}function M0(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=zG(n.arrayValue,e.arrayValue),0!==t?t:(t=zG(n.directionalValue,e.directionalValue),0!==t?t:Bn.comparator(n.documentKey,e.documentKey)))}function zG(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class cae{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){lr(e.collectionGroup===this.collectionId);const t=OU(e);if(void 0!==t&&!this.We(t))return!1;const r=K_(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const o=r[i];if(!this.ze(this.Qe,o)||!this.He(this.Ke[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],o))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qG(n){var e,t;if(lr(n instanceof Oi||n instanceof Bs),n instanceof Oi){if(n instanceof jK){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Oi.create(n.field,"==",s)))||[];return Bs.create(i,"or")}return n}const r=n.filters.map(i=>qG(i));return Bs.create(r,n.op)}function uae(n){if(0===n.getFilters().length)return[];const e=c4(qG(n));return lr($G(e)),a4(e)||l4(e)?[e]:e.getFilters()}function a4(n){return n instanceof Oi}function l4(n){return n instanceof Bs&&jU(n)}function $G(n){return a4(n)||l4(n)||function(e){if(e instanceof Bs&&VU(e)){for(const t of e.getFilters())if(!a4(t)&&!l4(t))return!1;return!0}return!1}(n)}function c4(n){if(lr(n instanceof Oi||n instanceof Bs),n instanceof Oi)return n;if(1===n.filters.length)return c4(n.filters[0]);const e=n.filters.map(r=>c4(r));let t=Bs.create(e,n.op);return t=n5(t),$G(t)?t:(lr(t instanceof Bs),lr(J1(t)),lr(t.filters.length>1),t.filters.reduce((r,i)=>u4(r,i)))}function u4(n,e){let t;return lr(n instanceof Oi||n instanceof Bs),lr(e instanceof Oi||e instanceof Bs),t=n instanceof Oi?e instanceof Oi?Bs.create([n,e],"and"):YG(n,e):e instanceof Oi?YG(e,n):function(r,i){if(lr(r.filters.length>0&&i.filters.length>0),J1(r)&&J1(i))return QK(r,i.getFilters());const s=VU(r)?r:i,o=VU(r)?i:r,a=s.filters.map(u=>u4(u,o));return Bs.create(a,"or")}(n,e),n5(t)}function YG(n,e){if(J1(e))return QK(e,n.getFilters());{const t=e.filters.map(r=>u4(n,r));return Bs.create(t,"or")}}function n5(n){if(lr(n instanceof Oi||n instanceof Bs),n instanceof Oi)return n;const e=n.getFilters();if(1===e.length)return n5(e[0]);if(kK(n))return n;const t=e.map(i=>n5(i)),r=[];return t.forEach(i=>{i instanceof Oi?r.push(i):i instanceof Bs&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Bs.create(r,n.op)}class Aae{constructor(){this.Je=new A4}addToCollectionParentIndex(e,t){return this.Je.add(t),Tt.resolve()}getCollectionParents(e,t){return Tt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Tt.resolve()}deleteFieldIndex(e,t){return Tt.resolve()}getDocumentsMatchingTarget(e,t){return Tt.resolve(null)}getIndexType(e,t){return Tt.resolve(0)}getFieldIndexes(e,t){return Tt.resolve([])}getNextCollectionGroupToUpdate(e){return Tt.resolve(null)}getMinOffset(e,t){return Tt.resolve(mh.min())}getMinOffsetFromCollectionGroup(e,t){return Tt.resolve(mh.min())}updateCollectionGroup(e,t,r){return Tt.resolve()}updateIndexEntries(e,t){return Tt.resolve()}}class A4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rs(Gi.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rs(Gi.comparator)).toArray()}}const r5=new Uint8Array(0);class hae{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new A4,this.Xe=new T0(r=>Y_(r),(r,i)=>mS(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const s={collectionId:r,parent:Ru(i)};return ZG(e).put(s)}return Tt.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[vK(t),""],!1,!0);return ZG(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(ng(o.parent))}return r})}addFieldIndex(e,t){const r=i5(e),i={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var o;delete i.indexId;const s=r.add(i);if(t.indexState){const o=NS(e);return s.next(a=>{o.put(jG(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=i5(e),i=NS(e),s=MS(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=MS(e);let i=!0;const s=new Map;return Tt.forEach(this.Ze(t),o=>this.tn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ui();const a=[];return Tt.forEach(s,(u,h)=>{var f;ln("IndexedDbIndexManager",`Using index ${f=u,`id=${f.indexId}|cg=${f.collectionGroup}|f=${f.fields.map(se=>`${se.fieldPath}:${se.kind}`).join(",")}`} to execute ${Y_(t)}`);const y=function(se,ve){const Se=OU(ve);if(void 0===Se)return null;for(const Ve of GM(se,Se.fieldPath))switch(Ve.op){case"array-contains-any":return Ve.value.arrayValue.values||[];case"array-contains":return[Ve.value]}return null}(h,u),I=function(se,ve){const Se=new Map;for(const Ve of K_(ve))for(const Oe of GM(se,Ve.fieldPath))switch(Oe.op){case"==":case"in":Se.set(Ve.fieldPath.canonicalString(),Oe.value);break;case"not-in":case"!=":return Se.set(Ve.fieldPath.canonicalString(),Oe.value),Array.from(Se.values())}return null}(h,u),C=function(se,ve){const Se=[];let Ve=!0;for(const Oe of K_(ve)){const Ce=0===Oe.kind?WK(se,Oe.fieldPath,se.startAt):zK(se,Oe.fieldPath,se.startAt);Se.push(Ce.value),Ve&&(Ve=Ce.inclusive)}return new D0(Se,Ve)}(h,u),P=function(se,ve){const Se=[];let Ve=!0;for(const Oe of K_(ve)){const Ce=0===Oe.kind?zK(se,Oe.fieldPath,se.endAt):WK(se,Oe.fieldPath,se.endAt);Se.push(Ce.value),Ve&&(Ve=Ce.inclusive)}return new D0(Se,Ve)}(h,u),L=this.en(u,h,C),V=this.en(u,h,P),j=this.nn(u,h,I),z=this.sn(u.indexId,y,L,C.inclusive,V,P.inclusive,j);return Tt.forEach(z,se=>r.J(se,t.limit).next(ve=>{ve.forEach(Se=>{const Ve=Bn.fromSegments(Se.documentKey);o.has(Ve)||(o=o.add(Ve),a.push(Ve))})}))}).next(()=>a)}return Tt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:uae(Bs.create(e.filters,"and")).map(r=>GU(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,s,o,a){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),h=u/(null!=t?t.length:1),f=[];for(let y=0;y<u;++y){const I=t?this.rn(t[y/h]):r5,C=this.on(e,I,r[y%h],i),P=this.un(e,I,s[y%h],o),L=a.map(V=>this.on(e,I,V,!0));f.push(...this.createRange(C,P,L))}return f}on(e,t,r,i){const s=new iw(e,Bn.empty(),t,r);return i?s:s.Ue()}un(e,t,r,i){const s=new iw(e,Bn.empty(),t,r);return i?s.Ue():s}tn(e,t){const r=new cae(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.je(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.Ze(t);return Tt.forEach(i,s=>this.tn(e,s).next(o=>{o?0!==r&&o.fields.length<function(a){let u=new Rs(ha.comparator),h=!1;for(const f of a.filters)for(const y of f.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?h=!0:u=u.add(y.field));for(const f of a.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new FS;for(const i of K_(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.qe(i.kind);rw.Ie.ue(s,o)}return r.Fe()}rn(e){const t=new FS;return rw.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new FS;return rw.Ie.ue($_(this.databaseId,t),r.qe(function(i){const s=K_(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new FS);let s=0;for(const o of K_(e)){const a=r[s++];for(const u of i)if(this.hn(t,o.fieldPath)&&pS(a))i=this.ln(i,o,a);else{const h=u.qe(o.kind);rw.Ie.ue(a,h)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new FS;u.seed(a.Fe()),rw.Ie.ue(o,u.qe(t.kind)),s.push(u)}return s}hn(e,t){return!!e.filters.find(r=>r instanceof Oi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=i5(e),i=NS(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return Tt.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(h,f){const y=f?new cS(f.sequenceNumber,new mh(tw(f.readTime),new Bn(ng(f.documentKey)),f.largestBatchId)):cS.empty(),I=h.fields.map(([C,P])=>new UM(ha.fromServerFormat(C),P));return new kM(h.indexId,h.collectionGroup,I,y)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:$r(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=i5(e),s=NS(e);return this.dn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>Tt.forEach(a,u=>s.put(jG(u.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return Tt.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Tt.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Tt.forEach(a,u=>this._n(e,i,u).next(h=>{const f=this.wn(s,u);return h.isEqual(f)?Tt.resolve():this.mn(e,s,u,h,f)}))))})}gn(e,t,r,i){return MS(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return MS(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=MS(e);let s=new Rs(M0);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(o,a)=>{s=s.add(new iw(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,t){let r=new Rs(M0);const i=this.cn(t,e);if(null==i)return r;const s=OU(t);if(null!=s){const o=e.data.field(s.fieldPath);if(pS(o))for(const a of o.arrayValue.values||[])r=r.add(new iw(t.indexId,e.key,this.rn(a),i))}else r=r.add(new iw(t.indexId,e.key,r5,i));return r}mn(e,t,r,i,s){ln("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(a,u,h,f,y){const I=a.getIterator(),C=u.getIterator();let P=tC(I),L=tC(C);for(;P||L;){let V=!1,j=!1;if(P&&L){const z=h(P,L);z<0?j=!0:z>0&&(V=!0)}else null!=P?j=!0:V=!0;V?(f(L),L=tC(C)):j?(y(P),P=tC(I)):(P=tC(I),L=tC(C))}}(i,s,M0,a=>{o.push(this.gn(e,t,r,a))},a=>{o.push(this.yn(e,t,r,a))}),Tt.waitFor(o)}dn(e){let t=1;return NS(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>M0(o,a)).filter((o,a,u)=>!a||0!==M0(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=M0(o,e),u=M0(o,t);if(0===a)i[0]=e.Ue();else if(a>0&&u<0)i.push(o),i.push(o.Ue());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.pn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,r5,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,r5,[]]))}return s}pn(e,t){return M0(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XG)}getMinOffset(e,t){return Tt.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||Jn())).next(XG)}}function ZG(n){return Gl(n,"collectionParents")}function MS(n){return Gl(n,"indexEntries")}function i5(n){return Gl(n,"indexConfiguration")}function NS(n){return Gl(n,"indexState")}function XG(n){lr(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;LU(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new mh(e.readTime,e.documentKey,t)}const JG={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class EA{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new EA(e,EA.DEFAULT_COLLECTION_PERCENTILE,EA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function eW(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const u=r.Z({range:o},(f,y,I)=>(a++,I.delete()));s.push(u.next(()=>{lr(1===a)}));const h=[];for(const f of t.mutations){const y=OG(e,f.key.path,t.batchId);s.push(i.delete(y)),h.push(f.key)}return Tt.waitFor(s).next(()=>h)}function s5(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Jn();e=n.noDocument}return JSON.stringify(e).length}EA.DEFAULT_COLLECTION_PERCENTILE=10,EA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,EA.DEFAULT=new EA(41943040,EA.DEFAULT_COLLECTION_PERCENTILE,EA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),EA.DISABLED=new EA(-1,0,0);class o5{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){lr(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new o5(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return N0(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=uC(e),o=N0(e);return o.add({}).next(a=>{lr("number"==typeof a);const u=new n4(a,t,r,i),h=function(I,C,P){const L=P.baseMutations.map(j=>xS(I.ie,j)),V=P.mutations.map(j=>xS(I.ie,j));return{userId:C,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:L,mutations:V}}(this.yt,this.userId,u),f=[];let y=new Rs((I,C)=>$r(I.canonicalString(),C.canonicalString()));for(const I of i){const C=OG(this.userId,I.key.path,a);y=y.add(I.key.path.popLast()),f.push(o.put(h)),f.push(s.put(C,Qoe))}return y.forEach(I=>{f.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.In[a]=u.keys()}),Tt.waitFor(f).next(()=>u)})}lookupMutationBatch(e,t){return N0(e).get(t).next(r=>r?(lr(r.userId===this.userId),nw(this.yt,r)):null)}Tn(e,t){return this.In[t]?Tt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return N0(e).Z({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(lr(a.batchId>=r),s=nw(this.yt,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return N0(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return N0(e).W("userMutationsIndex",t).next(r=>r.map(i=>nw(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=JM(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return uC(e).Z({range:i},(o,a,u)=>{const[h,f,y]=o,I=ng(f);if(h===this.userId&&t.path.isEqual(I))return N0(e).get(y).next(C=>{if(!C)throw Jn();lr(C.userId===this.userId),s.push(nw(this.yt,C))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rs($r);const i=[];return t.forEach(s=>{const o=JM(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=uC(e).Z({range:a},(h,f,y)=>{const[I,C,P]=h,L=ng(C);I===this.userId&&s.path.isEqual(L)?r=r.add(P):y.done()});i.push(u)}),Tt.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=JM(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Rs($r);return uC(e).Z({range:o},(u,h,f)=>{const[y,I,C]=u,P=ng(I);y===this.userId&&r.isPrefixOf(P)?P.length===i&&(a=a.add(C)):f.done()}).next(()=>this.En(e,a))}En(e,t){const r=[],i=[];return t.forEach(s=>{i.push(N0(e).get(s).next(o=>{if(null===o)throw Jn();lr(o.userId===this.userId),r.push(nw(this.yt,o))}))}),Tt.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return eW(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Tt.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Tt.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return uC(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=ng(s[1]);i.push(u)}else a.done()}).next(()=>{lr(0===i.length)})})}containsKey(e,t){return tW(e,this.userId,t)}Rn(e){return nW(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tW(n,e,t){const r=JM(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return uC(n).Z({range:s,X:!0},(a,u,h)=>{const[f,y,I]=a;f===e&&y===i&&(o=!0),h.done()}).next(()=>o)}function N0(n){return Gl(n,"mutations")}function uC(n){return Gl(n,"documentMutations")}function nW(n){return Gl(n,"mutationQueues")}class sw{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new sw(0)}static vn(){return new sw(-1)}}class dae{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new sw(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>mr.fromTimestamp(new Uo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>AC(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(lr(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return AC(e).Z((o,a)=>{const u=DS(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>Tt.waitFor(s)).next(()=>i)}forEachTarget(e,t){return AC(e).Z((r,i)=>{const s=DS(i);t(s)})}Vn(e){return rW(e).get("targetGlobalKey").next(t=>(lr(null!==t),t))}Sn(e,t){return rW(e).put("targetGlobalKey",t)}Dn(e,t){return AC(e).put(HG(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Y_(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return AC(e).Z({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const h=DS(a);mS(t,h.target)&&(s=h,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=P0(e);return t.forEach(o=>{const a=Ru(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),Tt.waitFor(i)}removeMatchingKeys(e,t,r){const i=P0(e);return Tt.forEach(t,s=>{const o=Ru(s.path);return Tt.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=P0(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=P0(e);let s=ui();return i.Z({range:r,X:!0},(o,a,u)=>{const h=ng(o[1]),f=new Bn(h);s=s.add(f)}).next(()=>s)}containsKey(e,t){const r=Ru(t.path),i=IDBKeyRange.bound([r],[vK(r)],!1,!0);let s=0;return P0(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],u,h)=>{0!==o&&(s++,h.done())}).next(()=>s>0)}ne(e,t){return AC(e).get(t).next(r=>r?DS(r):null)}}function AC(n){return Gl(n,"targets")}function rW(n){return Gl(n,"targetGlobal")}function P0(n){return Gl(n,"targetDocuments")}function iW([n,e],[t,r]){const i=$r(n,t);return 0===i?$r(e,r):i}class fae{constructor(e){this.xn=e,this.buffer=new Rs(iW),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iW(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pae{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;ln("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Bt.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){E0(r)?ln("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield C0(r)}yield t.Fn(3e5)}))}}class gae{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Tt.resolve(yh.at);const r=new fae(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ln("LruGarbageCollector","Garbage collection skipped; disabled"),Tt.resolve(JG)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ln("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JG):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,s,o,a,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ln("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,a=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),NU()<=kc.in.DEBUG&&ln("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-f}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${y} documents in `+(h-u)+`ms\nTotal Duration: ${h-f}ms`),Tt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}class mae{constructor(e,t){this.db=e,this.garbageCollector=new gae(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return a5(e,r)}removeReference(e,t,r){return a5(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return a5(e,t)}Gn(e,t){return function(r,i){let s=!1;return nW(r).tt(o=>tW(r,o,i).next(a=>(a&&(s=!0),Tt.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=t){const u=this.Gn(e,o).next(h=>{if(!h)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,mr.min()),P0(e).delete([0,Ru(o.path)])))});i.push(u)}}).next(()=>Tt.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return a5(e,t)}Kn(e,t){const r=P0(e);let i,s=yh.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:h})=>{0===o?(s!==yh.at&&t(new Bn(ng(i)),s),s=h,i=u):s=yh.at}).next(()=>{s!==yh.at&&t(new Bn(ng(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function a5(n,e){return P0(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ru(e.path),sequenceNumber:r}));var r}class sW{constructor(){this.changes=new T0(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,So.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Tt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yae{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ow(e).put(r)}removeEntry(e,t,r){return ow(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],e5(s),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=So.newInvalidDocument(t);return ow(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(PS(t))},(i,s)=>{r=this.jn(t,s)}).next(()=>r)}Wn(e,t){let r={size:0,document:So.newInvalidDocument(t)};return ow(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(PS(t))},(i,s)=>{r={document:this.jn(t,s),size:s5(s)}}).next(()=>r)}getEntries(e,t){let r=CA();return this.zn(e,t,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,t){let r=CA(),i=new fa(Bn.comparator);return this.zn(e,t,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,s5(o))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Tt.resolve();let i=new Rs(cW);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(PS(i.first()),PS(i.last())),o=i.getIterator();let a=o.getNext();return ow(e).Z({index:"documentKeyIndex",range:s},(u,h,f)=>{const y=Bn.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;a&&cW(a,y)<0;)r(a,null),a=o.getNext();a&&a.isEqual(y)&&(r(a,h),a=o.hasNext()?o.getNext():null),a?f.j(PS(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),e5(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ow(e).W(IDBKeyRange.bound(o,a,!0)).next(u=>{let h=CA();for(const f of u){const y=this.jn(Bn.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);y.isFoundDocument()&&(vS(t,y)||i.has(y.key))&&(h=h.insert(y.key,y))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=CA();const o=lW(t,r),a=lW(t,mh.max());return ow(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,h,f)=>{const y=this.jn(Bn.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(y.key,y),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new vae(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return aW(e).get("remoteDocumentGlobalKey").next(t=>(lr(!!t),t))}Qn(e,t){return aW(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function rae(n,e){let t;if(e.document)t=SG(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Bn.fromSegments(e.noDocument.path),i=tw(e.noDocument.readTime);t=So.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Jn();{const r=Bn.fromSegments(e.unknownDocument.path),i=tw(e.unknownDocument.version);t=So.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Uo(r[0],r[1]);return mr.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(mr.min()))return r}return So.newInvalidDocument(e)}}function oW(n){return new yae(n)}class vae extends sW{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new T0(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Rs((s,o)=>$r(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=QG(this.Yn.yt,o);i=i.add(s.path.popLast()),r+=s5(u)-a.size,t.push(this.Yn.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=QG(this.Yn.yt,o.convertToNoDocument(mr.min()));t.push(this.Yn.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,r)),Tt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function aW(n){return Gl(n,"remoteDocumentGlobal")}function ow(n){return Gl(n,"remoteDocumentsV14")}function PS(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lW(n,e){const t=e.documentKey.path.toArray();return[n,e5(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function cW(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=$r(t[s],r[s]),i)return i;return i=$r(t.length,r.length),i||(i=$r(t[t.length-2],r[r.length-2]),i||$r(t[t.length-1],r[r.length-1]))}class _ae{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uW{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&wS(r.mutation,i,bA.empty(),Uo.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ui()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ui()){const i=eg();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=bS();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=eg();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ui()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=CA();const o=CS(),a=CS();return t.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(void 0===f||f.mutation instanceof Im)?s=s.insert(h.key,h):void 0!==f?(o.set(h.key,f.mutation.getFieldMask()),wS(f.mutation,h,f.mutation.getFieldMask(),Uo.now())):o.set(h.key,bA.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>{var y;return a.set(h,new _ae(f,null!==(y=o.get(h))&&void 0!==y?y:null))}),a))}recalculateAndSaveOverlays(e,t){const r=CS();let i=new fa((o,a)=>o-a),s=ui();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const h=t.get(u);if(null===h)return;let f=r.get(u)||bA.empty();f=a.applyToLocalView(h,f),r.set(u,f);const y=(i.get(a.batchId)||ui()).add(u);i=i.insert(a.batchId,y)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),h=u.key,f=u.value,y=gG();f.forEach(I=>{if(!s.has(I)){const C=aG(t.get(I),r.get(I));null!==C&&y.set(I,C),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Tt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Bn.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Tt.resolve(eg());let a=-1,u=s;return o.next(h=>Tt.forEach(h,(f,y)=>(a<y.largestBatchId&&(a=y.largestBatchId),s.get(f)?Tt.resolve():this.remoteDocumentCache.getEntry(e,f).next(I=>{u=u.insert(f,I)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,ui())).next(f=>({batchId:a,changes:pG(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Bn(t)).next(r=>{let i=bS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=bS();return this.indexManager.getCollectionParents(e,i).next(o=>Tt.forEach(o,a=>{const u=(h=t,f=a.child(i),new Em(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,f;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(h=>{h.forEach((f,y)=>{s=s.insert(f,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,So.newInvalidDocument(h)))});let o=bS();return s.forEach((a,u)=>{const h=i.get(a);void 0!==h&&wS(h.mutation,u,bA.empty(),Uo.now()),vS(t,u)&&(o=o.insert(a,u))}),o})}}class wae{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Tt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Da(r.createTime)}),Tt.resolve()}getNamedQuery(e,t){return Tt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:s4(r.bundledQuery),readTime:Da(r.readTime)}),Tt.resolve();var r}}class bae{constructor(){this.overlays=new fa(Bn.comparator),this.es=new Map}getOverlay(e,t){return Tt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=eg();return Tt.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),Tt.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),Tt.resolve()}getOverlaysForCollection(e,t,r){const i=eg(),s=t.length+1,o=new Bn(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Tt.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new fa((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let f=s.get(h.largestBatchId);null===f&&(f=eg(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const a=eg(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>a.set(h,f)),!(a.size()>=i)););return Tt.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new i4(t,r));let s=this.es.get(t);void 0===s&&(s=ui(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class h4{constructor(){this.ns=new Rs(Wl.ss),this.rs=new Rs(Wl.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Wl(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Wl(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Bn(new Gi([])),r=new Wl(t,e),i=new Wl(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Bn(new Gi([])),r=new Wl(t,e),i=new Wl(t,e+1);let s=ui();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Wl(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wl{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Bn.comparator(e.key,t.key)||$r(e._s,t._s)}static os(e,t){return $r(e._s,t._s)||Bn.comparator(e.key,t.key)}}class Cae{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Rs(Wl.ss)}checkEmpty(e){return Tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new n4(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Wl(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Tt.resolve(o)}lookupMutationBatch(e,t){return Tt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return Tt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Tt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wl(t,0),i=new Wl(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),Tt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rs($r);return t.forEach(i=>{const s=new Wl(i,0),o=new Wl(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),Tt.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Bn.isDocumentKey(s)||(s=s.child(""));const o=new Wl(new Bn(s),0);let a=new Rs($r);return this.gs.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(u._s)),!0)},o),Tt.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){lr(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Tt.forEach(t.mutations,i=>{const s=new Wl(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Wl(t,0),i=this.gs.firstAfterOrEqual(r);return Tt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Tt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eae{constructor(e){this.Es=e,this.docs=new fa(Bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Tt.resolve(r?r.document.mutableCopy():So.newInvalidDocument(t))}getEntries(e,t){let r=CA();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():So.newInvalidDocument(i))}),Tt.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=CA();const o=t.path,a=new Bn(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||LU(wK(f),r)<=0||(i.has(f.key)||vS(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Tt.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Jn()}As(e,t){return Tt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Iae(this)}getSize(e){return Tt.resolve(this.size)}}class Iae extends sW{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Tt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Bae{constructor(e){this.persistence=e,this.Rs=new T0(t=>Y_(t),mS),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new h4,this.targetCount=0,this.vs=sw.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Tt.resolve()}getLastRemoteSnapshotVersion(e){return Tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Tt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Tt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new sw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Tt.resolve()}updateTargetData(e,t){return this.Dn(t),Tt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Tt.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Tt.waitFor(s).next(()=>i)}getTargetCount(e){return Tt.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Tt.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Tt.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Tt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Tt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Tt.resolve(r)}containsKey(e,t){return Tt.resolve(this.Ps.containsKey(t))}}class AW{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new yh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Bae(this),this.indexManager=new Aae,this.remoteDocumentCache=new Eae(r=>this.referenceDelegate.xs(r)),this.yt=new UG(t),this.Ns=new wae(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bae,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Cae(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ln("MemoryPersistence","Starting transaction:",e);const i=new Sae(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return Tt.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Sae extends CK{constructor(e){super(),this.currentSequenceNumber=e}}class l5{constructor(e){this.persistence=e,this.Fs=new h4,this.$s=null}static Bs(e){return new l5(e)}get Ls(){if(this.$s)return this.$s;throw Jn()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Tt.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Tt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Tt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tt.forEach(this.Ls,r=>{const i=Bn.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,mr.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Tt.or([()=>Tt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class xae{constructor(e){this.yt=e}$(e,t,r,i){const s=new QM("createOrUpgrade",t);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PG,{unique:!0}),a.createObjectStore("documentMutations"),hW(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=Tt.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),hW(e)),o=o.next(()=>function(a){const u=a.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mr.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(a,u){return u.store("mutations").W().next(h=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PG,{unique:!0});const f=u.store("mutations"),y=h.map(I=>f.put(I));return Tt.waitFor(y)})}(e,s))),o=o.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Us(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(a){const u=a.createObjectStore("documentOverlays",{keyPath:Xoe});u.createIndex("collectionPathOverlayIndex",Joe,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",eae,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:Hoe});u.createIndex("documentKeyIndex",Voe),u.createIndex("collectionGroupIndex",joe)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:qoe}).createIndex("sequenceNumberIndex",$oe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:Yoe}).createIndex("documentKeyIndex",Zoe,{unique:!1})}(e))),o}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=s5(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Tt.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>Tt.forEach(a,u=>{lr(u.userId===s.userId);const h=nw(this.yt,u);return eW(e,s.userId,h).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const u=new Gi(o),h=[0,Ru(u)];s.push(t.get(h).next(f=>f?Tt.resolve():t.put({targetId:0,path:Ru(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Tt.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:zoe});const r=t.store("collectionParents"),i=new A4,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Ru(u)})}};return t.store("remoteDocuments").Z({X:!0},(o,a)=>{const u=new Gi(o);return s(u.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([o,a,u],h)=>{const f=ng(a);return s(f.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const s=DS(i),o=HG(this.yt,s);return t.put(o)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=t.store("remoteDocumentsV14"),u=(h=o,h.document?new Bn(Gi.fromString(h.document.name).popFirst(5)):h.noDocument?Bn.fromSegments(h.noDocument.path):h.unknownDocument?Bn.fromSegments(h.unknownDocument.path):Jn()).path.toArray();var h;const f={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(f))}).next(()=>Tt.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=oW(this.yt),s=new AW(l5.Bs,this.yt.ie);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var h;let f=null!==(h=a.get(u.userId))&&void 0!==h?h:ui();nw(this.yt,u).keys().forEach(y=>f=f.add(y)),a.set(u.userId,f)}),Tt.forEach(a,(u,h)=>{const f=new Kl(h),y=t5.re(this.yt,f),I=s.getIndexManager(f),C=o5.re(f,this.yt,I,s.referenceDelegate);return new uW(i,C,y,I).recalculateAndSaveOverlaysForDocumentKeys(new t4(t,yh.at),u).next()})})}}function hW(n){n.createObjectStore("targetDocuments",{keyPath:Goe}).createIndex("documentTargetsIndex",Woe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Koe,{unique:!0}),n.createObjectStore("targetGlobal")}const d4="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class f4{constructor(e,t,r,i,s,o,a,u,h,f,y=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=h,this.Ys=f,this.Xs=y,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=I=>Promise.resolve(),!f4.C())throw new tn(Rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mae(this,i),this.ii=t+"main",this.yt=new UG(u),this.ri=new If(this.ii,this.Xs,new xae(this.yt)),this.Cs=new dae(this.referenceDelegate,this.yt),this.remoteDocumentCache=oW(this.yt),this.Ns=new iae,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&xa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tn(Rt.FAILED_PRECONDITION,d4);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new yh(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Bt.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Bt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Bt.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>c5(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(E0(e))return ln("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ln("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return OS(e).get("owner").next(t=>Tt.resolve(this.mi(t)))}gi(e){return c5(e).delete(this.clientId)}yi(){var e=this;return(0,Bt.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Gl(r,"clientMetadata");return i.W().next(s=>{const o=e.Ii(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return Tt.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Tt.resolve(!0):OS(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new tn(Rt.FAILED_PRECONDITION,d4);return!1}}return!(!this.networkEnabled||!this.inForeground)||c5(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&a)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ln("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Bt.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new t4(t,yh.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>c5(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return o5.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hae(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return t5.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ln("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(o=this.Xs)?nae:14===o?kG:13===o?RG:12===o?tae:11===o?LG:void Jn();var o;let a;return this.ri.runTransaction(e,i,s,u=>(a=new t4(u,this.Ss?this.Ss.next():yh.at),"readwrite-primary"===t?this.fi(a).next(h=>!!h||this.di(a)).next(h=>{if(!h)throw xa(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new tn(Rt.FAILED_PRECONDITION,bK);return r(a)}).next(h=>this.wi(a).next(()=>h)):this.Vi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}Vi(e){return OS(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tn(Rt.FAILED_PRECONDITION,d4)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return OS(e).put("owner",t)}static C(){return If.C()}_i(e){const t=OS(e);return t.get("owner").next(r=>this.mi(r)?(ln("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Tt.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(xa(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,be.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ln("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xa("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){xa("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function OS(n){return Gl(n,"owner")}function c5(n){return Gl(n,"clientMetadata")}function p4(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class g4{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=ui(),i=ui();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g4(e,t.fromCache,r,i)}}class dW{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if($K(t))return Tt.resolve(null);let r=Lu(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=zM(t,null,"F"),r=Lu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ui(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Fi(t,a);return this.$i(t,h,o,u.readTime)?this.ki(e,zM(t,null,"F")):this.Bi(e,h,t,u)}))})))}Oi(e,t,r,i){return $K(t)||i.isEqual(mr.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(NU()<=kc.in.DEBUG&&ln("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$U(t)),this.Bi(e,o,t,_K(i,-1)))})}Fi(e,t){let r=new Rs(XK(e));return t.forEach((i,s)=>{vS(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return NU()<=kc.in.DEBUG&&ln("QueryEngine","Using full collection scan to execute query:",$U(t)),this.Ni.getDocumentsMatchingQuery(e,t,mh.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Dae{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new fa($r),this.Ui=new T0(s=>Y_(s),mS),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uW(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function fW(n,e,t,r){return new Dae(n,e,t,r)}function pW(n,e){return m4.apply(this,arguments)}function m4(){return m4=(0,Bt.Z)(function*(n,e){const t=Tn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ui();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(h=>({ji:h,removedBatchIds:o,addedBatchIds:a}))})})}),m4.apply(this,arguments)}function Tae(n,e){const t=Tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,h){const f=u.batch,y=f.keys();let I=Tt.resolve();return y.forEach(C=>{I=I.next(()=>h.getEntry(a,C)).next(P=>{const L=u.docVersions.get(C);lr(null!==L),P.version.compareTo(L)<0&&(f.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),h.addEntry(P)))})}),I.next(()=>o.mutationQueue.removeMutationBatch(a,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ui();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function gW(n){const e=Tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Fae(n,e){const t=Tn(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((f,y)=>{const I=i.get(y);if(!I)return;a.push(t.Cs.removeMatchingKeys(s,f.removedDocuments,y).next(()=>t.Cs.addMatchingKeys(s,f.addedDocuments,y)));let C=I.withSequenceNumber(s.currentSequenceNumber);var P,L,V;e.targetMismatches.has(y)?C=C.withResumeToken(yl.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):f.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(f.resumeToken,r)),i=i.insert(y,C),L=C,V=f,(0===(P=I).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,C))});let u=CA(),h=ui();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(mW(s,o,e.documentUpdates).next(f=>{u=f.Wi,h=f.zi})),!r.isEqual(mr.min())){const f=t.Cs.getLastRemoteSnapshotVersion(s).next(y=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return Tt.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(t.qi=i,s))}function mW(n,e,t){let r=ui(),i=ui();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=CA();return t.forEach((a,u)=>{const h=s.get(a);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(mr.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||0===u.version.compareTo(h.version)&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ln("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",u.version)}),{Wi:o,zi:i}})}function Mae(n,e){const t=Tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hC(n,e){const t=Tn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,Tt.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new F0(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function dC(n,e,t){return y4.apply(this,arguments)}function y4(){return y4=(0,Bt.Z)(function*(n,e,t){const r=Tn(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!E0(o))throw o;ln("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),y4.apply(this,arguments)}function u5(n,e,t){const r=Tn(n);let i=mr.min(),s=ui();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,h){const f=Tn(a),y=f.Ui.get(h);return void 0!==y?Tt.resolve(f.qi.get(y)):f.Cs.getTargetData(u,h)}(r,o,Lu(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:mr.min(),t?s:ui())).next(a=>(_W(r,ZK(e),a),{documents:a,Hi:s})))}function yW(n,e){const t=Tn(n),r=Tn(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function vW(n,e){const t=Tn(n),r=t.Ki.get(e)||mr.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,_K(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(_W(t,e,i),i))}function _W(n,e,t){let r=n.Ki.get(e)||mr.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}function v4(){return v4=(0,Bt.Z)(function*(n,e,t,r){const i=Tn(n);let s=ui(),o=CA();for(const h of t){const f=e.Ji(h.metadata.name);h.document&&(s=s.add(f));const y=e.Yi(h);y.setReadTime(e.Xi(h.metadata.readTime)),o=o.insert(f,y)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),u=yield hC(i,(h=r,Lu(nC(Gi.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>mW(h,a,o).next(f=>(a.apply(h),f)).next(f=>i.Cs.removeMatchingKeysForTargetId(h,u.targetId).next(()=>i.Cs.addMatchingKeys(h,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,f.Wi,f.zi)).next(()=>f.Wi)))}),v4.apply(this,arguments)}function Pae(n,e){return _4.apply(this,arguments)}function _4(){return _4=(0,Bt.Z)(function*(n,e,t=ui()){const r=yield hC(n,Lu(s4(e.bundledQuery))),i=Tn(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Da(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(yl.EMPTY_BYTE_STRING,o);return i.qi=i.qi.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}),_4.apply(this,arguments)}function wW(n,e){return`firestore_clients_${n}_${e}`}function bW(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function w4(n,e){return`firestore_targets_${n}_${e}`}class A5{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new tn(i.error.code,i.error.message))),o?new A5(e,t,i.state,s):(xa("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LS{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new tn(r.error.code,r.error.message))),s?new LS(e,r.state,i):(xa("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class h5{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ZM();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=SK(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new h5(e,s):(xa("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class b4{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new b4(t.clientId,t.onlineState):(xa("SharedClientState",`Failed to parse online state: ${e}`),null)}}class C4{constructor(){this.activeTargetIds=ZM()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E4{constructor(e,t,r,i,s){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new fa($r),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=wW(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new C4),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Bt.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const s=e.getItem(wW(e.persistenceKey,i));if(s){const o=h5.Zi(i,s);o&&(e.ur=e.ur.insert(o.clientId,o))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(w4(this.persistenceKey,e));if(r){const i=LS.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(w4(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ln("SharedClientState","READ",e,t),t}setItem(e,t){ln("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ln("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ln("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void xa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Bt.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(s){let o=yh.at;if(null!=s)try{const a=JSON.parse(s);lr("number"==typeof a),o=a}catch(a){xa("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(r.newValue);i!==yh.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new A5(this.currentUser,e,t,r),s=bW(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const t=bW(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=w4(this.persistenceKey,e),s=new LS(e,t,r);this.setItem(i,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return h5.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return A5.Zi(new Kl(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return LS.Zi(i,t)}yr(e){return b4.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Bt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ln("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ZM();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class CW{constructor(){this.Lr=new C4,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new C4,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Oae{Ur(e){}shutdown(){}}class EW{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ln("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ln("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Lae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rae{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class kae extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);ln("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(ln("RestConnection","Received: ",u),u),u=>{throw j_("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Y1,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Lae[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new Rse;a.setWithCredentials(!0),a.listenOnce(Pse.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case MU.NO_ERROR:const h=a.getResponseJson();ln("Connection","XHR received:",JSON.stringify(h)),s(h);break;case MU.TIMEOUT:ln("Connection",'RPC "'+e+'" timed out'),o(new tn(Rt.DEADLINE_EXCEEDED,"Request time out"));break;case MU.HTTP_ERROR:const f=a.getStatus();if(ln("Connection",'RPC "'+e+'" failed with status:',f,"response text:",a.getResponseText()),f>0){let y=a.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=null==y?void 0:y.error;if(I&&I.status&&I.message){const C=function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(Rt).indexOf(L)>=0?L:Rt.UNKNOWN}(I.status);o(new tn(C,I.message))}else o(new tn(Rt.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new tn(Rt.UNAVAILABLE,"Connection failed."));break;default:Jn()}}finally{ln("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mse(),o=Nse(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Lse({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const u=i.join("");ln("Connection","Creating WebChannel: "+u,a);const h=s.createWebChannel(u,a);let f=!1,y=!1;const I=new Rae({Hr:P=>{y?ln("Connection","Not sending because WebChannel is closed:",P):(f||(ln("Connection","Opening WebChannel transport."),h.open(),f=!0),ln("Connection","WebChannel sending:",P),h.send(P))},Jr:()=>h.close()}),C=(P,L,V)=>{P.listen(L,j=>{try{V(j)}catch(z){setTimeout(()=>{throw z},0)}})};return C(h,RM.EventType.OPEN,()=>{y||ln("Connection","WebChannel transport opened.")}),C(h,RM.EventType.CLOSE,()=>{y||(y=!0,ln("Connection","WebChannel transport closed"),I.io())}),C(h,RM.EventType.ERROR,P=>{y||(y=!0,j_("Connection","WebChannel transport errored:",P),I.io(new tn(Rt.UNAVAILABLE,"The operation could not be completed")))}),C(h,RM.EventType.MESSAGE,P=>{var L;if(!y){const V=P.data[0];lr(!!V);const j=V,z=j.error||(null===(L=j[0])||void 0===L?void 0:L.error);if(z){ln("Connection","WebChannel received error:",z);const se=z.status;let ve=function(Ve){const Oe=Wa[Ve];if(void 0!==Oe)return dG(Oe)}(se),Se=z.message;void 0===ve&&(ve=Rt.INTERNAL,Se="Unknown error status: "+se+" with message "+z.message),y=!0,I.io(new tn(ve,Se)),h.close()}else ln("Connection","WebChannel received:",V),I.ro(V)}}),C(o,Ose.STAT_EVENT,P=>{P.stat===fK.PROXY?ln("Connection","Detected buffering proxy"):P.stat===fK.NOPROXY&&ln("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.so()},0),I}}function IW(){return"undefined"!=typeof window?window:null}function d5(){return"undefined"!=typeof document?document:null}function RS(n){return new Doe(n,!0)}class I4{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&ln("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class BW{constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new I4(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Bt.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Bt.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Bt.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Rt.RESOURCE_EXHAUSTED?(xa(t.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Rt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new tn(Rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Bt.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ln("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ln("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uae extends BW{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Moe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Jn(),i=e.targetChange.targetIds||[],s=function(u,h){return u.wt?(lr(void 0===h||"string"==typeof h),yl.fromBase64String(h||"")):(lr(void 0===h||h instanceof Uint8Array),yl.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=void 0===u.code?Rt.UNKNOWN:dG(u.code);return new tn(h,u.message||"")}(o);t=new yG(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=tg(n,r.document.name),s=Da(r.document.updateTime),o=r.document.createTime?Da(r.document.createTime):mr.min(),a=new pc({mapValue:{fields:r.document.fields}}),u=So.newFoundDocument(i,s,o,a);t=new XM(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=tg(n,r.document),s=r.readTime?Da(r.readTime):mr.min(),o=So.newNoDocument(i,s);t=new XM([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=tg(n,r.document);t=new XM([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Jn();{const r=e.filter,s=new _oe(r.count||0);t=new mG(r.targetId,s)}}var u;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return mr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?mr.min():s.readTime?Da(s.readTime):mr.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=SS(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=KM(a)?{documents:xG(i,a)}:{query:e4(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=bG(i,s.resumeToken):s.snapshotVersion.compareTo(mr.min())>0&&(o.readTime=aC(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function Poe(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=SS(this.yt),t.removeTarget=e,this.Bo(t)}}class Qae extends BW{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(lr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Noe(n,e){return n&&n.length>0?(lr(void 0!==e),n.map(t=>function(r,i){let s=Da(r.updateTime?r.updateTime:i);return s.isEqual(mr.min())&&(s=Da(i)),new moe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Da(e.commitTime);return this.listener.Zo(r,t)}return lr(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=SS(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>xS(this.yt,r))};this.Bo(t)}}class Hae extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new tn(Rt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new tn(Rt.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tn(Rt.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class jae{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(xa(t),this.ou=!1):ln("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Kae{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget((0,Bt.Z)(function*(){var u;Bm(o)&&(ln("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Bt.Z)(function*(h){const f=Tn(h);f._u.add(4),yield fC(f),f.gu.set("Unknown"),f._u.delete(4),yield kS(f)}),function(h){return u.apply(this,arguments)})(o))}))}),this.gu=new jae(r,i)}}function kS(n){return S4.apply(this,arguments)}function S4(){return S4=(0,Bt.Z)(function*(n){if(Bm(n))for(const e of n.wu)yield e(!0)}),S4.apply(this,arguments)}function fC(n){return x4.apply(this,arguments)}function x4(){return x4=(0,Bt.Z)(function*(n){for(const e of n.wu)yield e(!1)}),x4.apply(this,arguments)}function f5(n,e){const t=Tn(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),F4(t)?T4(t):gC(t).ko()&&D4(t,e))}function US(n,e){const t=Tn(n),r=gC(t);t.du.delete(e),r.ko()&&SW(t,e),0===t.du.size&&(r.ko()?r.Fo():Bm(t)&&t.gu.set("Unknown"))}function D4(n,e){n.yu.Ot(e.targetId),gC(n).zo(e)}function SW(n,e){n.yu.Ot(e),gC(n).Ho(e)}function T4(n){n.yu=new Ioe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),gC(n).start(),n.gu.uu()}function F4(n){return Bm(n)&&!gC(n).No()&&n.du.size>0}function Bm(n){return 0===Tn(n)._u.size}function xW(n){n.yu=void 0}function Gae(n){return M4.apply(this,arguments)}function M4(){return M4=(0,Bt.Z)(function*(n){n.du.forEach((e,t)=>{D4(n,e)})}),M4.apply(this,arguments)}function Wae(n,e){return N4.apply(this,arguments)}function N4(){return N4=(0,Bt.Z)(function*(n,e){xW(n),F4(n)?(n.gu.hu(e),T4(n)):n.gu.set("Unknown")}),N4.apply(this,arguments)}function zae(n,e,t){return P4.apply(this,arguments)}function P4(){return P4=(0,Bt.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof yG&&2===e.state&&e.cause)try{yield(r=(0,Bt.Z)(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){ln("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield p5(n,r)}else if(e instanceof XM?n.yu.Kt(e):e instanceof mG?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(mr.min()))try{const r=yield gW(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.du.get(u);h&&i.du.set(u,h.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(yl.EMPTY_BYTE_STRING,u.snapshotVersion)),SW(i,a);const h=new F0(u.target,a,1,u.sequenceNumber);D4(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){ln("RemoteStore","Failed to raise snapshot:",r),yield p5(n,r)}var r}),P4.apply(this,arguments)}function p5(n,e,t){return O4.apply(this,arguments)}function O4(){return O4=(0,Bt.Z)(function*(n,e,t){if(!E0(e))throw e;n._u.add(1),yield fC(n),n.gu.set("Offline"),t||(t=()=>gW(n.localStore)),n.asyncQueue.enqueueRetryable((0,Bt.Z)(function*(){ln("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield kS(n)}))}),O4.apply(this,arguments)}function DW(n,e){return e().catch(t=>p5(n,t,e))}function pC(n){return L4.apply(this,arguments)}function L4(){return L4=(0,Bt.Z)(function*(n){const e=Tn(n),t=O0(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;qae(e);)try{const i=yield Mae(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,$ae(e,i)}catch(i){yield p5(e,i)}TW(e)&&FW(e)}),L4.apply(this,arguments)}function qae(n){return Bm(n)&&n.fu.length<10}function $ae(n,e){n.fu.push(e);const t=O0(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function TW(n){return Bm(n)&&!O0(n).No()&&n.fu.length>0}function FW(n){O0(n).start()}function Yae(n){return R4.apply(this,arguments)}function R4(){return R4=(0,Bt.Z)(function*(n){O0(n).eu()}),R4.apply(this,arguments)}function Zae(n){return k4.apply(this,arguments)}function k4(){return k4=(0,Bt.Z)(function*(n){const e=O0(n);for(const t of n.fu)e.Xo(t.mutations)}),k4.apply(this,arguments)}function Xae(n,e,t){return U4.apply(this,arguments)}function U4(){return U4=(0,Bt.Z)(function*(n,e,t){const r=n.fu.shift(),i=r4.from(r,e,t);yield DW(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield pC(n)}),U4.apply(this,arguments)}function Jae(n,e){return Q4.apply(this,arguments)}function Q4(){return Q4=(0,Bt.Z)(function*(n,e){var t;e&&O0(n).Yo&&(yield(t=(0,Bt.Z)(function*(r,i){if(hG(s=i.code)&&s!==Rt.ABORTED){const o=r.fu.shift();O0(r).Mo(),yield DW(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield pC(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),TW(n)&&FW(n)}),Q4.apply(this,arguments)}function MW(n,e){return H4.apply(this,arguments)}function H4(){return H4=(0,Bt.Z)(function*(n,e){const t=Tn(n);t.asyncQueue.verifyOperationInProgress(),ln("RemoteStore","RemoteStore received new credentials");const r=Bm(t);t._u.add(3),yield fC(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield kS(t)}),H4.apply(this,arguments)}function V4(n,e){return j4.apply(this,arguments)}function j4(){return j4=(0,Bt.Z)(function*(n,e){const t=Tn(n);e?(t._u.delete(2),yield kS(t)):e||(t._u.add(2),yield fC(t),t.gu.set("Unknown"))}),j4.apply(this,arguments)}function gC(n){return n.pu||(n.pu=function(e,t,r){const i=Tn(e);return i.su(),new Uae(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Gae.bind(null,n),Zr:Wae.bind(null,n),Wo:zae.bind(null,n)}),n.wu.push(function(){var e=(0,Bt.Z)(function*(t){t?(n.pu.Mo(),F4(n)?T4(n):n.gu.set("Unknown")):(yield n.pu.stop(),xW(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function O0(n){return n.Iu||(n.Iu=function(e,t,r){const i=Tn(e);return i.su(),new Qae(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Yae.bind(null,n),Zr:Jae.bind(null,n),tu:Zae.bind(null,n),Zo:Xae.bind(null,n)}),n.wu.push(function(){var e=(0,Bt.Z)(function*(t){t?(n.Iu.Mo(),yield pC(n)):(yield n.Iu.stop(),n.fu.length>0&&(ln("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class K4{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new K4(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tn(Rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mC(n,e){if(xa("AsyncQueue",`${e}: ${n}`),E0(n))return new tn(Rt.UNAVAILABLE,`${e}: ${n}`);throw n}class yC{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Bn.comparator(t.key,r.key):(t,r)=>Bn.comparator(t.key,r.key),this.keyedMap=bS(),this.sortedSet=new fa(this.comparator)}static emptySet(e){return new yC(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yC)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new yC;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NW{constructor(){this.Tu=new fa(Bn.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Jn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class vC{constructor(e,t,r,i,s,o,a,u,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new vC(e,t,yC.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ele{constructor(){this.Au=void 0,this.listeners=[]}}class tle{constructor(){this.queries=new T0(e=>YK(e),yS),this.onlineState="Unknown",this.Ru=new Set}}function G4(n,e){return W4.apply(this,arguments)}function W4(){return W4=(0,Bt.Z)(function*(n,e){const t=Tn(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new ele),i)try{s.Au=yield t.onListen(r)}catch(o){const a=mC(o,`Initialization of query '${$U(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&$4(t)}),W4.apply(this,arguments)}function z4(n,e){return q4.apply(this,arguments)}function q4(){return q4=(0,Bt.Z)(function*(n,e){const t=Tn(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),q4.apply(this,arguments)}function nle(n,e){const t=Tn(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&$4(t)}function rle(n,e,t){const r=Tn(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function $4(n){n.Ru.forEach(e=>{e.next()})}class Y4{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new vC(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=vC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ile{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class PW{constructor(e){this.yt=e}Ji(e){return tg(this.yt,e)}Yi(e){return e.metadata.exists?SG(this.yt,e.document,!1):So.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Da(e)}}class sle{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OW(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Gi.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new PW(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||ui()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,Bt.Z)(function*(){const t=yield function Nae(n,e,t,r){return v4.apply(this,arguments)}(e.localStore,new PW(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield Pae(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function OW(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class LW{constructor(e){this.key=e}}class RW{constructor(e){this.key=e}}class kW{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ui(),this.mutatedKeys=ui(),this.Gu=XK(e),this.Qu=new yC(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new NW,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,h="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,y)=>{const I=i.get(f),C=vS(this.query,y)?y:null,P=!!I&&this.mutatedKeys.has(I.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;I&&C?I.data.isEqual(C.data)?P!==L&&(r.track({type:3,doc:C}),V=!0):this.Hu(I,C)||(r.track({type:2,doc:C}),V=!0,(u&&this.Gu(C,u)>0||h&&this.Gu(C,h)<0)&&(a=!0)):!I&&C?(r.track({type:0,doc:C}),V=!0):I&&!C&&(r.track({type:1,doc:I}),V=!0,(u||h)&&(a=!0)),V&&(C?(o=o.add(C),s=L?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const f="F"===this.query.limitType?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((h,f)=>function(y,I){const C=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jn()}};return C(y)-C(I)}(h.type,f.type)||this.Gu(h.doc,f.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new vC(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NW,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ui(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new RW(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new LW(r))}),t}tc(e){this.qu=e.Hi,this.Ku=ui();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return vC.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class ole{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ale{constructor(e){this.key=e,this.nc=!1}}class lle{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new T0(a=>YK(a),yS),this.rc=new Map,this.oc=new Set,this.uc=new fa(Bn.comparator),this.cc=new Map,this.ac=new h4,this.hc={},this.lc=new Map,this.fc=sw.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function cle(n,e){return Z4.apply(this,arguments)}function Z4(){return Z4=(0,Bt.Z)(function*(n,e){const t=_3(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield hC(t.localStore,Lu(e));t.isPrimaryClient&&f5(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield X4(t,e,r,"current"===a,o.resumeToken)}return i}),Z4.apply(this,arguments)}function X4(n,e,t,r,i){return J4.apply(this,arguments)}function J4(){return J4=(0,Bt.Z)(function*(n,e,t,r,i){n._c=(y,I,C)=>{return(P=(0,Bt.Z)(function*(L,V,j,z){let se=V.view.Wu(j);se.$i&&(se=yield u5(L.localStore,V.query,!1).then(({documents:Ve})=>V.view.Wu(Ve,se)));const ve=z&&z.targetChanges.get(V.targetId),Se=V.view.applyChanges(se,L.isPrimaryClient,ve);return c3(L,V.targetId,Se.Xu),Se.snapshot}),function(L,V,j,z){return P.apply(this,arguments)})(n,y,I,C);var P};const s=yield u5(n.localStore,e,!0),o=new kW(e,s.Hi),a=o.Wu(s.documents),u=IS.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),h=o.applyChanges(a,n.isPrimaryClient,u);c3(n,t,h.Xu);const f=new ole(e,t,o);return n.ic.set(e,f),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),h.snapshot}),J4.apply(this,arguments)}function ule(n,e){return e3.apply(this,arguments)}function e3(){return e3=(0,Bt.Z)(function*(n,e){const t=Tn(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!yS(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield dC(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),US(t.remoteStore,r.targetId),_C(t,r.targetId)}).catch(C0))):(_C(t,r.targetId),yield dC(t.localStore,r.targetId,!0))}),e3.apply(this,arguments)}function t3(){return t3=(0,Bt.Z)(function*(n,e,t){const r=w3(n);try{const i=yield function(s,o){const a=Tn(s),u=Uo.now(),h=o.reduce((I,C)=>I.add(C.key),ui());let f,y;return a.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=CA(),P=ui();return a.Gi.getEntries(I,h).next(L=>{C=L,C.forEach((V,j)=>{j.isValidDocument()||(P=P.add(V))})}).next(()=>a.localDocuments.getOverlayedDocuments(I,C)).next(L=>{f=L;const V=[];for(const j of o){const z=voe(j,f.get(j.key).overlayedDocument);null!=z&&V.push(new Im(j.key,z,GK(z.value.mapValue),Qo.exists(!0)))}return a.mutationQueue.addMutationBatch(I,u,V,o)}).next(L=>{y=L;const V=L.applyToLocalDocumentSet(f,P);return a.documentOverlayCache.saveOverlays(I,L.batchId,V)})}).then(()=>({batchId:y.batchId,changes:pG(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new fa($r)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Sm(r,i.changes),yield pC(r.remoteStore)}catch(i){const s=mC(i,"Failed to persist write");t.reject(s)}}),t3.apply(this,arguments)}function UW(n,e){return n3.apply(this,arguments)}function n3(){return n3=(0,Bt.Z)(function*(n,e){const t=Tn(n);try{const r=yield Fae(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(lr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?lr(o.nc):i.removedDocuments.size>0&&(lr(o.nc),o.nc=!1))}),yield Sm(t,r,e)}catch(r){yield C0(r)}}),n3.apply(this,arguments)}function QW(n,e,t){const r=Tn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Tn(s);a.onlineState=o;let u=!1;a.queries.forEach((h,f)=>{for(const y of f.listeners)y.bu(o)&&(u=!0)}),u&&$4(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hle(n,e,t){return r3.apply(this,arguments)}function r3(){return r3=(0,Bt.Z)(function*(n,e,t){const r=Tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new fa(Bn.comparator);o=o.insert(s,So.newNoDocument(s,mr.min()));const a=ui().add(s),u=new ES(mr.min(),new Map,new Rs($r),o,a);yield UW(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),u3(r)}else yield dC(r.localStore,e,!1).then(()=>_C(r,e,t)).catch(C0)}),r3.apply(this,arguments)}function dle(n,e){return i3.apply(this,arguments)}function i3(){return i3=(0,Bt.Z)(function*(n,e){const t=Tn(n),r=e.batch.batchId;try{const i=yield Tae(t.localStore,e);l3(t,r,null),a3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Sm(t,i)}catch(i){yield C0(i)}}),i3.apply(this,arguments)}function fle(n,e,t){return s3.apply(this,arguments)}function s3(){return s3=(0,Bt.Z)(function*(n,e,t){const r=Tn(n);try{const i=yield function(s,o){const a=Tn(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return a.mutationQueue.lookupMutationBatch(u,o).next(f=>(lr(null!==f),h=f.keys(),a.mutationQueue.removeMutationBatch(u,f))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,h,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>a.localDocuments.getDocuments(u,h))})}(r.localStore,e);l3(r,e,t),a3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Sm(r,i)}catch(i){yield C0(i)}}),s3.apply(this,arguments)}function o3(){return o3=(0,Bt.Z)(function*(n,e){const t=Tn(n);Bm(t.remoteStore)||ln("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=Tn(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=mC(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),o3.apply(this,arguments)}function a3(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function l3(n,e,t){const r=Tn(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function _C(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||HW(n,r)})}function HW(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(US(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),u3(n))}function c3(n,e,t){for(const r of t)r instanceof LW?(n.ac.addReference(r.key,e),gle(n,r)):r instanceof RW?(ln("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||HW(n,r.key)):Jn()}function gle(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(ln("SyncEngine","New document in limbo: "+t),n.oc.add(r),u3(n))}function u3(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Bn(Gi.fromString(e)),r=n.fc.next();n.cc.set(r,new ale(t)),n.uc=n.uc.insert(t,r),f5(n.remoteStore,new F0(Lu(nC(t.path)),r,2,yh.at))}}function Sm(n,e,t){return A3.apply(this,arguments)}function A3(){return A3=(0,Bt.Z)(function*(n,e,t){const r=Tn(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,t).then(h=>{if((h||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,(null==h?void 0:h.fromCache)?"not-current":"current"),h){i.push(h);const f=g4.Ci(u.targetId,h);s.push(f)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=(0,Bt.Z)(function*(u,h){const f=Tn(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Tt.forEach(h,I=>Tt.forEach(I.Si,C=>f.persistence.referenceDelegate.addReference(y,I.targetId,C)).next(()=>Tt.forEach(I.Di,C=>f.persistence.referenceDelegate.removeReference(y,I.targetId,C)))))}catch(y){if(!E0(y))throw y;ln("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const I=y.targetId;if(!y.fromCache){const C=f.qi.get(I),L=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);f.qi=f.qi.insert(I,L)}}}),function(u,h){return a.apply(this,arguments)})(r.localStore,s))}),A3.apply(this,arguments)}function mle(n,e){return h3.apply(this,arguments)}function h3(){return h3=(0,Bt.Z)(function*(n,e){const t=Tn(n);if(!t.currentUser.isEqual(e)){ln("SyncEngine","User change. New user:",e.toKey());const r=yield pW(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new tn(Rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sm(t,r.ji)}var i}),h3.apply(this,arguments)}function yle(n,e){const t=Tn(n),r=t.cc.get(e);if(r&&r.nc)return ui().add(r.key);{let i=ui();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function vle(n,e){return d3.apply(this,arguments)}function d3(){return d3=(0,Bt.Z)(function*(n,e){const t=Tn(n),r=yield u5(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&c3(t,e.targetId,i.Xu),i}),d3.apply(this,arguments)}function _le(n,e){return f3.apply(this,arguments)}function f3(){return f3=(0,Bt.Z)(function*(n,e){const t=Tn(n);return vW(t.localStore,e).then(r=>Sm(t,r))}),f3.apply(this,arguments)}function wle(n,e,t,r){return p3.apply(this,arguments)}function p3(){return p3=(0,Bt.Z)(function*(n,e,t,r){const i=Tn(n),s=yield function(o,a){const u=Tn(o),h=Tn(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.Tn(f,a).next(y=>y?u.localDocuments.getDocuments(f,y):Tt.resolve(null)))}(i.localStore,e);var a;null!==s?("pending"===t?yield pC(i.remoteStore):"acknowledged"===t||"rejected"===t?(l3(i,e,r||null),a3(i,e),a=e,Tn(Tn(i.localStore).mutationQueue).An(a)):Jn(),yield Sm(i,s)):ln("SyncEngine","Cannot apply mutation batch with id: "+e)}),p3.apply(this,arguments)}function g3(){return g3=(0,Bt.Z)(function*(n,e){const t=Tn(n);if(_3(t),w3(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield VW(t,r.toArray());t.dc=!0,yield V4(t.remoteStore,!0);for(const s of i)f5(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(_C(t,o),dC(t.localStore,o,!0))),US(t.remoteStore,o)}),yield i,yield VW(t,r),function(s){const o=Tn(s);o.cc.forEach((a,u)=>{US(o.remoteStore,u)}),o.ac.fs(),o.cc=new Map,o.uc=new fa(Bn.comparator)}(t),t.dc=!1,yield V4(t.remoteStore,!1)}}),g3.apply(this,arguments)}function VW(n,e,t){return m3.apply(this,arguments)}function m3(){return m3=(0,Bt.Z)(function*(n,e,t){const r=Tn(n),i=[],s=[];for(const o of e){let a;const u=r.rc.get(o);if(u&&0!==u.length){a=yield hC(r.localStore,Lu(u[0]));for(const h of u){const f=r.ic.get(h),y=yield vle(r,f);y.snapshot&&s.push(y.snapshot)}}else{const h=yield yW(r.localStore,o);a=yield hC(r.localStore,h),yield X4(r,jW(h),o,!1,a.resumeToken)}i.push(a)}return r.sc.Wo(s),i}),m3.apply(this,arguments)}function jW(n){return qK(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Cle(n){const e=Tn(n);return Tn(Tn(e.localStore).persistence).vi()}function Ele(n,e,t,r){return y3.apply(this,arguments)}function y3(){return y3=(0,Bt.Z)(function*(n,e,t,r){const i=Tn(n);if(i.dc)return void ln("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield vW(i.localStore,ZK(s[0])),a=ES.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,yl.EMPTY_BYTE_STRING);yield Sm(i,o,a);break}case"rejected":yield dC(i.localStore,e,!0),_C(i,e,r);break;default:Jn()}}),y3.apply(this,arguments)}function Ile(n,e,t){return v3.apply(this,arguments)}function v3(){return v3=(0,Bt.Z)(function*(n,e,t){const r=_3(n);if(r.dc){for(const i of e){if(r.rc.has(i)){ln("SyncEngine","Adding an already active target "+i);continue}const s=yield yW(r.localStore,i),o=yield hC(r.localStore,s);yield X4(r,jW(s),o.targetId,!1,o.resumeToken),f5(r.remoteStore,o)}for(const i of t)r.rc.has(i)&&(yield dC(r.localStore,i,!1).then(()=>{US(r.remoteStore,i),_C(r,i)}).catch(C0))}}),v3.apply(this,arguments)}function _3(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hle.bind(null,e),e.sc.Wo=nle.bind(null,e.eventManager),e.sc.wc=rle.bind(null,e.eventManager),e}function w3(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fle.bind(null,e),e}class KW{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Bt.Z)(function*(){t.yt=RS(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return fW(this.persistence,new dW,e.initialUser,this.yt)}yc(e){return new AW(l5.Bs,this.yt)}gc(e){return new CW}terminate(){var e=this;return(0,Bt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GW extends KW{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Bt.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield w3(r.Ac.syncEngine),yield pC(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return fW(this.persistence,new dW,e.initialUser,this.yt)}Tc(e,t){return new pae(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new Jse(t,this.persistence);return new Xse(e.asyncQueue,r)}yc(e){const t=p4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?EA.withCacheSize(this.cacheSizeBytes):EA.DEFAULT;return new f4(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IW(),d5(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new CW}}class Sle extends GW{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Bt.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof E4&&(r.sharedClientState.syncEngine={Fr:wle.bind(null,i),$r:Ele.bind(null,i),Br:Ile.bind(null,i),vi:Cle.bind(null,i),Mr:_le.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var s=(0,Bt.Z)(function*(o){yield function ble(n,e){return g3.apply(this,arguments)}(r.Ac.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}gc(e){const t=IW();if(!E4.C(t))throw new tn(Rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=p4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new E4(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class b3{initialize(e,t){var r=this;return(0,Bt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>QW(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mle.bind(null,r.syncEngine),yield V4(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tle}createDatastore(e){const t=RS(e.databaseInfo.databaseId),r=new kae(e.databaseInfo);return new Hae(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>QW(this.syncEngine,a,0),o=EW.C()?new EW:new Oae,new Kae(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,h){const f=new lle(r,i,s,o,a,u);return h&&(f.dc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=(0,Bt.Z)(function*(t){const r=Tn(t);ln("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield fC(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function C3(n,e,t){if(!t)throw new tn(Rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WW(n,e,t,r){if(!0===e&&!0===r)throw new tn(Rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zW(n){if(!Bn.isDocumentKey(n))throw new tn(Rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qW(n){if(Bn.isDocumentKey(n))throw new tn(Rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function g5(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Jn()}function Li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tn(Rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=g5(n);throw new tn(Rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $W(n,e){if(e<=0)throw new tn(Rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const YW=new Map;class ZW{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tn(Rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tn(Rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,WW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class QS{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tn(Rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tn(Rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Qse;switch(t.type){case"gapi":return new Kse(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tn(Rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=YW.get(e);t&&(ln("ComponentProvider","Removing Datastore"),YW.delete(e),t.terminate())}(this),Promise.resolve()}}class xo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xo(this.firestore,e,this._key)}}class gc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gc(this.firestore,e,this._query)}}class rg extends gc{constructor(e,t,r){super(e,t,nC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xo(this.firestore,null,new Bn(e))}withConverter(e){return new rg(this.firestore,e,this._path)}}function JW(n,e,...t){if(n=(0,be.m9)(n),C3("collection","path",e),n instanceof QS){const r=Gi.fromString(e,...t);return qW(r),new rg(n,null,r)}{if(!(n instanceof xo||n instanceof rg))throw new tn(Rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gi.fromString(e,...t));return qW(r),new rg(n.firestore,null,r)}}function m5(n,e,...t){if(n=(0,be.m9)(n),1===arguments.length&&(e=yK.R()),C3("doc","path",e),n instanceof QS){const r=Gi.fromString(e,...t);return zW(r),new xo(n,null,new Bn(r))}{if(!(n instanceof xo||n instanceof rg))throw new tn(Rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gi.fromString(e,...t));return zW(r),new xo(n.firestore,n instanceof rg?n.converter:null,new Bn(r))}}function ez(n,e){return n=(0,be.m9)(n),e=(0,be.m9)(e),(n instanceof xo||n instanceof rg)&&(e instanceof xo||e instanceof rg)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function E3(n,e){return n=(0,be.m9)(n),e=(0,be.m9)(e),n instanceof gc&&e instanceof gc&&n.firestore===e.firestore&&yS(n._query,e._query)&&n.converter===e.converter}function tz(n,e=10240){let t=0;return{read:()=>(0,Bt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Bt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class y5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dle{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new ml,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Bt.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Bt.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Bt.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const s=yield e.Cc(i);return new ile(JSON.parse(s),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Bt.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Bt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Bt.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Mle{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Bt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new tn(Rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Bt.Z)(function*(s,o){const a=Tn(s),u=SS(a.yt)+"/documents",h={documents:o.map(C=>BS(a.yt,C))},f=yield a._o("BatchGetDocuments",u,h,o.length),y=new Map;f.forEach(C=>{const P=function Foe(n,e){return"found"in e?function(t,r){lr(!!r.found);const i=tg(t,r.found.name),s=Da(r.found.updateTime),o=r.found.createTime?Da(r.found.createTime):mr.min(),a=new pc({mapValue:{fields:r.found.fields}});return So.newFoundDocument(i,s,o,a)}(n,e):"missing"in e?function(t,r){lr(!!r.missing),lr(!!r.readTime);const i=tg(t,r.missing),s=Da(r.readTime);return So.newNoDocument(i,s)}(n,e):Jn()}(a.yt,C);y.set(P.key.toString(),P)});const I=[];return o.forEach(C=>{const P=y.get(C.toString());lr(!!P),I.push(P)}),I}),function(s,o){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new oC(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Bt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Bn.fromPath(i);e.mutations.push(new YU(s,e.precondition(s)))}),yield(r=(0,Bt.Z)(function*(i,s){const o=Tn(i),a=SS(o.yt)+"/documents",u={writes:s.map(h=>xS(o.yt,h))};yield o.ao("Commit",a,u)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jn();t=mr.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new tn(Rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mr.min())?Qo.exists(!1):Qo.updateTime(t):Qo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mr.min()))throw new tn(Rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qo.updateTime(t)}return Qo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nle{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new I4(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Bt.Z)(function*(){const t=new Mle(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Fc(s)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!AS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hG(t)}return!1}}class Ple{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kl.UNAUTHENTICATED,this.clientId=yK.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Bt.Z)(function*(a){ln("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ln("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Bt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tn(Rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Bt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=mC(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function nz(n,e){return I3.apply(this,arguments)}function I3(){return I3=(0,Bt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ln("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Bt.Z)(function*(s){r.isEqual(s)||(yield pW(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),I3.apply(this,arguments)}function rz(n,e){return B3.apply(this,arguments)}function B3(){return B3=(0,Bt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield S3(n);ln("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>MW(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>MW(e.remoteStore,s)),n.onlineComponents=e}),B3.apply(this,arguments)}function S3(n){return x3.apply(this,arguments)}function x3(){return x3=(0,Bt.Z)(function*(n){return n.offlineComponents||(ln("FirestoreClient","Using default OfflineComponentProvider"),yield nz(n,new KW)),n.offlineComponents}),x3.apply(this,arguments)}function v5(n){return D3.apply(this,arguments)}function D3(){return D3=(0,Bt.Z)(function*(n){return n.onlineComponents||(ln("FirestoreClient","Using default OnlineComponentProvider"),yield rz(n,new b3)),n.onlineComponents}),D3.apply(this,arguments)}function iz(n){return S3(n).then(e=>e.persistence)}function _5(n){return S3(n).then(e=>e.localStore)}function T3(n){return v5(n).then(e=>e.remoteStore)}function F3(n){return v5(n).then(e=>e.syncEngine)}function wC(n){return M3.apply(this,arguments)}function M3(){return M3=(0,Bt.Z)(function*(n){const e=yield v5(n),t=e.eventManager;return t.onListen=cle.bind(null,e.syncEngine),t.onUnlisten=ule.bind(null,e.syncEngine),t}),M3.apply(this,arguments)}function oz(n,e,t={}){const r=new ml;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function(i,s,o,a,u){const h=new y5({next:y=>{s.enqueueAndForget(()=>z4(i,f));const I=y.docs.has(o);!I&&y.fromCache?u.reject(new tn(Rt.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&y.fromCache&&a&&"server"===a.source?u.reject(new tn(Rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),f=new Y4(nC(o.path),h,{includeMetadataChanges:!0,Nu:!0});return G4(i,f)}(yield wC(n),n.asyncQueue,e,t,r)})),r.promise}function az(n,e,t={}){const r=new ml;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function(i,s,o,a,u){const h=new y5({next:y=>{s.enqueueAndForget(()=>z4(i,f)),y.fromCache&&"server"===a.source?u.reject(new tn(Rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),f=new Y4(o,h,{includeMetadataChanges:!0,Nu:!0});return G4(i,f)}(yield wC(n),n.asyncQueue,e,t,r)})),r.promise}class Vle{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new I4(this,"async_queue_retry"),this.Wc=()=>{const t=d5();t&&ln("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=d5();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=d5();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new ml;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Bt.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!E0(t))throw t;ln("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,xa("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=K4.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&Jn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Bt.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function N3(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class jle{constructor(){this._progressObserver={},this._taskCompletionResolver=new ml,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Do extends QS{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vle,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lz(this),this._firestoreClient.terminate()}}function Ta(n){return n._firestoreClient||lz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lz(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new eoe(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Ple(n._authCredentials,n._appCheckCredentials,n._queue,r)}function cz(n,e,t){const r=new ml;return n.asyncQueue.enqueue((0,Bt.Z)(function*(){try{yield nz(n,t),yield rz(n,e),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(o=s).name?o.code===Rt.FAILED_PRECONDITION||o.code===Rt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;j_("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var o})).then(()=>r.promise)}function uz(n){if(n._initialized||n._terminated)throw new tn(Rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ig{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ig(yl.fromBase64String(e))}catch(t){throw new tn(Rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ig(yl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tn(Rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ha(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class aw{constructor(e){this._methodName=e}}class w5{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tn(Rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tn(Rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $r(this._lat,e._lat)||$r(this._long,e._long)}}const Jle=/^__.*__$/;class ece{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Im(e,this.data,this.fieldMask,t,this.fieldTransforms):new sC(e,this.data,t,this.fieldTransforms)}}class Az{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Im(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jn()}}class b5{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new b5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return I5(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(hz(this.sa)&&Jle.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class tce{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||RS(e)}da(e,t,r,i=!1){return new b5({sa:e,methodName:t,fa:r,path:ha.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function lw(n){const e=n._freezeSettings(),t=RS(n._databaseId);return new tce(n._databaseId,!!e.ignoreUndefinedProperties,t)}function C5(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);R3("Data must be an object, but it was:",o,r);const a=pz(r,o);let u,h;if(s.merge)u=new bA(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const y of s.mergeFields){const I=k3(e,y,t);if(!o.contains(I))throw new tn(Rt.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);mz(f,I)||f.push(I)}u=new bA(f),h=o.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,h=o.fieldTransforms;return new ece(new pc(a),u,h)}class HS extends aw{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof HS}}function dz(n,e,t){return new b5({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class P3 extends aw{_toFieldTransform(e){return new _S(e.path,new rC)}isEqual(e){return e instanceof P3}}class nce extends aw{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dz(this,e,!0),r=this._a.map(s=>cw(s,t)),i=new X_(r);return new _S(e.path,i)}isEqual(e){return this===e}}class rce extends aw{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dz(this,e,!0),r=this._a.map(s=>cw(s,t)),i=new J_(r);return new _S(e.path,i)}isEqual(e){return this===e}}class ice extends aw{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new iC(e.yt,tG(e.yt,this.wa));return new _S(e.path,t)}isEqual(e){return this===e}}function O3(n,e,t,r){const i=n.da(1,e,t);R3("Data must be an object, but it was:",i,r);const s=[],o=pc.empty();W_(r,(u,h)=>{const f=E5(e,u,t);h=(0,be.m9)(h);const y=i.ca(f);if(h instanceof HS)s.push(f);else{const I=cw(h,y);null!=I&&(s.push(f),o.set(f,I))}});const a=new bA(s);return new Az(o,a,i.fieldTransforms)}function L3(n,e,t,r,i,s){const o=n.da(1,e,t),a=[k3(e,r,t)],u=[i];if(s.length%2!=0)throw new tn(Rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)a.push(k3(e,s[I])),u.push(s[I+1]);const h=[],f=pc.empty();for(let I=a.length-1;I>=0;--I)if(!mz(h,a[I])){const C=a[I];let P=u[I];P=(0,be.m9)(P);const L=o.ca(C);if(P instanceof HS)h.push(C);else{const V=cw(P,L);null!=V&&(h.push(C),f.set(C,V))}}const y=new bA(h);return new Az(f,y,o.fieldTransforms)}function fz(n,e,t,r=!1){return cw(t,n.da(r?4:3,e))}function cw(n,e){if(gz(n=(0,be.m9)(n)))return R3("Unsupported field value:",e,n),pz(n,e);if(n instanceof aw)return function(t,r){if(!hz(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=cw(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tG(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Uo.fromDate(t);return{timestampValue:aC(r.yt,i)}}if(t instanceof Uo){const i=new Uo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:aC(r.yt,i)}}if(t instanceof w5)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ig)return{bytesValue:bG(r.yt,t._byteString)};if(t instanceof xo){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ZU(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${g5(t)}`)}(n,e)}function pz(n,e){const t={};return BK(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):W_(n,(r,i)=>{const s=cw(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function gz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Uo||n instanceof w5||n instanceof ig||n instanceof xo||n instanceof aw)}function R3(n,e,t){if(!gz(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=g5(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function k3(n,e,t){if((e=(0,be.m9)(e))instanceof xm)return e._internalPath;if("string"==typeof e)return E5(n,e);throw I5("Field path arguments must be of type string or ",n,!1,void 0,t)}const sce=new RegExp("[~\\*/\\[\\]]");function E5(n,e,t){if(e.search(sce)>=0)throw I5(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xm(...e.split("."))._internalPath}catch(r){throw I5(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function I5(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new tn(Rt.INVALID_ARGUMENT,a+n+u)}function mz(n,e){return n.some(t=>t.isEqual(e))}class VS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(B5("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oce extends VS{data(){return super.data()}}function B5(n,e){return"string"==typeof e?E5(n,e):e instanceof xm?e._internalPath:e._delegate._internalPath}function yz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tn(Rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U3{}class jS extends U3{}function L0(n,e,...t){let r=[];e instanceof U3&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof bC).length,o=i.filter(a=>a instanceof KS).length;if(s>1||s>0&&o>0)throw new tn(Rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class KS extends jS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new KS(e,t,r)}_apply(e){const t=this._parse(e);return bz(e._query,t),new gc(e.firestore,e.converter,qU(e._query,t))}_parse(e){const t=lw(e.firestore);return function(i,s,o,a,u,h,f){let y;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new tn(Rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){wz(f,h);const I=[];for(const C of f)I.push(_z(a,i,C));y={arrayValue:{values:I}}}else y=_z(a,i,f)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||wz(f,h),y=fz(o,"where",f,"in"===h||"not-in"===h);return Oi.create(u,h,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class bC extends U3{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bC(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Bs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)bz(s,a),s=qU(s,a)}(e._query,t),new gc(e.firestore,e.converter,qU(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Q3 extends jS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Q3(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new tn(Rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new tn(Rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new eC(i,s);return function(a,u){if(null===WU(a)){const h=WM(a);null!==h&&Cz(0,h,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new gc(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Em(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class S5 extends jS{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new S5(e,t,r)}_apply(e){return new gc(e.firestore,e.converter,zM(e._query,this._limit,this._limitType))}}class x5 extends jS{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new x5(e,t,r)}_apply(e){const t=vz(e,this.type,this._docOrFields,this._inclusive);return new gc(e.firestore,e.converter,(i=t,new Em((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class D5 extends jS{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new D5(e,t,r)}_apply(e){const t=vz(e,this.type,this._docOrFields,this._inclusive);return new gc(e.firestore,e.converter,(i=t,new Em((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function vz(n,e,t,r){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof VS)return function(i,s,o,a,u){if(!a)throw new tn(Rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const h=[];for(const f of Z_(i))if(f.field.isKeyField())h.push($_(s,a.key));else{const y=a.data.field(f.field);if(UU(y))throw new tn(Rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const I=f.field.canonicalString();throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}h.push(y)}return new D0(h,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=lw(n.firestore);return function(s,o,a,u,h,f){const y=s.explicitOrderBy;if(h.length>y.length)throw new tn(Rt.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let C=0;C<h.length;C++){const P=h[C];if(y[C].field.isKeyField()){if("string"!=typeof P)throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof P}`);if(!zU(s)&&-1!==P.indexOf("/"))throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${P}' contains a slash.`);const L=s.path.child(Gi.fromString(P));if(!Bn.isDocumentKey(L))throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const V=new Bn(L);I.push($_(o,V))}else{const L=fz(a,u,P);I.push(L)}}return new D0(I,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function _z(n,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new tn(Rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zU(e)&&-1!==t.indexOf("/"))throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gi.fromString(t));if(!Bn.isDocumentKey(r))throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $_(n,new Bn(r))}if(t instanceof xo)return $_(n,t._key);throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g5(t)}.`)}function wz(n,e){if(!Array.isArray(n)||0===n.length)throw new tn(Rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new tn(Rt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function bz(n,e){if(e.isInequality()){const r=WM(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=WU(n);null!==s&&Cz(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new tn(Rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Cz(n,e,t){if(!t.isEqual(e))throw new tn(Rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class H3{convertValue(e,t="none"){switch(q_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return da(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(z_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jn()}}convertObject(e,t){const r={};return W_(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new w5(da(e.latitude),da(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xK(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dS(e));default:return null}}convertTimestamp(e){const t=B0(e);return new Uo(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gi.fromString(e);lr(MG(r));const i=new I0(r.get(1),r.get(3)),s=new Bn(r.popFirst(5));return i.isEqual(t)||xa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function T5(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class pce extends H3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ig(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xo(this.firestore,null,t)}}class uw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dm extends VS{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(B5("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class GS extends Dm{data(e={}){return super.data(e)}}class R0{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uw(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new GS(this._firestore,this._userDataWriter,r.key,r,new uw(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tn(Rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new GS(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uw(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new GS(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uw(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:gce(o.type),doc:a,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gce(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jn()}}function Iz(n,e){return n instanceof Dm&&e instanceof Dm?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof R0&&e instanceof R0&&n._firestore===e._firestore&&E3(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class k0 extends H3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ig(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xo(this.firestore,null,t)}}function Bz(n,e,t){n=Li(n,xo);const r=Li(n.firestore,Do),i=T5(n.converter,e,t);return CC(r,[C5(lw(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Qo.none())])}function Sz(n,e,t,...r){n=Li(n,xo);const i=Li(n.firestore,Do),s=lw(i);let o;return o="string"==typeof(e=(0,be.m9)(e))||e instanceof xm?L3(s,"updateDoc",n._key,e,t,r):O3(s,"updateDoc",n._key,e),CC(i,[o.toMutation(n._key,Qo.exists(!0))])}function xz(n,...e){var t,r,i;n=(0,be.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||N3(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(N3(e[o])){const y=e[o];e[o]=null===(t=y.next)||void 0===t?void 0:t.bind(y),e[o+1]=null===(r=y.error)||void 0===r?void 0:r.bind(y),e[o+2]=null===(i=y.complete)||void 0===i?void 0:i.bind(y)}let u,h,f;if(n instanceof xo)h=Li(n.firestore,Do),f=nC(n._key.path),u={next:y=>{e[o]&&e[o](V3(h,n,y))},error:e[o+1],complete:e[o+2]};else{const y=Li(n,gc);h=Li(y.firestore,Do),f=y._query;const I=new k0(h);u={next:C=>{e[o]&&e[o](new R0(h,I,y,C))},error:e[o+1],complete:e[o+2]},yz(n._query)}return function(y,I,C,P){const L=new y5(P),V=new Y4(I,L,C);return y.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return G4(yield wC(y),V)})),()=>{L.bc(),y.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return z4(yield wC(y),V)}))}}(Ta(h),f,a,u)}function CC(n,e){return function(t,r){const i=new ml;return t.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function Ale(n,e,t){return t3.apply(this,arguments)}(yield F3(t),r,i)})),i.promise}(Ta(n),e)}function V3(n,e,t){const r=t.docs.get(e._key),i=new k0(n);return new Dm(n,i,e._key,r,new uw(t.hasPendingWrites,t.fromCache),e.converter)}const Bce={maxAttempts:5};class Dz{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lw(e)}set(e,t,r){this._verifyNotCommitted();const i=U0(e,this._firestore),s=T5(i.converter,t,r),o=C5(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Qo.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=U0(e,this._firestore);let o;return o="string"==typeof(t=(0,be.m9)(t))||t instanceof xm?L3(this._dataReader,"WriteBatch.update",s._key,t,r,i):O3(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Qo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=U0(e,this._firestore);return this._mutations=this._mutations.concat(new oC(t._key,Qo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tn(Rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function U0(n,e){if((n=(0,be.m9)(n)).firestore!==e)throw new tn(Rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Sce extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lw(e)}get(e){const t=U0(e,this._firestore),r=new pce(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Jn();const s=i[0];if(s.isFoundDocument())return new VS(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new VS(this._firestore,r,t._key,null,t.converter);throw Jn()})}set(e,t,r){const i=U0(e,this._firestore),s=T5(i.converter,t,r),o=C5(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=U0(e,this._firestore);let o;return o="string"==typeof(t=(0,be.m9)(t))||t instanceof xm?L3(this._dataReader,"Transaction.update",s._key,t,r,i):O3(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=U0(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=U0(e,this._firestore),r=new k0(this._firestore);return super.get(e).then(i=>new Dm(this._firestore,r,t._key,i._document,new uw(!1,!1),t.converter))}}function j3(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tn("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fz(){if("undefined"==typeof Uint8Array)throw new tn("unimplemented","Uint8Arrays are not available in this environment.")}function Mz(){if(!function toe(){return"undefined"!=typeof atob}())throw new tn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Y1=Os.SDK_VERSION,(0,Os._registerComponent)(new Fu.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Do(new Vse(t.getProvider("auth-internal")),new Gse(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new tn(Rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new I0(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,Os.registerVersion)(pK,"3.8.3",n),(0,Os.registerVersion)(pK,"3.8.3","esm2017")}();class WS{constructor(e){this._delegate=e}static fromBase64String(e){return Mz(),new WS(ig.fromBase64String(e))}static fromUint8Array(e){return Fz(),new WS(ig.fromUint8Array(e))}toBase64(){return Mz(),this._delegate.toBase64()}toUint8Array(){return Fz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function K3(n){return function Lce(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Rce{enableIndexedDbPersistence(e,t){return function Gle(n,e){uz(n=Li(n,Do));const t=Ta(n),r=n._freezeSettings(),i=new b3;return cz(t,i,new GW(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Wle(n){uz(n=Li(n,Do));const e=Ta(n),t=n._freezeSettings(),r=new b3;return cz(e,r,new Sle(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function zle(n){if(n._initialized&&!n._terminated)throw new tn(Rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ml;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Bt.Z)(function*(){try{yield(t=(0,Bt.Z)(function*(r){if(!If.C())return Promise.resolve();const i=r+"main";yield If.delete(i)}),function(r){return t.apply(this,arguments)})(p4(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Nz{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof I0||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&j_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function XW(n,e,t,r={}){var i;const s=(n=Li(n,QS))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&j_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Kl.MOCK_USER;else{o=(0,be.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new tn(Rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Kl(u)}n._authCredentials=new Hse(new gK(o,a))}}(this._delegate,e,t,r)}enableNetwork(){return function $le(n){return function Ole(n){return n.asyncQueue.enqueue((0,Bt.Z)(function*(){const e=yield iz(n),t=yield T3(n);return e.setNetworkEnabled(!0),function(r){const i=Tn(r);return i._u.delete(0),kS(i)}(t)}))}(Ta(n=Li(n,Do)))}(this._delegate)}disableNetwork(){return function Yle(n){return function Lle(n){return n.asyncQueue.enqueue((0,Bt.Z)(function*(){const e=yield iz(n),t=yield T3(n);return e.setNetworkEnabled(!1),(r=(0,Bt.Z)(function*(i){const s=Tn(i);s._u.add(0),yield fC(s),s.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ta(n=Li(n,Do)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,WW("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qle(n){return function(e){const t=new ml;return e.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return function ple(n,e){return o3.apply(this,arguments)}(yield F3(e),t)})),t.promise}(Ta(n=Li(n,Do)))}(this._delegate)}onSnapshotsInSync(e){return function Ice(n,e){return function Ule(n,e){const t=new y5(e);return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return r=yield wC(n),i=t,Tn(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return r=yield wC(n),i=t,void Tn(r).Ru.delete(i);var r,i}))}}(Ta(n=Li(n,Do)),N3(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new EC(this,JW(this._delegate,e))}catch(t){throw ku(t,"collection()","Firestore.collection()")}}doc(e){try{return new ad(this,m5(this._delegate,e))}catch(t){throw ku(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uu(this,function xle(n,e){if(n=Li(n,QS),C3("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tn(Rt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gc(n,null,(t=e,new Em(Gi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ku(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xce(n,e,t){n=Li(n,Do);const r=Object.assign(Object.assign({},Bce),t);return function(i){if(i.maxAttempts<1)throw new tn(Rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new ml;return i.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){const u=yield function sz(n){return v5(n).then(e=>e.datastore)}(i);new Nle(i.asyncQueue,u,o,s,a).run()})),a.promise}(Ta(n),i=>e(new Sce(n,i)),r)}(this._delegate,t=>e(new Pz(this,t)))}batch(){return Ta(this._delegate),new Oz(new Dz(this._delegate,e=>CC(this._delegate,e)))}loadBundle(e){return function Zle(n,e){const t=Ta(n=Li(n,Do)),r=new jle;return function Qle(n,e,t,r){const i=function(s,o){let a;return a="string"==typeof s?(new TextEncoder).encode(s):s,u=function(u,h){if(u instanceof Uint8Array)return tz(u,h);if(u instanceof ArrayBuffer)return tz(new Uint8Array(u),h);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),new Dle(u,o);var u}(t,RS(e));n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){!function Ble(n,e,t){const r=Tn(n);var i;(i=(0,Bt.Z)(function*(s,o,a){try{const u=yield o.getMetadata();if(yield function(I,C){const P=Tn(I),L=Da(C.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",V=>P.Ns.getBundleMetadata(V,C.id)).then(V=>!!V&&V.createTime.compareTo(L)>=0)}(s.localStore,u))return yield o.close(),a._completeWith({taskState:"Success",documentsLoaded:(I=u).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);a._updateProgress(OW(u));const h=new sle(u,s.localStore,o.yt);let f=yield o.mc();for(;f;){const I=yield h.Fu(f);I&&a._updateProgress(I),f=yield o.mc()}const y=yield h.complete();return yield Sm(s,y.Lu,void 0),yield function(I,C){const P=Tn(I);return P.persistence.runTransaction("Save bundle","readwrite",L=>P.Ns.saveBundleMetadata(L,C))}(s.localStore,u),a._completeWith(y.progress),Promise.resolve(y.Bu)}catch(u){return j_("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}var I}),function(s,o,a){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield F3(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Xle(n,e){return function Hle(n,e){return n.asyncQueue.enqueue((0,Bt.Z)(function*(){return function(t,r){const i=Tn(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(yield _5(n),e)}))}(Ta(n=Li(n,Do)),e).then(t=>t?new gc(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Uu(this,t):null)}}class F5 extends H3{constructor(e){super(),this.firestore=e}convertBytes(e){return new WS(new ig(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ad.forKey(t,this.firestore,null)}}class Pz{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new F5(e)}get(e){const t=hw(e);return this._delegate.get(t).then(r=>new zS(this._firestore,new Dm(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=hw(e);return r?(j3("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=hw(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=hw(e);return this._delegate.delete(t),this}}class Oz{constructor(e){this._delegate=e}set(e,t,r){const i=hw(e);return r?(j3("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=hw(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=hw(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Aw{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new GS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qS(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Aw.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Aw(e,new F5(e),t),i.set(t,s)),s}}Aw.INSTANCES=new WeakMap;class ad{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new F5(e)}static forPath(e,t,r){if(e.length%2!=0)throw new tn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ad(t,new xo(t._delegate,r,new Bn(e)))}static forKey(e,t,r){return new ad(t,new xo(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new EC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new EC(this.firestore,JW(this._delegate,e))}catch(t){throw ku(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,be.m9)(e))instanceof xo&&ez(this._delegate,e)}set(e,t){t=j3("DocumentReference.set",t);try{return t?Bz(this._delegate,e,t):Bz(this._delegate,e)}catch(r){throw ku(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Sz(this._delegate,e):Sz(this._delegate,e,t,...r)}catch(i){throw ku(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Cce(n){return CC(Li(n.firestore,Do),[new oC(n._key,Qo.none())])}(this._delegate)}onSnapshot(...e){const t=Lz(e),r=Rz(e,i=>new zS(this.firestore,new Dm(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xz(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function yce(n){n=Li(n,xo);const e=Li(n.firestore,Do),t=Ta(e),r=new k0(e);return function Rle(n,e){const t=new ml;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return(r=(0,Bt.Z)(function*(i,s,o){try{const a=yield function(u,h){const f=Tn(u);return f.persistence.runTransaction("read document","readonly",y=>f.localDocuments.getDocument(y,h))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new tn(Rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=mC(a,`Failed to get document '${s} from cache`);o.reject(u)}}),function(i,s,o){return r.apply(this,arguments)})(yield _5(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Dm(e,r,n._key,i,new uw(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function vce(n){n=Li(n,xo);const e=Li(n.firestore,Do);return oz(Ta(e),n._key,{source:"server"}).then(t=>V3(e,n,t))}(this._delegate):function mce(n){n=Li(n,xo);const e=Li(n.firestore,Do);return oz(Ta(e),n._key).then(t=>V3(e,n,t))}(this._delegate),t.then(r=>new zS(this.firestore,new Dm(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ad(this.firestore,this._delegate.withConverter(e?Aw.getInstance(this.firestore,e):null))}}function ku(n,e,t){return n.message=n.message.replace(e,t),n}function Lz(n){for(const e of n)if("object"==typeof e&&!K3(e))return e;return{}}function Rz(n,e){var t,r;let i;return i=K3(n[0])?n[0]:K3(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zS{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ad(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Iz(this._delegate,e._delegate)}}class qS extends zS{data(e){const t=this._delegate.data(e);return function Use(n,e){n||Jn()}(void 0!==t),t}}class Uu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new F5(e)}where(e,t,r){try{return new Uu(this.firestore,L0(this._delegate,function ace(n,e,t){const r=e,i=B5("where",n);return KS._create(i,r,t)}(e,t,r)))}catch(i){throw ku(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Uu(this.firestore,L0(this._delegate,function lce(n,e="asc"){const t=e,r=B5("orderBy",n);return Q3._create(r,t)}(e,t)))}catch(r){throw ku(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Uu(this.firestore,L0(this._delegate,function cce(n){return $W("limit",n),S5._create("limit",n,"F")}(e)))}catch(t){throw ku(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Uu(this.firestore,L0(this._delegate,function uce(n){return $W("limitToLast",n),S5._create("limitToLast",n,"L")}(e)))}catch(t){throw ku(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Uu(this.firestore,L0(this._delegate,function Ace(...n){return x5._create("startAt",n,!0)}(...e)))}catch(t){throw ku(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Uu(this.firestore,L0(this._delegate,function hce(...n){return x5._create("startAfter",n,!1)}(...e)))}catch(t){throw ku(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Uu(this.firestore,L0(this._delegate,function dce(...n){return D5._create("endBefore",n,!1)}(...e)))}catch(t){throw ku(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Uu(this.firestore,L0(this._delegate,function fce(...n){return D5._create("endAt",n,!0)}(...e)))}catch(t){throw ku(t,"endAt()","Query.endAt()")}}isEqual(e){return E3(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wce(n){n=Li(n,gc);const e=Li(n.firestore,Do),t=Ta(e),r=new k0(e);return function kle(n,e){const t=new ml;return n.asyncQueue.enqueueAndForget((0,Bt.Z)(function*(){return(r=(0,Bt.Z)(function*(i,s,o){try{const a=yield u5(i,s,!0),u=new kW(s,a.Hi),h=u.Wu(a.documents),f=u.applyChanges(h,!1);o.resolve(f.snapshot)}catch(a){const u=mC(a,`Failed to execute query '${s} against cache`);o.reject(u)}}),function(i,s,o){return r.apply(this,arguments)})(yield _5(n),e,t);var r})),t.promise}(t,n._query).then(i=>new R0(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function bce(n){n=Li(n,gc);const e=Li(n.firestore,Do),t=Ta(e),r=new k0(e);return az(t,n._query,{source:"server"}).then(i=>new R0(e,r,n,i))}(this._delegate):function _ce(n){n=Li(n,gc);const e=Li(n.firestore,Do),t=Ta(e),r=new k0(e);return yz(n._query),az(t,n._query).then(i=>new R0(e,r,n,i))}(this._delegate),t.then(r=>new G3(this.firestore,new R0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Lz(e),r=Rz(e,i=>new G3(this.firestore,new R0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xz(this._delegate,t,r)}withConverter(e){return new Uu(this.firestore,this._delegate.withConverter(e?Aw.getInstance(this.firestore,e):null))}}class Uce{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class G3{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Uu(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qS(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Uce(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new qS(this._firestore,r))})}isEqual(e){return Iz(this._delegate,e._delegate)}}class EC extends Uu{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ad(this.firestore,e):null}doc(e){try{return new ad(this.firestore,void 0===e?m5(this._delegate):m5(this._delegate,e))}catch(t){throw ku(t,"doc()","CollectionReference.doc()")}}add(e){return function Ece(n,e){const t=Li(n.firestore,Do),r=m5(n),i=T5(n.converter,e);return CC(t,[C5(lw(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Qo.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ad(this.firestore,t))}isEqual(e){return ez(this._delegate,e._delegate)}withConverter(e){return new EC(this.firestore,this._delegate.withConverter(e?Aw.getInstance(this.firestore,e):null))}}function hw(n){return Li(n,xo)}class W3{constructor(...e){this._delegate=new xm(...e)}static documentId(){return new W3(ha.keyField().canonicalString())}isEqual(e){return(e=(0,be.m9)(e))instanceof xm&&this._delegate._internalPath.isEqual(e._internalPath)}}class dw{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Tce(){return new P3("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new dw(e)}static delete(){const e=function Dce(){return new HS("deleteField")}();return e._methodName="FieldValue.delete",new dw(e)}static arrayUnion(...e){const t=function Fce(...n){return new nce("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new dw(t)}static arrayRemove(...e){const t=function Mce(...n){return new rce("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new dw(t)}static increment(e){const t=function Nce(n){return new ice("increment",n)}(e);return t._methodName="FieldValue.increment",new dw(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Qce={Firestore:Nz,GeoPoint:w5,Timestamp:Uo,Blob:WS,Transaction:Pz,WriteBatch:Oz,DocumentReference:ad,DocumentSnapshot:zS,Query:Uu,QueryDocumentSnapshot:qS,QuerySnapshot:G3,CollectionReference:EC,FieldPath:W3,FieldValue:dw,setLogLevel:function kce(n){!function kse(n){b0.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function kz(n,e){return function jce(n,e=ak.z){return new Ot.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function z3(n,e){return kz(n,e).pipe((0,en.U)(t=>({payload:t,type:"query"})))}function M5(n,e){return z3(n,e).pipe((0,Fr.O)(void 0),(0,cM.G)(),(0,en.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(o=>({type:o.type,payload:o}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((o,a)=>{const u=i.find(f=>f.doc.ref.isEqual(o.ref)),h=null==t?void 0:t.payload.docs.find(f=>f.ref.isEqual(o.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(o.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:a,newIndex:a,type:"modified",doc:o}})}),s}))}function Uz(n,e,t){return M5(n,t).pipe((0,Wh.R)((r,i)=>function Gce(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Wce(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return q3(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return q3(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return q3(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),(0,Vk.x)(),(0,en.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function q3(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Qz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Vce(n){(function Hce(n,e){n.INTERNAL.registerComponent(new Fu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Qce)))})(n,(e,t)=>new Nz(e,t,new Rce)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(J7.Z);class Hz{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=M5(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,en.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe((0,Fr.O)(void 0),(0,cM.G)(),(0,wn.h)(([r,i])=>i.length>0||!r),(0,en.U)(([r,i])=>i),gl)}auditTrail(e){return this.stateChanges(e).pipe((0,Wh.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Qz(e);return Uz(this.query,t,this.afs.schedulers.outsideAngular).pipe(gl)}valueChanges(e={}){return z3(this.query,this.afs.schedulers.outsideAngular).pipe((0,en.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gl)}get(e){return(0,$o.D)(this.query.get(e)).pipe(gl)}add(e){return this.ref.add(e)}doc(e){return new Vz(this.ref.doc(e),this.afs)}}class Vz{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=Gz(r,t);return new Hz(i,s,this.afs)}snapshotChanges(){return function Kce(n,e){return kz(n,e).pipe((0,Fr.O)(void 0),(0,cM.G)(),(0,en.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gl)}valueChanges(e={}){return this.snapshotChanges().pipe((0,en.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$o.D)(this.ref.get(e)).pipe(gl)}}class zce{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?M5(this.query,this.afs.schedulers.outsideAngular).pipe((0,en.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,wn.h)(t=>t.length>0),gl):M5(this.query,this.afs.schedulers.outsideAngular).pipe(gl)}auditTrail(e){return this.stateChanges(e).pipe((0,Wh.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Qz(e);return Uz(this.query,t,this.afs.schedulers.outsideAngular).pipe(gl)}valueChanges(e={}){return z3(this.query,this.afs.schedulers.outsideAngular).pipe((0,en.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gl)}get(e){return(0,$o.D)(this.query.get(e)).pipe(gl)}}const jz=new p.OlP("angularfire2.enableFirestorePersistence"),Kz=new p.OlP("angularfire2.firestore.persistenceSettings"),qce=new p.OlP("angularfire2.firestore.settings"),$ce=new p.OlP("angularfire2.firestore.use-emulator");function Gz(n,e=(t=>t)){return{query:e(n),ref:n}}let Yce=(()=>{class n{constructor(t,r,i,s,o,a,u,h,f,y,I,C,P,L,V,j,z){this.schedulers=u;const se=(0,Vl.on)(t,a,r),ve=f;y&&Hk(se,a,I,P,L,V,C,j),[this.firestore,this.persistenceEnabled$]=(0,Vl.cc)(`${se.name}.firestore`,"AngularFirestore",se.name,()=>{const Se=a.runOutsideAngular(()=>se.firestore());if(s&&Se.settings(s),ve&&Se.useEmulator(...ve),i&&!Zc(o)){const Ve=()=>{try{return(0,$o.D)(Se.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(Oe){return"undefined"!=typeof console&&console.warn(Oe),(0,Ue.of)(!1)}};return[Se,a.runOutsideAngular(Ve)]}return[Se,(0,Ue.of)(!1)]},[s,ve,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=Gz(i,r),a=this.schedulers.ngZone.run(()=>s);return new Hz(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new zce(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Vz(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Vl.Dh),p.LFG(Vl.xv,8),p.LFG(jz,8),p.LFG(qce,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(eM),p.LFG(Kz,8),p.LFG($ce,8),p.LFG(lM,8),p.LFG(Ok,8),p.LFG(Lk,8),p.LFG(Rk,8),p.LFG(kk,8),p.LFG(Uk,8),p.LFG(Qk,8),p.LFG(aM,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zce=(()=>{class n{constructor(){HB.Z.registerVersion("angularfire",RB.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:jz,useValue:!0},{provide:Kz,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Yce]}),n})();var Xce=U(8117),Jce=U(7168),eue=U(9403);const rue=new kc.Yd("@firebase/database-compat"),Wz=function(n){rue.warn("FIREBASE WARNING: "+n)};class oue{constructor(e){this._delegate=e}cancel(e){(0,be.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,be.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,be.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,be.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,be.Dv)("OnDisconnect.set",1,2,arguments.length),(0,be.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,be.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,be.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,be.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Wz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,be.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class aue{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,be.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Q0{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,be.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,be.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,be.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,be.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,be.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vt("DataSnapshot.child","path",e,!1),new Q0(this._database,this._delegate.child(e))}hasChild(e){return(0,be.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vt("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,be.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,be.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,be.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Q0(this._database,t)))}hasChildren(){return(0,be.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,be.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,be.Dv)("DataSnapshot.ref",0,0,arguments.length),new vh(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class mc{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,be.Dv)("Query.on",2,4,arguments.length),(0,be.Wj)("Query.on","callback",t,!1);const o=mc.getCancelAndContextArgs_("Query.on",r,i),a=(h,f)=>{t.call(o.context,new Q0(this.database,h),f)};a.userCallback=t,a.context=o.context;const u=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return uL(this._delegate,a,u),t;case"child_added":return PH(this._delegate,a,u),t;case"child_removed":return RH(this._delegate,a,u),t;case"child_changed":return OH(this._delegate,a,u),t;case"child_moved":return LH(this._delegate,a,u),t;default:throw new Error((0,be.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,be.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,be.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,be.Wj)("Query.off","callback",t,!0),(0,be.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,kH(this._delegate,e,i)}else kH(this._delegate,e)}get(){return iq(this._delegate).then(e=>new Q0(this.database,e))}once(e,t,r,i){(0,be.Dv)("Query.once",1,4,arguments.length),(0,be.Wj)("Query.once","callback",t,!0);const s=mc.getCancelAndContextArgs_("Query.once",r,i),o=new be.BH,a=(h,f)=>{const y=new Q0(this.database,h);t&&t.call(s.context,y,f),o.resolve(y)};a.userCallback=t,a.context=s.context;const u=h=>{s.cancel&&s.cancel.call(s.context,h),o.reject(h)};switch(e){case"value":uL(this._delegate,a,u,{onlyOnce:!0});break;case"child_added":PH(this._delegate,a,u,{onlyOnce:!0});break;case"child_removed":RH(this._delegate,a,u,{onlyOnce:!0});break;case"child_changed":OH(this._delegate,a,u,{onlyOnce:!0});break;case"child_moved":LH(this._delegate,a,u,{onlyOnce:!0});break;default:throw new Error((0,be.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,be.Dv)("Query.limitToFirst",1,1,arguments.length),new mc(this.database,wf(this._delegate,function hq(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Aq(n)}(e)))}limitToLast(e){return(0,be.Dv)("Query.limitToLast",1,1,arguments.length),new mc(this.database,wf(this._delegate,function fq(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new dq(n)}(e)))}orderByChild(e){return(0,be.Dv)("Query.orderByChild",1,1,arguments.length),new mc(this.database,wf(this._delegate,function gq(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vt("orderByChild","path",n,!1),new pq(n)}(e)))}orderByKey(){return(0,be.Dv)("Query.orderByKey",0,0,arguments.length),new mc(this.database,wf(this._delegate,function yq(){return new mq}()))}orderByPriority(){return(0,be.Dv)("Query.orderByPriority",0,0,arguments.length),new mc(this.database,wf(this._delegate,function _q(){return new vq}()))}orderByValue(){return(0,be.Dv)("Query.orderByValue",0,0,arguments.length),new mc(this.database,wf(this._delegate,function bq(){return new wq}()))}startAt(e=null,t){return(0,be.Dv)("Query.startAt",0,2,arguments.length),new mc(this.database,wf(this._delegate,function lq(n=null,e){return dt("startAt","key",e,!0),new QH(n,e)}(e,t)))}startAfter(e=null,t){return(0,be.Dv)("Query.startAfter",0,2,arguments.length),new mc(this.database,wf(this._delegate,function uq(n,e){return dt("startAfter","key",e,!0),new cq(n,e)}(e,t)))}endAt(e=null,t){return(0,be.Dv)("Query.endAt",0,2,arguments.length),new mc(this.database,wf(this._delegate,function sq(n,e){return dt("endAt","key",e,!0),new UH(n,e)}(e,t)))}endBefore(e=null,t){return(0,be.Dv)("Query.endBefore",0,2,arguments.length),new mc(this.database,wf(this._delegate,function aq(n,e){return dt("endBefore","key",e,!0),new oq(n,e)}(e,t)))}equalTo(e,t){return(0,be.Dv)("Query.equalTo",1,2,arguments.length),new mc(this.database,wf(this._delegate,function Eq(n,e){return dt("equalTo","key",e,!0),new Cq(n,e)}(e,t)))}toString(){return(0,be.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,be.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,be.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof mc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,be.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,be.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,be.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new vh(this.database,new nd(this._delegate._repo,this._delegate._path))}}class vh extends mc{constructor(e,t){super(e,new yA(t._repo,t._path,new e1,!1)),this.database=e,this._delegate=t}getKey(){return(0,be.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,be.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new vh(this.database,y_(this._delegate,e))}getParent(){(0,be.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new vh(this.database,e):null}getRoot(){return(0,be.Dv)("Reference.root",0,0,arguments.length),new vh(this.database,this._delegate.root)}set(e,t){(0,be.Dv)("Reference.set",1,2,arguments.length),(0,be.Wj)("Reference.set","onComplete",t,!0);const r=cL(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,be.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Wz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dn("Reference.update",this._delegate._path),(0,be.Wj)("Reference.update","onComplete",t,!0);const r=rq(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,be.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,be.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function nq(n,e,t){if(dn("setWithPriority",n._path),Q("setWithPriority",e,n._path,!1),$e("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new be.BH;return nL(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,be.Dv)("Reference.remove",0,1,arguments.length),(0,be.Wj)("Reference.remove","onComplete",e,!0);const t=function eq(n){return dn("remove",n._path),cL(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,be.Dv)("Reference.transaction",1,3,arguments.length),(0,be.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,be.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,be.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Hq(n,e,t){var r;if(n=(0,be.m9)(n),dn("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,s=new be.BH,a=uL(n,()=>{});return function W9(n,e,t,r,i,s){T1(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:dI(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=iL(n,e,void 0);o.currentInputSnapshot=a;const u=o.update(a.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{q("transaction failed: Data returned ",u,o.path),o.status=0;const h=nB(n.transactionQueueTree_,e),f=l0(h)||[];let y;f.push(o),QT(h,f),"object"==typeof u&&null!==u&&(0,be.r3)(u,".priority")?(y=(0,be.DV)(u,".priority"),(0,be.hu)(O(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(cm(n.serverSyncTree_,e)||zr.EMPTY_NODE).getPriority().val();const I=Am(n),C=Eo(u,y),P=UT(C,a,I);o.currentOutputSnapshotRaw=C,o.currentOutputSnapshotResolved=P,o.currentWriteId=VT(n);const L=r0(n.serverSyncTree_,e,P,o.currentWriteId,o.applyLocally);ei(n.eventQueue_,e,L),jT(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(u,h,f)=>{let y=null;u?s.reject(u):(y=new m_(f,new nd(n._repo,n._path),vs),s.resolve(new Qq(h,y)))},a,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new aue(s.committed,new Q0(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,be.Dv)("Reference.setPriority",1,2,arguments.length),(0,be.Wj)("Reference.setPriority","onComplete",t,!0);const r=function tq(n,e){n=(0,be.m9)(n),dn("setPriority",n._path),$e("setPriority",e,!1);const t=new be.BH;return nL(n._repo,co(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,be.Dv)("Reference.push",0,2,arguments.length),(0,be.Wj)("Reference.push","onComplete",t,!0);const r=function J9(n,e){n=(0,be.m9)(n),dn("push",n._path),Q("push",e,n._path,!0);const t=S1(n._repo),r=X9(t),i=y_(n,r),s=y_(n,r);let o;return o=null!=e?cL(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new vh(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new vh(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return dn("Reference.onDisconnect",this._delegate._path),new oue(new FH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class $S{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Fq,forceLongPolling:Mq}}useEmulator(e,t,r={}){!function KH(n,e,t,r={}){(n=(0,be.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Jh("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new qv(qv.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,be.Sg)(r.mockUserToken,n.app.options.projectId);s=new qv(o)}!function Bq(n,e,t,r){n.repoInfo_=new Ub(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,be.Dv)("database.ref",0,1,arguments.length),e instanceof vh){const t=NH(this._delegate,e.toString());return new vh(this,t)}{const t=MH(this._delegate,e);return new vh(this,t)}}refFromURL(e){(0,be.Dv)("database.refFromURL",1,1,arguments.length);const r=NH(this._delegate,e);return new vh(this,r)}goOffline(){return(0,be.Dv)("database.goOffline",0,0,arguments.length),function Nq(n){(n=(0,be.m9)(n))._checkNotDeleted("goOffline"),EH(n._repo)}(this._delegate)}goOnline(){return(0,be.Dv)("database.goOnline",0,0,arguments.length),function Pq(n){(n=(0,be.m9)(n))._checkNotDeleted("goOnline"),function G9(n){n.persistentConnection_&&n.persistentConnection_.resume(B1)}(n._repo)}(this._delegate)}}$S.ServerValue={TIMESTAMP:function kq(){return Rq}(),increment:n=>function Uq(n){return{".sv":{increment:n}}}(n)};var cue=Object.freeze({__proto__:null,initStandalone:function lue({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){mD(t);const o=new Fu.zt("auth-internal",new Fu.H0("database-standalone"));return o.setComponent(new Fu.wA("auth-internal",()=>r,"PRIVATE")),{instance:new $S(VH(n,o,void 0,e,s),n),namespace:i}}});const uue=$S.ServerValue;function zz(n){return null==n}function qz(n){return"function"==typeof n.set}function $z(n,e){return qz(e)?e:n.ref(e)}function Yz(n,e){if(function hue(n){return"string"==typeof n}(n))return e.stringCase();if(qz(n))return e.firebaseCase();if(function due(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function YS(n,e,t="on",r=ak.z){return new Ot.y(i=>{let s=null;return s=n[t](e,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),"once"===t&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,en.U)(i=>{const{snapshot:s,prevKey:o}=i;let a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),(0,Xce.B)())}function Zz(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function gue(n,e){const{payload:t,prevKey:r,key:i}=e,s=Zz(n,i),o=function pue(n,e){if(zz(e))return 0;{const t=Zz(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let a=null;e.payload.forEach(u=>{const h={payload:u,type:"value",prevKey:a,key:u.key};return a=u.key,n=[...n,h],!1})}return n;case"child_added":if(s>-1){const a=n[s-1];(a&&a.key||null)!==r&&(n=n.filter(u=>u.payload.key!==t.key)).splice(o,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(o,0,e)}return n;case"child_removed":return n.filter(a=>a.payload.key!==t.key);case"child_changed":return n.map(a=>a.payload.key===i?e:a);case"child_moved":if(s>-1){const a=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,a),n}return n;default:return n}}function Xz(n){return(zz(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Jz(n,e,t){return function fue(n,e,t){return YS(n,"value","once",t).pipe((0,la.w)(r=>{const i=[(0,Ue.of)(r)];return e.forEach(s=>i.push(YS(n,s,"on",t))),(0,pk.T)(...i).pipe((0,Wh.R)(gue,[]))}),(0,Vk.x)())}(n,e=Xz(e),t)}function e9(n,e,t){const r=(e=Xz(e)).map(i=>YS(n,i,"on",t));return(0,pk.T)(...r)}function t9(n,e){return function(r,i){return Yz(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function _ue(n){return function(t){return t?Yz(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function n9(n,e){return function(){return YS(n,"value","on",e)}}!function Aue(n){n.INTERNAL.registerComponent(new Fu.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new $S(i,r)},"PUBLIC").setServiceProps({Reference:vh,Query:mc,Database:$S,DataSnapshot:Q0,enableLogging:Oq,INTERNAL:cue,ServerValue:uue}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.3")}(J7.Z);const Cue=new p.OlP("angularfire2.realtimeDatabaseURL"),Eue=new p.OlP("angularfire2.database.use-emulator");let Iue=(()=>{class n{constructor(t,r,i,s,o,a,u,h,f,y,I,C,P,L,V){this.schedulers=a;const j=u,z=(0,Vl.on)(t,o,r);h&&Hk(z,o,f,I,C,P,y,L),this.database=(0,Vl.cc)(`${z.name}.database.${i}`,"AngularFireDatabase",z.name,()=>{const se=o.runOutsideAngular(()=>z.database(i||void 0));return j&&se.useEmulator(...j),se},[j])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>$z(this.database,t));let s=i;return r&&(s=r(i)),function wue(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:t9(r,"update"),set:t9(r,"set"),push:i=>r.push(i),remove:_ue(r),snapshotChanges:i=>Jz(n,i,t).pipe(gl),stateChanges:i=>e9(n,i,t).pipe(gl),auditTrail:i=>function mue(n,e,t){return function vue(n,e,t){return function yue(n,e){return YS(n,"value","on",e).pipe((0,en.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe((0,Jce.M)(e),(0,en.U)(([i,s])=>{const o=i.lastKeyToLoad,a=s.map(u=>u.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),(0,eue.n)(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,en.U)(i=>i.actions))}(n,e9(n,e).pipe((0,Wh.R)((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(gl),valueChanges:(i,s)=>Jz(n,i,t).pipe((0,en.U)(a=>a.map(u=>s&&s.idField?Object.assign(Object.assign({},u.payload.val()),{[s.idField]:u.key}):u.payload.val())),gl)}}(s,this)}object(t){return function bue(n,e){return{query:n,snapshotChanges:()=>n9(n,e.schedulers.outsideAngular)().pipe(gl),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>n9(n,e.schedulers.outsideAngular)().pipe(gl,(0,en.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>$z(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Vl.Dh),p.LFG(Vl.xv,8),p.LFG(Cue,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(eM),p.LFG(Eue,8),p.LFG(lM,8),p.LFG(Ok,8),p.LFG(Lk,8),p.LFG(Rk,8),p.LFG(kk,8),p.LFG(Uk,8),p.LFG(Qk,8),p.LFG(aM,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Bue=(()=>{class n{constructor(){HB.Z.registerVersion("angularfire",RB.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Iue]}),n})(),Sue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[GH]}),n.\u0275inj=p.cJS({providers:[],imports:[[mo,Oie,Zce,$J,Bue,sf,UP,fD,zte]]}),n})();(0,p.G48)(),Nh().bootstrapModule(Sue).catch(n=>console.error(n))},4159:function(Kt){Kt.exports=function(){"use strict";var Qe=function(E,b){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,B){S.__proto__=B}||function(S,B){for(var k in B)Object.prototype.hasOwnProperty.call(B,k)&&(S[k]=B[k])})(E,b)};function U(E,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function S(){this.constructor=E}Qe(E,b),E.prototype=null===b?Object.create(b):(S.prototype=b.prototype,new S)}var p=function(){return p=Object.assign||function(b){for(var S,B=1,k=arguments.length;B<k;B++)for(var G in S=arguments[B])Object.prototype.hasOwnProperty.call(S,G)&&(b[G]=S[G]);return b},p.apply(this,arguments)};function Ee(E,b,S,B){return new(S||(S=Promise))(function(G,ee){function Ie(at){try{Je(B.next(at))}catch(gt){ee(gt)}}function Be(at){try{Je(B.throw(at))}catch(gt){ee(gt)}}function Je(at){at.done?G(at.value):function k(G){return G instanceof S?G:new S(function(ee){ee(G)})}(at.value).then(Ie,Be)}Je((B=B.apply(E,b||[])).next())})}function ce(E,b){var B,k,G,ee,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return ee={next:Ie(0),throw:Ie(1),return:Ie(2)},"function"==typeof Symbol&&(ee[Symbol.iterator]=function(){return this}),ee;function Ie(Je){return function(at){return function Be(Je){if(B)throw new TypeError("Generator is already executing.");for(;S;)try{if(B=1,k&&(G=2&Je[0]?k.return:Je[0]?k.throw||((G=k.return)&&G.call(k),0):k.next)&&!(G=G.call(k,Je[1])).done)return G;switch(k=0,G&&(Je=[2&Je[0],G.value]),Je[0]){case 0:case 1:G=Je;break;case 4:return S.label++,{value:Je[1],done:!1};case 5:S.label++,k=Je[1],Je=[0];continue;case 7:Je=S.ops.pop(),S.trys.pop();continue;default:if(!(G=(G=S.trys).length>0&&G[G.length-1])&&(6===Je[0]||2===Je[0])){S=0;continue}if(3===Je[0]&&(!G||Je[1]>G[0]&&Je[1]<G[3])){S.label=Je[1];break}if(6===Je[0]&&S.label<G[1]){S.label=G[1],G=Je;break}if(G&&S.label<G[2]){S.label=G[2],S.ops.push(Je);break}G[2]&&S.ops.pop(),S.trys.pop();continue}Je=b.call(E,S)}catch(at){Je=[6,at],k=0}finally{B=G=0}if(5&Je[0])throw Je[1];return{value:Je[0]?Je[1]:void 0,done:!0}}([Je,at])}}}function De(E,b,S){if(S||2===arguments.length)for(var G,B=0,k=b.length;B<k;B++)(G||!(B in b))&&(G||(G=Array.prototype.slice.call(b,0,B)),G[B]=b[B]);return E.concat(G||b)}for(var xe=function(){function E(b,S,B,k){this.left=b,this.top=S,this.width=B,this.height=k}return E.prototype.add=function(b,S,B,k){return new E(this.left+b,this.top+S,this.width+B,this.height+k)},E.fromClientRect=function(b,S){return new E(S.left+b.windowBounds.left,S.top+b.windowBounds.top,S.width,S.height)},E.fromDOMRectList=function(b,S){var B=Array.from(S).find(function(k){return 0!==k.width});return B?new E(B.left+b.windowBounds.left,B.top+b.windowBounds.top,B.width,B.height):E.EMPTY},E.EMPTY=new E(0,0,0,0),E}(),Ae=function(E,b){return xe.fromClientRect(E,b.getBoundingClientRect())},Z=function(E){for(var b=[],S=0,B=E.length;S<B;){var k=E.charCodeAt(S++);if(k>=55296&&k<=56319&&S<B){var G=E.charCodeAt(S++);56320==(64512&G)?b.push(((1023&k)<<10)+(1023&G)+65536):(b.push(k),S--)}else b.push(k)}return b},ae=function(){for(var E=[],b=0;b<arguments.length;b++)E[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,E);var S=E.length;if(!S)return"";for(var B=[],k=-1,G="";++k<S;){var ee=E[k];ee<=65535?B.push(ee):B.push(55296+((ee-=65536)>>10),ee%1024+56320),(k+1===S||B.length>16384)&&(G+=String.fromCharCode.apply(String,B),B.length=0)}return G},X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie="undefined"==typeof Uint8Array?[]:new Uint8Array(256),fe=0;fe<X.length;fe++)ie[X.charCodeAt(fe)]=fe;for(var Ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We="undefined"==typeof Uint8Array?[]:new Uint8Array(256),lt=0;lt<Ne.length;lt++)We[Ne.charCodeAt(lt)]=lt;for(var Ln=function(E,b,S){return E.slice?E.slice(b,S):new Uint16Array(Array.prototype.slice.call(E,b,S))},mn=function(){function E(b,S,B,k,G,ee){this.initialValue=b,this.errorValue=S,this.highStart=B,this.highValueIndex=k,this.index=G,this.data=ee}return E.prototype.get=function(b){var S;if(b>=0){if(b<55296||b>56319&&b<=65535)return this.data[S=((S=this.index[b>>5])<<2)+(31&b)];if(b<=65535)return this.data[S=((S=this.index[2048+(b-55296>>5)])<<2)+(31&b)];if(b<this.highStart)return S=this.index[S=2080+(b>>11)],this.data[S=((S=this.index[S+=b>>5&63])<<2)+(31&b)];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},E}(),Zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qi="undefined"==typeof Uint8Array?[]:new Uint8Array(256),si=0;si<Zr.length;si++)qi[Zr.charCodeAt(si)]=si;var S,B,k,ee,Ie,Vi=10,cs=13,Fi=15,Js=17,ai=18,ki=19,eo=20,Ts=21,Nr=22,Fn=24,Kr=25,rs=26,Pr=27,As=28,Ii=30,Vs=32,yr=33,To=34,_n=35,yn=37,or=38,fr=39,Sr=40,Re=42,he=[9001,65288],Fe="\xd7",_t=(S=function(E){var B,G,ee,Ie,Be,b=.75*E.length,S=E.length,k=0;"="===E[E.length-1]&&(b--,"="===E[E.length-2]&&b--);var Je="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(b):new Array(b),at=Array.isArray(Je)?Je:new Uint8Array(Je);for(B=0;B<S;B+=4)G=We[E.charCodeAt(B)],ee=We[E.charCodeAt(B+1)],Ie=We[E.charCodeAt(B+2)],Be=We[E.charCodeAt(B+3)],at[k++]=G<<2|ee>>4,at[k++]=(15&ee)<<4|Ie>>2,at[k++]=(3&Ie)<<6|63&Be;return Je}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),B=Array.isArray(S)?function(E){for(var b=E.length,S=[],B=0;B<b;B+=4)S.push(E[B+3]<<24|E[B+2]<<16|E[B+1]<<8|E[B]);return S}(S):new Uint32Array(S),k=Array.isArray(S)?function(E){for(var b=E.length,S=[],B=0;B<b;B+=2)S.push(E[B+1]<<8|E[B]);return S}(S):new Uint16Array(S),ee=Ln(k,12,B[4]/2),Ie=2===B[5]?Ln(k,(24+B[4])/2):function(E,b,S){return E.slice?E.slice(b,S):new Uint32Array(Array.prototype.slice.call(E,b,S))}(B,Math.ceil((24+B[4])/4)),new mn(B[0],B[1],B[2],B[3],ee,Ie)),Nt=[Ii,36],sn=[1,2,3,5],an=[Vi,8],un=[Pr,rs],zn=sn.concat(an),Ur=[or,fr,Sr,To,_n],Ms=[Fi,cs],Vo=function(E,b,S,B){var k=B[S];if(Array.isArray(E)?-1!==E.indexOf(k):E===k)for(var G=S;G<=B.length;){if((ee=B[++G])===b)return!0;if(ee!==Vi)break}if(k===Vi)for(G=S;G>0;){var Ie=B[--G];if(Array.isArray(E)?-1!==E.indexOf(Ie):E===Ie)for(var Be=S;Be<=B.length;){var ee;if((ee=B[++Be])===b)return!0;if(ee!==Vi)break}if(Ie!==Vi)break}return!1},Ks=function(E,b){for(var S=E;S>=0;){var B=b[S];if(B!==Vi)return B;S--}return 0},Hu=function(E,b,S,B,k){if(0===S[B])return Fe;var G=B-1;if(Array.isArray(k)&&!0===k[G])return Fe;var ee=G-1,Ie=G+1,Be=b[G],Je=ee>=0?b[ee]:0,at=b[Ie];if(2===Be&&3===at)return Fe;if(-1!==sn.indexOf(Be))return"!";if(-1!==sn.indexOf(at)||-1!==an.indexOf(at))return Fe;if(8===Ks(G,b))return"\xf7";if(11===_t.get(E[G])||(Be===Vs||Be===yr)&&11===_t.get(E[Ie])||7===Be||7===at||9===Be||-1===[Vi,cs,Fi].indexOf(Be)&&9===at||-1!==[Js,ai,ki,Fn,As].indexOf(at)||Ks(G,b)===Nr||Vo(23,Nr,G,b)||Vo([Js,ai],Ts,G,b)||Vo(12,12,G,b))return Fe;if(Be===Vi)return"\xf7";if(23===Be||23===at)return Fe;if(16===at||16===Be)return"\xf7";if(-1!==[cs,Fi,Ts].indexOf(at)||14===Be||36===Je&&-1!==Ms.indexOf(Be)||Be===As&&36===at||at===eo||-1!==Nt.indexOf(at)&&Be===Kr||-1!==Nt.indexOf(Be)&&at===Kr||Be===Pr&&-1!==[yn,Vs,yr].indexOf(at)||-1!==[yn,Vs,yr].indexOf(Be)&&at===rs||-1!==Nt.indexOf(Be)&&-1!==un.indexOf(at)||-1!==un.indexOf(Be)&&-1!==Nt.indexOf(at)||-1!==[Pr,rs].indexOf(Be)&&(at===Kr||-1!==[Nr,Fi].indexOf(at)&&b[Ie+1]===Kr)||-1!==[Nr,Fi].indexOf(Be)&&at===Kr||Be===Kr&&-1!==[Kr,As,Fn].indexOf(at))return Fe;if(-1!==[Kr,As,Fn,Js,ai].indexOf(at))for(var gt=G;gt>=0;){if((Ut=b[gt])===Kr)return Fe;if(-1===[As,Fn].indexOf(Ut))break;gt--}if(-1!==[Pr,rs].indexOf(at))for(gt=-1!==[Js,ai].indexOf(Be)?ee:G;gt>=0;){var Ut;if((Ut=b[gt])===Kr)return Fe;if(-1===[As,Fn].indexOf(Ut))break;gt--}if(or===Be&&-1!==[or,fr,To,_n].indexOf(at)||-1!==[fr,To].indexOf(Be)&&-1!==[fr,Sr].indexOf(at)||-1!==[Sr,_n].indexOf(Be)&&at===Sr||-1!==Ur.indexOf(Be)&&-1!==[eo,rs].indexOf(at)||-1!==Ur.indexOf(at)&&Be===Pr||-1!==Nt.indexOf(Be)&&-1!==Nt.indexOf(at)||Be===Fn&&-1!==Nt.indexOf(at)||-1!==Nt.concat(Kr).indexOf(Be)&&at===Nr&&-1===he.indexOf(E[Ie])||-1!==Nt.concat(Kr).indexOf(at)&&Be===ai)return Fe;if(41===Be&&41===at){for(var Nn=S[G],An=1;Nn>0&&41===b[--Nn];)An++;if(An%2!=0)return Fe}return Be===Vs&&at===yr?Fe:"\xf7"},Xo=function(E,b){b||(b={lineBreak:"normal",wordBreak:"normal"});var S=function(E,b){void 0===b&&(b="strict");var S=[],B=[],k=[];return E.forEach(function(G,ee){var Ie=_t.get(G);if(Ie>50?(k.push(!0),Ie-=50):k.push(!1),-1!==["normal","auto","loose"].indexOf(b)&&-1!==[8208,8211,12316,12448].indexOf(G))return B.push(ee),S.push(16);if(4===Ie||11===Ie){if(0===ee)return B.push(ee),S.push(Ii);var Be=S[ee-1];return-1===zn.indexOf(Be)?(B.push(B[ee-1]),S.push(Be)):(B.push(ee),S.push(Ii))}return B.push(ee),31===Ie?S.push("strict"===b?Ts:yn):Ie===Re||29===Ie?S.push(Ii):43===Ie?S.push(G>=131072&&G<=196605||G>=196608&&G<=262141?yn:Ii):void S.push(Ie)}),[B,S,k]}(E,b.lineBreak),B=S[0],k=S[1],G=S[2];return("break-all"===b.wordBreak||"break-word"===b.wordBreak)&&(k=k.map(function(Ie){return-1!==[Kr,Ii,Re].indexOf(Ie)?yn:Ie})),[B,k,"keep-all"===b.wordBreak?G.map(function(Ie,Be){return Ie&&E[Be]>=19968&&E[Be]<=40959}):void 0]},Cn=function(){function E(b,S,B,k){this.codePoints=b,this.required="!"===S,this.start=B,this.end=k}return E.prototype.slice=function(){return ae.apply(void 0,this.codePoints.slice(this.start,this.end))},E}(),Mo=function(E){return E>=48&&E<=57},Yc=function(E){return Mo(E)||E>=65&&E<=70||E>=97&&E<=102},wd=function(E){return 10===E||9===E||32===E},zu=function(E){return function(E){return function(E){return E>=97&&E<=122}(E)||function(E){return E>=65&&E<=90}(E)}(E)||function(E){return E>=128}(E)||95===E},Xc=function(E){return zu(E)||Mo(E)||45===E},bd=function(E){return E>=0&&E<=8||11===E||E>=14&&E<=31||127===E},rl=function(E,b){return 92===E&&10!==b},$f=function(E,b,S){return 45===E?zu(b)||rl(b,S):!!zu(E)||!(92!==E||!rl(E,b))},Ui=function(E,b,S){return 43===E||45===E?!!Mo(b)||46===b&&Mo(S):Mo(46===E?b:E)},Bh=function(E){var b=0,S=1;(43===E[b]||45===E[b])&&(45===E[b]&&(S=-1),b++);for(var B=[];Mo(E[b]);)B.push(E[b++]);var k=B.length?parseInt(ae.apply(void 0,B),10):0;46===E[b]&&b++;for(var G=[];Mo(E[b]);)G.push(E[b++]);var ee=G.length,Ie=ee?parseInt(ae.apply(void 0,G),10):0;(69===E[b]||101===E[b])&&b++;var Be=1;(43===E[b]||45===E[b])&&(45===E[b]&&(Be=-1),b++);for(var Je=[];Mo(E[b]);)Je.push(E[b++]);var at=Je.length?parseInt(ae.apply(void 0,Je),10):0;return S*(k+Ie*Math.pow(10,-ee))*Math.pow(10,Be*at)},NA={type:2},Qi={type:3},Cd={type:4},Sh={type:13},qu={type:8},Go={type:21},Ed={type:9},$u={type:10},bl={type:11},ea={type:12},Jc={type:14},Cl={type:23},xh={type:1},Zl={type:25},bc={type:24},Dh={type:26},vr={type:27},eu={type:28},Th={type:29},PA={type:31},Id={type:32},Fh=function(){function E(){this._value=[]}return E.prototype.write=function(b){this._value=this._value.concat(Z(b))},E.prototype.read=function(){for(var b=[],S=this.consumeToken();S!==Id;)b.push(S),S=this.consumeToken();return b},E.prototype.consumeToken=function(){var b=this.consumeCodePoint();switch(b){case 34:return this.consumeStringToken(34);case 35:var S=this.peekCodePoint(0),B=this.peekCodePoint(1),k=this.peekCodePoint(2);if(Xc(S)||rl(B,k)){var G=$f(S,B,k)?2:1;return{type:5,value:this.consumeName(),flags:G}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Sh;break;case 39:return this.consumeStringToken(39);case 40:return NA;case 41:return Qi;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Jc;break;case 43:if(Ui(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case 44:return Cd;case 45:var Ie=b,Be=this.peekCodePoint(0),Je=this.peekCodePoint(1);if(Ui(Ie,Be,Je))return this.reconsumeCodePoint(b),this.consumeNumericToken();if($f(Ie,Be,Je))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();if(45===Be&&62===Je)return this.consumeCodePoint(),this.consumeCodePoint(),bc;break;case 46:if(Ui(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var at=this.consumeCodePoint();if(42===at&&47===(at=this.consumeCodePoint()))return this.consumeToken();if(-1===at)return this.consumeToken()}break;case 58:return Dh;case 59:return vr;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Zl;break;case 64:var gt=this.peekCodePoint(0),Ut=this.peekCodePoint(1),Nn=this.peekCodePoint(2);if($f(gt,Ut,Nn))return{type:7,value:this.consumeName()};break;case 91:return eu;case 92:if(rl(b,this.peekCodePoint(0)))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();break;case 93:return Th;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),qu;break;case 123:return bl;case 125:return ea;case 117:case 85:var An=this.peekCodePoint(0),In=this.peekCodePoint(1);return 43===An&&(Yc(In)||63===In)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(b),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ed;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Go;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),$u;break;case-1:return Id}return wd(b)?(this.consumeWhiteSpace(),PA):Mo(b)?(this.reconsumeCodePoint(b),this.consumeNumericToken()):zu(b)?(this.reconsumeCodePoint(b),this.consumeIdentLikeToken()):{type:6,value:ae(b)}},E.prototype.consumeCodePoint=function(){var b=this._value.shift();return void 0===b?-1:b},E.prototype.reconsumeCodePoint=function(b){this._value.unshift(b)},E.prototype.peekCodePoint=function(b){return b>=this._value.length?-1:this._value[b]},E.prototype.consumeUnicodeRangeToken=function(){for(var b=[],S=this.consumeCodePoint();Yc(S)&&b.length<6;)b.push(S),S=this.consumeCodePoint();for(var B=!1;63===S&&b.length<6;)b.push(S),S=this.consumeCodePoint(),B=!0;if(B)return{type:30,start:parseInt(ae.apply(void 0,b.map(function(Be){return 63===Be?48:Be})),16),end:parseInt(ae.apply(void 0,b.map(function(Be){return 63===Be?70:Be})),16)};var ee=parseInt(ae.apply(void 0,b),16);if(45===this.peekCodePoint(0)&&Yc(this.peekCodePoint(1))){this.consumeCodePoint(),S=this.consumeCodePoint();for(var Ie=[];Yc(S)&&Ie.length<6;)Ie.push(S),S=this.consumeCodePoint();return{type:30,start:ee,end:parseInt(ae.apply(void 0,Ie),16)}}return{type:30,start:ee,end:ee}},E.prototype.consumeIdentLikeToken=function(){var b=this.consumeName();return"url"===b.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:b}):{type:20,value:b}},E.prototype.consumeUrlToken=function(){var b=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var S=this.peekCodePoint(0);if(39===S||34===S){var B=this.consumeStringToken(this.consumeCodePoint());return 0===B.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:B.value}):(this.consumeBadUrlRemnants(),Cl)}for(;;){var k=this.consumeCodePoint();if(-1===k||41===k)return{type:22,value:ae.apply(void 0,b)};if(wd(k))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:ae.apply(void 0,b)}):(this.consumeBadUrlRemnants(),Cl);if(34===k||39===k||40===k||bd(k))return this.consumeBadUrlRemnants(),Cl;if(92===k){if(!rl(k,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Cl;b.push(this.consumeEscapedCodePoint())}else b.push(k)}},E.prototype.consumeWhiteSpace=function(){for(;wd(this.peekCodePoint(0));)this.consumeCodePoint()},E.prototype.consumeBadUrlRemnants=function(){for(;;){var b=this.consumeCodePoint();if(41===b||-1===b)return;rl(b,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},E.prototype.consumeStringSlice=function(b){for(var B="";b>0;){var k=Math.min(5e4,b);B+=ae.apply(void 0,this._value.splice(0,k)),b-=k}return this._value.shift(),B},E.prototype.consumeStringToken=function(b){for(var S="",B=0;;){var k=this._value[B];if(-1===k||void 0===k||k===b)return{type:0,value:S+=this.consumeStringSlice(B)};if(10===k)return this._value.splice(0,B),xh;if(92===k){var G=this._value[B+1];-1!==G&&void 0!==G&&(10===G?(S+=this.consumeStringSlice(B),B=-1,this._value.shift()):rl(k,G)&&(S+=this.consumeStringSlice(B),S+=ae(this.consumeEscapedCodePoint()),B=-1))}B++}},E.prototype.consumeNumber=function(){var b=[],S=4,B=this.peekCodePoint(0);for((43===B||45===B)&&b.push(this.consumeCodePoint());Mo(this.peekCodePoint(0));)b.push(this.consumeCodePoint());B=this.peekCodePoint(0);var k=this.peekCodePoint(1);if(46===B&&Mo(k))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Mo(this.peekCodePoint(0));)b.push(this.consumeCodePoint());B=this.peekCodePoint(0),k=this.peekCodePoint(1);var G=this.peekCodePoint(2);if((69===B||101===B)&&((43===k||45===k)&&Mo(G)||Mo(k)))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Mo(this.peekCodePoint(0));)b.push(this.consumeCodePoint());return[Bh(b),S]},E.prototype.consumeNumericToken=function(){var b=this.consumeNumber(),S=b[0],B=b[1],k=this.peekCodePoint(0),G=this.peekCodePoint(1),ee=this.peekCodePoint(2);return $f(k,G,ee)?{type:15,number:S,flags:B,unit:this.consumeName()}:37===k?(this.consumeCodePoint(),{type:16,number:S,flags:B}):{type:17,number:S,flags:B}},E.prototype.consumeEscapedCodePoint=function(){var b=this.consumeCodePoint();if(Yc(b)){for(var S=ae(b);Yc(this.peekCodePoint(0))&&S.length<6;)S+=ae(this.consumeCodePoint());wd(this.peekCodePoint(0))&&this.consumeCodePoint();var B=parseInt(S,16);return 0===B||function(E){return E>=55296&&E<=57343}(B)||B>1114111?65533:B}return-1===b?65533:b},E.prototype.consumeName=function(){for(var b="";;){var S=this.consumeCodePoint();if(Xc(S))b+=ae(S);else{if(!rl(S,this.peekCodePoint(0)))return this.reconsumeCodePoint(S),b;b+=ae(this.consumeEscapedCodePoint())}}},E}(),Bd=function(){function E(b){this._tokens=b}return E.create=function(b){var S=new Fh;return S.write(b),new E(S.read())},E.parseValue=function(b){return E.create(b).parseComponentValue()},E.parseValues=function(b){return E.create(b).parseComponentValues()},E.prototype.parseComponentValue=function(){for(var b=this.consumeToken();31===b.type;)b=this.consumeToken();if(32===b.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(b);var S=this.consumeComponentValue();do{b=this.consumeToken()}while(31===b.type);if(32===b.type)return S;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},E.prototype.parseComponentValues=function(){for(var b=[];;){var S=this.consumeComponentValue();if(32===S.type)return b;b.push(S),b.push()}},E.prototype.consumeComponentValue=function(){var b=this.consumeToken();switch(b.type){case 11:case 28:case 2:return this.consumeSimpleBlock(b.type);case 19:return this.consumeFunction(b)}return b},E.prototype.consumeSimpleBlock=function(b){for(var S={type:b,values:[]},B=this.consumeToken();;){if(32===B.type||ka(B,b))return S;this.reconsumeToken(B),S.values.push(this.consumeComponentValue()),B=this.consumeToken()}},E.prototype.consumeFunction=function(b){for(var S={name:b.value,values:[],type:18};;){var B=this.consumeToken();if(32===B.type||3===B.type)return S;this.reconsumeToken(B),S.values.push(this.consumeComponentValue())}},E.prototype.consumeToken=function(){var b=this._tokens.shift();return void 0===b?Id:b},E.prototype.reconsumeToken=function(b){this._tokens.unshift(b)},E}(),tu=function(E){return 15===E.type},Xl=function(E){return 17===E.type},Lt=function(E){return 20===E.type},li=function(E){return 0===E.type},Jl=function(E,b){return Lt(E)&&E.value===b},hs=function(E){return 31!==E.type},El=function(E){return 31!==E.type&&4!==E.type},Wo=function(E){var b=[],S=[];return E.forEach(function(B){if(4===B.type){if(0===S.length)throw new Error("Error parsing function args, zero tokens for arg");return b.push(S),void(S=[])}31!==B.type&&S.push(B)}),S.length&&b.push(S),b},ka=function(E,b){return 11===b&&12===E.type||28===b&&29===E.type||2===b&&3===E.type},Il=function(E){return 17===E.type||15===E.type},ds=function(E){return 16===E.type||Il(E)},Mh=function(E){return E.length>1?[E[0],E[1]]:[E[0]]},go={type:17,number:0,flags:4},Yf={type:16,number:50,flags:4},ta={type:16,number:100,flags:4},Gs=function(E,b,S){var B=E[0],k=E[1];return[Xr(B,b),Xr(void 0!==k?k:B,S)]},Xr=function(E,b){if(16===E.type)return E.number/100*b;if(tu(E))switch(E.unit){case"rem":case"em":return 16*E.number;default:return E.number}return E.number},OA_parse=function(E,b){if(15===b.type)switch(b.unit){case"deg":return Math.PI*b.number/180;case"grad":return Math.PI/200*b.number;case"rad":return b.number;case"turn":return 2*Math.PI*b.number}throw new Error("Unsupported angle type")},Nh=function(E){return 15===E.type&&("deg"===E.unit||"grad"===E.unit||"rad"===E.unit||"turn"===E.unit)},Zf=function(E){switch(E.filter(Lt).map(function(S){return S.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[go,go];case"to top":case"bottom":return mo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[go,ta];case"to right":case"left":return mo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ta,ta];case"to bottom":case"top":return mo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ta,go];case"to left":case"right":return mo(270)}return 0},mo=function(E){return Math.PI*E/180},ec_parse=function(E,b){if(18===b.type){var S=xd[b.name];if(void 0===S)throw new Error('Attempting to parse an unsupported color function "'+b.name+'"');return S(E,b.values)}if(5===b.type){if(3===b.value.length){var B=b.value.substring(0,1),k=b.value.substring(1,2),G=b.value.substring(2,3);return Cc(parseInt(B+B,16),parseInt(k+k,16),parseInt(G+G,16),1)}if(4===b.value.length){B=b.value.substring(0,1),k=b.value.substring(1,2),G=b.value.substring(2,3);var ee=b.value.substring(3,4);return Cc(parseInt(B+B,16),parseInt(k+k,16),parseInt(G+G,16),parseInt(ee+ee,16)/255)}if(6===b.value.length)return B=b.value.substring(0,2),k=b.value.substring(2,4),G=b.value.substring(4,6),Cc(parseInt(B,16),parseInt(k,16),parseInt(G,16),1);if(8===b.value.length)return B=b.value.substring(0,2),k=b.value.substring(2,4),G=b.value.substring(4,6),ee=b.value.substring(6,8),Cc(parseInt(B,16),parseInt(k,16),parseInt(G,16),parseInt(ee,16)/255)}if(20===b.type){var Ie=zs[b.value.toUpperCase()];if(void 0!==Ie)return Ie}return zs.TRANSPARENT},il=function(E){return 0==(255&E)},Ws=function(E){var b=255&E,S=255&E>>8,B=255&E>>16,k=255&E>>24;return b<255?"rgba("+k+","+B+","+S+","+b/255+")":"rgb("+k+","+B+","+S+")"},Cc=function(E,b,S,B){return(E<<24|b<<16|S<<8|Math.round(255*B)<<0)>>>0},LA=function(E,b){if(17===E.type)return E.number;if(16===E.type){var S=3===b?1:255;return 3===b?E.number/100*S:Math.round(E.number/100*S)}return 0},nu=function(E,b){var S=b.filter(El);if(3===S.length){var B=S.map(LA);return Cc(B[0],B[1],B[2],1)}if(4===S.length){var Ie=S.map(LA);return Cc(Ie[0],Ie[1],Ie[2],Ie[3])}return 0};function Ph(E,b,S){return S<0&&(S+=1),S>=1&&(S-=1),S<1/6?(b-E)*S*6+E:S<.5?b:S<2/3?6*(b-E)*(2/3-S)+E:E}var ru=function(E,b){var S=b.filter(El),B=S[0],k=S[1],G=S[2],ee=S[3],Ie=(17===B.type?mo(B.number):OA_parse(E,B))/(2*Math.PI),Be=ds(k)?k.number/100:0,Je=ds(G)?G.number/100:0,at=void 0!==ee&&ds(ee)?Xr(ee,1):1;if(0===Be)return Cc(255*Je,255*Je,255*Je,1);var gt=Je<=.5?Je*(Be+1):Je+Be-Je*Be,Ut=2*Je-gt,Nn=Ph(Ut,gt,Ie+1/3),An=Ph(Ut,gt,Ie),In=Ph(Ut,gt,Ie-1/3);return Cc(255*Nn,255*An,255*In,at)},xd={hsl:ru,hsla:ru,rgb:nu,rgba:nu},iu=function(E,b){return ec_parse(E,Bd.create(b).parseComponentValue())},zs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},gg={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(E,b){return b.map(function(S){if(Lt(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mg={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ns=function(E,b){var S=ec_parse(E,b[0]),B=b[1];return B&&ds(B)?{color:S,stop:B}:{color:S,stop:null}},tc=function(E,b){var S=E[0],B=E[E.length-1];null===S.stop&&(S.stop=go),null===B.stop&&(B.stop=ta);for(var k=[],G=0,ee=0;ee<E.length;ee++){var Ie=E[ee].stop;if(null!==Ie){var Be=Xr(Ie,b);k.push(Be>G?Be:G),G=Be}else k.push(null)}var Je=null;for(ee=0;ee<k.length;ee++){var at=k[ee];if(null===at)null===Je&&(Je=ee);else if(null!==Je){for(var gt=ee-Je,Nn=(at-k[Je-1])/(gt+1),An=1;An<=gt;An++)k[Je+An-1]=Nn*An;Je=null}}return E.map(function(In,Wr){return{color:In.color,stop:Math.max(Math.min(1,k[Wr]/b),0)}})},Gm=function(E,b,S){var B="number"==typeof E?E:function(E,b,S){var B=b/2,k=S/2,G=Xr(E[0],b)-B,ee=k-Xr(E[1],S);return(Math.atan2(ee,G)+2*Math.PI)%(2*Math.PI)}(E,b,S),k=Math.abs(b*Math.sin(B))+Math.abs(S*Math.cos(B)),G=b/2,ee=S/2,Ie=k/2,Be=Math.sin(B-Math.PI/2)*Ie,Je=Math.cos(B-Math.PI/2)*Ie;return[k,G-Je,G+Je,ee-Be,ee+Be]},nc=function(E,b){return Math.sqrt(E*E+b*b)},yg=function(E,b,S,B,k){return[[0,0],[0,b],[E,0],[E,b]].reduce(function(ee,Ie){var at=nc(S-Ie[0],B-Ie[1]);return(k?at<ee.optimumDistance:at>ee.optimumDistance)?{optimumCorner:Ie,optimumDistance:at}:ee},{optimumDistance:k?1/0:-1/0,optimumCorner:null}).optimumCorner},Xf=function(E,b){var S=mo(180),B=[];return Wo(b).forEach(function(k,G){if(0===G){var ee=k[0];if(20===ee.type&&-1!==["top","left","right","bottom"].indexOf(ee.value))return void(S=Zf(k));if(Nh(ee))return void(S=(OA_parse(E,ee)+mo(270))%mo(360))}var Ie=Ns(E,k);B.push(Ie)}),{angle:S,stops:B,type:1}},sl="closest-side",su="farthest-side",Dd="closest-corner",we="farthest-corner",F="circle",H="ellipse",pt="contain",Zn=function(E,b){var S=0,B=3,k=[],G=[];return Wo(b).forEach(function(ee,Ie){var Be=!0;if(0===Ie?Be=ee.reduce(function(at,gt){if(Lt(gt))switch(gt.value){case"center":return G.push(Yf),!1;case"top":case"left":return G.push(go),!1;case"right":case"bottom":return G.push(ta),!1}else if(ds(gt)||Il(gt))return G.push(gt),!1;return at},Be):1===Ie&&(Be=ee.reduce(function(at,gt){if(Lt(gt))switch(gt.value){case F:return S=0,!1;case H:return S=1,!1;case pt:case sl:return B=0,!1;case su:return B=1,!1;case Dd:return B=2,!1;case"cover":case we:return B=3,!1}else if(Il(gt)||ds(gt))return Array.isArray(B)||(B=[]),B.push(gt),!1;return at},Be)),Be){var Je=Ns(E,ee);k.push(Je)}}),{size:B,shape:S,stops:k,position:G,type:2}},di_parse=function(E,b){if(22===b.type){var S={url:b.value,type:0};return E.cache.addImage(b.value),S}if(18===b.type){var B=Jf[b.name];if(void 0===B)throw new Error('Attempting to parse an unsupported image function "'+b.name+'"');return B(E,b.values)}throw new Error("Unsupported image type "+b.type)};for(var Jf={"linear-gradient":function(E,b){var S=mo(180),B=[];return Wo(b).forEach(function(k,G){if(0===G){var ee=k[0];if(20===ee.type&&"to"===ee.value)return void(S=Zf(k));if(Nh(ee))return void(S=OA_parse(E,ee))}var Ie=Ns(E,k);B.push(Ie)}),{angle:S,stops:B,type:1}},"-moz-linear-gradient":Xf,"-ms-linear-gradient":Xf,"-o-linear-gradient":Xf,"-webkit-linear-gradient":Xf,"radial-gradient":function(E,b){var S=0,B=3,k=[],G=[];return Wo(b).forEach(function(ee,Ie){var Be=!0;if(0===Ie){var Je=!1;Be=ee.reduce(function(gt,Ut){if(Je)if(Lt(Ut))switch(Ut.value){case"center":return G.push(Yf),gt;case"top":case"left":return G.push(go),gt;case"right":case"bottom":return G.push(ta),gt}else(ds(Ut)||Il(Ut))&&G.push(Ut);else if(Lt(Ut))switch(Ut.value){case F:return S=0,!1;case H:return S=1,!1;case"at":return Je=!0,!1;case sl:return B=0,!1;case"cover":case su:return B=1,!1;case pt:case Dd:return B=2,!1;case we:return B=3,!1}else if(Il(Ut)||ds(Ut))return Array.isArray(B)||(B=[]),B.push(Ut),!1;return gt},Be)}if(Be){var at=Ns(E,ee);k.push(at)}}),{size:B,shape:S,stops:k,position:G,type:2}},"-moz-radial-gradient":Zn,"-ms-radial-gradient":Zn,"-o-radial-gradient":Zn,"-webkit-radial-gradient":Zn,"-webkit-gradient":function(E,b){var S=mo(180),B=[],k=1;return Wo(b).forEach(function(Be,Je){var at=Be[0];if(0===Je){if(Lt(at)&&"linear"===at.value)return void(k=1);if(Lt(at)&&"radial"===at.value)return void(k=2)}if(18===at.type)if("from"===at.name){var gt=ec_parse(E,at.values[0]);B.push({stop:go,color:gt})}else if("to"===at.name)gt=ec_parse(E,at.values[0]),B.push({stop:ta,color:gt});else if("color-stop"===at.name){var Ut=at.values.filter(El);if(2===Ut.length){gt=ec_parse(E,Ut[1]);var Nn=Ut[0];Xl(Nn)&&B.push({stop:{type:16,number:100*Nn.number,flags:Nn.flags},color:gt})}}}),1===k?{angle:(S+mo(180))%mo(360),stops:B,type:k}:{size:3,shape:0,stops:B,position:[],type:k}}},gi={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(E,b){if(0===b.length)return[];var S=b[0];return 20===S.type&&"none"===S.value?[]:b.filter(function(B){return El(B)&&function Td(E){return!(20===E.type&&"none"===E.value||18===E.type&&!Jf[E.name])}(B)}).map(function(B){return di_parse(E,B)})}},No={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(E,b){return b.map(function(S){if(Lt(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(E,b){return Wo(b).map(function(S){return S.filter(ds)}).map(Mh)}},ou={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(E,b){return Wo(b).map(function(S){return S.filter(Lt).map(function(B){return B.value}).join(" ")}).map(kA)}},kA=function(E){switch(E){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},ra=(()=>{return(E=ra||(ra={})).AUTO="auto",E.CONTAIN="contain",E.COVER="cover",ra;var E})(),UA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(E,b){return Wo(b).map(function(S){return S.filter(ro)})}},ro=function(E){return Lt(E)||ds(E)},rc=function(E){return{name:"border-"+E+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zu=rc("top"),Fd=rc("right"),vg=rc("bottom"),ep=rc("left"),au=function(E){return{name:"border-radius-"+E,initialValue:"0 0",prefix:!1,type:1,parse:function(b,S){return Mh(S.filter(ds))}}},Ji=au("top-left"),Xu=au("top-right"),yo=au("bottom-right"),xl=au("bottom-left"),_a=function(E){return{name:"border-"+E+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(b,S){switch(S){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ju=_a("top"),Md=_a("right"),tp=_a("bottom"),np=_a("left"),Ec=function(E){return{name:"border-"+E+"-width",initialValue:"0",type:0,prefix:!1,parse:function(b,S){return tu(S)?S.number:0}}},ol=Ec("top"),QA=Ec("right"),Oh=Ec("bottom"),HA=Ec("left"),VA={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},al={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(E,b){return"rtl"===b?1:0}},ic={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(E,b){return b.filter(Lt).reduce(function(S,B){return S|Nd(B.value)},0)}},Nd=function(E){switch(E){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Pd={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(E,b){switch(b){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},eA={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(E,b){return 20===b.type&&"normal"===b.value?0:17===b.type||15===b.type?b.number:0}},ll=(()=>{return(E=ll||(ll={})).NORMAL="normal",E.STRICT="strict",ll;var E})(),jA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(E,b){return"strict"===b?ll.STRICT:ll.NORMAL}},Lh={name:"line-height",initialValue:"normal",prefix:!1,type:4},lu=function(E,b){return Lt(E)&&"normal"===E.value?1.2*b:17===E.type?b*E.number:ds(E)?Xr(E,b):b},KA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(E,b){return 20===b.type&&"none"===b.value?null:di_parse(E,b)}},GA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(E,b){return"inside"===b?0:1}},tA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(E,b){switch(b){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},cu=function(E){return{name:"margin-"+E,initialValue:"0",prefix:!1,type:4}},WA=cu("top"),_g=cu("right"),rp=cu("bottom"),Cs=cu("left"),ip={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(E,b){return b.filter(Lt).map(function(S){switch(S.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Ew={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(E,b){return"break-word"===b?"break-word":"normal"}},sp=function(E){return{name:"padding-"+E,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zm=sp("top"),wg=sp("right"),Iw=sp("bottom"),Bw=sp("left"),Od={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(E,b){switch(b){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},qm={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(E,b){switch(b){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},es={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(E,b){return 1===b.length&&Jl(b[0],"none")?[]:Wo(b).map(function(S){for(var B={color:zs.TRANSPARENT,offsetX:go,offsetY:go,blur:go},k=0,G=0;G<S.length;G++){var ee=S[G];Il(ee)?(0===k?B.offsetX=ee:1===k?B.offsetY=ee:B.blur=ee,k++):B.color=ec_parse(E,ee)}return B})}},zA={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(E,b){switch(b){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ic={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(E,b){if(20===b.type&&"none"===b.value)return null;if(18===b.type){var S=fs[b.name];if(void 0===S)throw new Error('Attempting to parse an unsupported transform function "'+b.name+'"');return S(b.values)}return null}},fs={matrix:function(E){var b=E.filter(function(S){return 17===S.type}).map(function(S){return S.number});return 6===b.length?b:null},matrix3d:function(E){var b=E.filter(function(Be){return 17===Be.type}).map(function(Be){return Be.number});return 16===b.length?[b[0],b[1],b[4],b[5],b[12],b[13]]:null}},Si={type:16,number:50,flags:4},qs=[Si,Si],Ld={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(E,b){var S=b.filter(ds);return 2!==S.length?qs:[S[0],S[1]]}},nA={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(E,b){switch(b){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Dl=(()=>{return(E=Dl||(Dl={})).NORMAL="normal",E.BREAK_ALL="break-all",E.KEEP_ALL="keep-all",Dl;var E})(),rA={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(E,b){switch(b){case"break-all":return Dl.BREAK_ALL;case"keep-all":return Dl.KEEP_ALL;default:return Dl.NORMAL}}},op={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(E,b){if(20===b.type)return{auto:!0,order:0};if(Xl(b))return{auto:!1,order:b.number};throw new Error("Invalid z-index number parsed")}},$m={name:"time",parse:function(E,b){if(15===b.type)switch(b.unit.toLowerCase()){case"s":return 1e3*b.number;case"ms":return b.number}throw new Error("Unsupported time type")}},JC={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(E,b){return Xl(b)?b.number:1}},sv={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ua={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(E,b){return b.filter(Lt).map(function(S){switch(S.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(S){return 0!==S})}},ap={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(E,b){var S=[],B=[];return b.forEach(function(k){switch(k.type){case 20:case 0:S.push(k.value);break;case 17:S.push(k.number.toString());break;case 4:B.push(S.join(" ")),S.length=0}}),S.length&&B.push(S.join(" ")),B.map(function(k){return-1===k.indexOf(" ")?k:"'"+k+"'"})}},uu={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},eE={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(E,b){return Xl(b)?b.number:Lt(b)&&"bold"===b.value?700:400}},bg={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(E,b){return b.filter(Lt).map(function(S){return S.value})}},Ym={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(E,b){switch(b){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ss=function(E,b){return 0!=(E&b)},xw={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(E,b){if(0===b.length)return[];var S=b[0];return 20===S.type&&"none"===S.value?[]:b}},Zm={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(E,b){if(0===b.length)return null;var S=b[0];if(20===S.type&&"none"===S.value)return null;for(var B=[],k=b.filter(hs),G=0;G<k.length;G++){var ee=k[G],Ie=k[G+1];if(20===ee.type){var Be=Ie&&Xl(Ie)?Ie.number:1;B.push({counter:ee.value,increment:Be})}}return B}},Xm={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(E,b){if(0===b.length)return[];for(var S=[],B=b.filter(hs),k=0;k<B.length;k++){var G=B[k],ee=B[k+1];if(Lt(G)&&"none"!==G.value){var Ie=ee&&Xl(ee)?ee.number:0;S.push({counter:G.value,reset:Ie})}}return S}},Cg={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(E,b){return b.filter(tu).map(function(S){return $m.parse(E,S)})}},Rh={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(E,b){if(0===b.length)return null;var S=b[0];if(20===S.type&&"none"===S.value)return null;var B=[],k=b.filter(li);if(k.length%2!=0)return null;for(var G=0;G<k.length;G+=2)B.push({open:k[G].value,close:k[G+1].value});return B}},lp=function(E,b,S){if(!E)return"";var B=E[Math.min(b,E.length-1)];return B?S?B.open:B.close:""},Dw={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(E,b){return 1===b.length&&Jl(b[0],"none")?[]:Wo(b).map(function(S){for(var B={color:255,offsetX:go,offsetY:go,blur:go,spread:go,inset:!1},k=0,G=0;G<S.length;G++){var ee=S[G];Jl(ee,"inset")?B.inset=!0:Il(ee)?(0===k?B.offsetX=ee:1===k?B.offsetY=ee:2===k?B.blur=ee:B.spread=ee,k++):B.color=ec_parse(E,ee)}return B})}},Au={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(E,b){var B=[];return b.filter(Lt).forEach(function(k){switch(k.value){case"stroke":B.push(1);break;case"fill":B.push(0);break;case"markers":B.push(2)}}),[0,1,2].forEach(function(k){-1===B.indexOf(k)&&B.push(k)}),B}},cp={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Rd={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(E,b){return tu(b)?b.number:0}},Tw=function(){function E(b,S){var B,k;this.animationDuration=Mn(b,Cg,S.animationDuration),this.backgroundClip=Mn(b,gg,S.backgroundClip),this.backgroundColor=Mn(b,mg,S.backgroundColor),this.backgroundImage=Mn(b,gi,S.backgroundImage),this.backgroundOrigin=Mn(b,No,S.backgroundOrigin),this.backgroundPosition=Mn(b,zo,S.backgroundPosition),this.backgroundRepeat=Mn(b,ou,S.backgroundRepeat),this.backgroundSize=Mn(b,UA,S.backgroundSize),this.borderTopColor=Mn(b,Zu,S.borderTopColor),this.borderRightColor=Mn(b,Fd,S.borderRightColor),this.borderBottomColor=Mn(b,vg,S.borderBottomColor),this.borderLeftColor=Mn(b,ep,S.borderLeftColor),this.borderTopLeftRadius=Mn(b,Ji,S.borderTopLeftRadius),this.borderTopRightRadius=Mn(b,Xu,S.borderTopRightRadius),this.borderBottomRightRadius=Mn(b,yo,S.borderBottomRightRadius),this.borderBottomLeftRadius=Mn(b,xl,S.borderBottomLeftRadius),this.borderTopStyle=Mn(b,Ju,S.borderTopStyle),this.borderRightStyle=Mn(b,Md,S.borderRightStyle),this.borderBottomStyle=Mn(b,tp,S.borderBottomStyle),this.borderLeftStyle=Mn(b,np,S.borderLeftStyle),this.borderTopWidth=Mn(b,ol,S.borderTopWidth),this.borderRightWidth=Mn(b,QA,S.borderRightWidth),this.borderBottomWidth=Mn(b,Oh,S.borderBottomWidth),this.borderLeftWidth=Mn(b,HA,S.borderLeftWidth),this.boxShadow=Mn(b,Dw,S.boxShadow),this.color=Mn(b,VA,S.color),this.direction=Mn(b,al,S.direction),this.display=Mn(b,ic,S.display),this.float=Mn(b,Pd,S.cssFloat),this.fontFamily=Mn(b,ap,S.fontFamily),this.fontSize=Mn(b,uu,S.fontSize),this.fontStyle=Mn(b,Ym,S.fontStyle),this.fontVariant=Mn(b,bg,S.fontVariant),this.fontWeight=Mn(b,eE,S.fontWeight),this.letterSpacing=Mn(b,eA,S.letterSpacing),this.lineBreak=Mn(b,jA,S.lineBreak),this.lineHeight=Mn(b,Lh,S.lineHeight),this.listStyleImage=Mn(b,KA,S.listStyleImage),this.listStylePosition=Mn(b,GA,S.listStylePosition),this.listStyleType=Mn(b,tA,S.listStyleType),this.marginTop=Mn(b,WA,S.marginTop),this.marginRight=Mn(b,_g,S.marginRight),this.marginBottom=Mn(b,rp,S.marginBottom),this.marginLeft=Mn(b,Cs,S.marginLeft),this.opacity=Mn(b,JC,S.opacity);var G=Mn(b,ip,S.overflow);this.overflowX=G[0],this.overflowY=G[G.length>1?1:0],this.overflowWrap=Mn(b,Ew,S.overflowWrap),this.paddingTop=Mn(b,zm,S.paddingTop),this.paddingRight=Mn(b,wg,S.paddingRight),this.paddingBottom=Mn(b,Iw,S.paddingBottom),this.paddingLeft=Mn(b,Bw,S.paddingLeft),this.paintOrder=Mn(b,Au,S.paintOrder),this.position=Mn(b,qm,S.position),this.textAlign=Mn(b,Od,S.textAlign),this.textDecorationColor=Mn(b,sv,null!==(B=S.textDecorationColor)&&void 0!==B?B:S.color),this.textDecorationLine=Mn(b,Ua,null!==(k=S.textDecorationLine)&&void 0!==k?k:S.textDecoration),this.textShadow=Mn(b,es,S.textShadow),this.textTransform=Mn(b,zA,S.textTransform),this.transform=Mn(b,Ic,S.transform),this.transformOrigin=Mn(b,Ld,S.transformOrigin),this.visibility=Mn(b,nA,S.visibility),this.webkitTextStrokeColor=Mn(b,cp,S.webkitTextStrokeColor),this.webkitTextStrokeWidth=Mn(b,Rd,S.webkitTextStrokeWidth),this.wordBreak=Mn(b,rA,S.wordBreak),this.zIndex=Mn(b,op,S.zIndex)}return E.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},E.prototype.isTransparent=function(){return il(this.backgroundColor)},E.prototype.isTransformed=function(){return null!==this.transform},E.prototype.isPositioned=function(){return 0!==this.position},E.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},E.prototype.isFloating=function(){return 0!==this.float},E.prototype.isInlineLevel=function(){return ss(this.display,4)||ss(this.display,33554432)||ss(this.display,268435456)||ss(this.display,536870912)||ss(this.display,67108864)||ss(this.display,134217728)},E}(),qA=function E(b,S){this.content=Mn(b,xw,S.content),this.quotes=Mn(b,Rh,S.quotes)},Jm=function E(b,S){this.counterIncrement=Mn(b,Zm,S.counterIncrement),this.counterReset=Mn(b,Xm,S.counterReset)},Mn=function(E,b,S){var B=new Fh,k=null!=S?S.toString():b.initialValue;B.write(k);var G=new Bd(B.read());switch(b.type){case 2:var ee=G.parseComponentValue();return b.parse(E,Lt(ee)?ee.value:b.initialValue);case 0:return b.parse(E,G.parseComponentValue());case 1:return b.parse(E,G.parseComponentValues());case 4:return G.parseComponentValue();case 3:switch(b.format){case"angle":return OA_parse(E,G.parseComponentValue());case"color":return ec_parse(E,G.parseComponentValue());case"image":return di_parse(E,G.parseComponentValue());case"length":var Ie=G.parseComponentValue();return Il(Ie)?Ie:go;case"length-percentage":var Be=G.parseComponentValue();return ds(Be)?Be:go;case"time":return $m.parse(E,G.parseComponentValue())}}},kd=function(E,b){var S=function(E){switch(E.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(E);return 1===S||b===S},hu=function E(b,S){this.context=b,this.textNodes=[],this.elements=[],this.flags=0,kd(S,3),this.styles=new Tw(b,window.getComputedStyle(S,null)),Xd(S)&&(this.styles.animationDuration.some(function(B){return B>0})&&(S.style.animationDuration="0s"),null!==this.styles.transform&&(S.style.transform="none")),this.bounds=Ae(this.context,S),kd(S,4)&&(this.flags|=16)},up="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$A="undefined"==typeof Uint8Array?[]:new Uint8Array(256),YA=0;YA<up.length;YA++)$A[up.charCodeAt(YA)]=YA;for(var XA=function(E,b,S){return E.slice?E.slice(b,S):new Uint16Array(Array.prototype.slice.call(E,b,S))},Bg=function(){function E(b,S,B,k,G,ee){this.initialValue=b,this.errorValue=S,this.highStart=B,this.highValueIndex=k,this.index=G,this.data=ee}return E.prototype.get=function(b){var S;if(b>=0){if(b<55296||b>56319&&b<=65535)return this.data[S=((S=this.index[b>>5])<<2)+(31&b)];if(b<=65535)return this.data[S=((S=this.index[2048+(b-55296>>5)])<<2)+(31&b)];if(b<this.highStart)return S=this.index[S=2080+(b>>11)],this.data[S=((S=this.index[S+=b>>5&63])<<2)+(31&b)];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},E}(),io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sa="undefined"==typeof Uint8Array?[]:new Uint8Array(256),vo=0;vo<io.length;vo++)sa[io.charCodeAt(vo)]=vo;var JA=8,qo=9,Vd=11,fp=12,ry=function(){for(var E=[],b=0;b<arguments.length;b++)E[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,E);var S=E.length;if(!S)return"";for(var B=[],k=-1,G="";++k<S;){var ee=E[k];ee<=65535?B.push(ee):B.push(55296+((ee-=65536)>>10),ee%1024+56320),(k+1===S||B.length>16384)&&(G+=String.fromCharCode.apply(String,B),B.length=0)}return G},sA=function(E,b){var S=function(E){var B,G,ee,Ie,Be,b=.75*E.length,S=E.length,k=0;"="===E[E.length-1]&&(b--,"="===E[E.length-2]&&b--);var Je="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(b):new Array(b),at=Array.isArray(Je)?Je:new Uint8Array(Je);for(B=0;B<S;B+=4)G=$A[E.charCodeAt(B)],ee=$A[E.charCodeAt(B+1)],Ie=$A[E.charCodeAt(B+2)],Be=$A[E.charCodeAt(B+3)],at[k++]=G<<2|ee>>4,at[k++]=(15&ee)<<4|Ie>>2,at[k++]=(3&Ie)<<6|63&Be;return Je}(E),B=Array.isArray(S)?function(E){for(var b=E.length,S=[],B=0;B<b;B+=4)S.push(E[B+3]<<24|E[B+2]<<16|E[B+1]<<8|E[B]);return S}(S):new Uint32Array(S),k=Array.isArray(S)?function(E){for(var b=E.length,S=[],B=0;B<b;B+=2)S.push(E[B+1]<<8|E[B]);return S}(S):new Uint16Array(S),ee=XA(k,12,B[4]/2),Ie=2===B[5]?XA(k,(24+B[4])/2):function(E,b,S){return E.slice?E.slice(b,S):new Uint32Array(Array.prototype.slice.call(E,b,S))}(B,Math.ceil((24+B[4])/4));return new Bg(B[0],B[1],B[2],B[3],ee,Ie)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),ps=function(E){return sA.get(E)},gp=function(E,b,S){var B=S-2,k=b[B],G=b[S-1],ee=b[S];if(2===G&&3===ee)return"\xd7";if(2===G||3===G||4===G||2===ee||3===ee||4===ee)return"\xf7";if(G===JA&&-1!==[JA,qo,Vd,fp].indexOf(ee)||(G===Vd||G===qo)&&(ee===qo||10===ee)||(G===fp||10===G)&&10===ee||13===ee||5===ee||7===ee||1===G)return"\xd7";if(13===G&&14===ee){for(;5===k;)k=b[--B];if(14===k)return"\xd7"}if(15===G&&15===ee){for(var Ie=0;15===k;)Ie++,k=b[--B];if(Ie%2==0)return"\xd7"}return"\xf7"},oA=function(E){var b=function(E){for(var b=[],S=0,B=E.length;S<B;){var k=E.charCodeAt(S++);if(k>=55296&&k<=56319&&S<B){var G=E.charCodeAt(S++);56320==(64512&G)?b.push(((1023&k)<<10)+(1023&G)+65536):(b.push(k),S--)}else b.push(k)}return b}(E),S=b.length,B=0,k=0,G=b.map(ps);return{next:function(){if(B>=S)return{done:!0,value:null};for(var ee="\xd7";B<S&&"\xd7"===(ee=gp(0,G,++B)););if("\xd7"!==ee||B===S){var Ie=ry.apply(null,b.slice(k,B));return k=B,{value:Ie,done:!1}}return{done:!0,value:null}}}},Dg=function(E){return 0===E[0]&&255===E[1]&&0===E[2]&&255===E[3]},jd=function(E,b,S,B,k){var G="http://www.w3.org/2000/svg",ee=document.createElementNS(G,"svg"),Ie=document.createElementNS(G,"foreignObject");return ee.setAttributeNS(null,"width",E.toString()),ee.setAttributeNS(null,"height",b.toString()),Ie.setAttributeNS(null,"width","100%"),Ie.setAttributeNS(null,"height","100%"),Ie.setAttributeNS(null,"x",S.toString()),Ie.setAttributeNS(null,"y",B.toString()),Ie.setAttributeNS(null,"externalResourcesRequired","true"),ee.appendChild(Ie),Ie.appendChild(k),ee},gs=function(E){return new Promise(function(b,S){var B=new Image;B.onload=function(){return b(B)},B.onerror=S,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(E))})},Gr={get SUPPORT_RANGE_BOUNDS(){var E=function(E){if(E.createRange){var S=E.createRange();if(S.getBoundingClientRect){var B=E.createElement("boundtest");B.style.height="123px",B.style.display="block",E.body.appendChild(B),S.selectNode(B);var k=S.getBoundingClientRect(),G=Math.round(k.height);if(E.body.removeChild(B),123===G)return!0}}return!1}(document);return Object.defineProperty(Gr,"SUPPORT_RANGE_BOUNDS",{value:E}),E},get SUPPORT_WORD_BREAKING(){var E=Gr.SUPPORT_RANGE_BOUNDS&&function(E){var b=E.createElement("boundtest");b.style.width="50px",b.style.display="block",b.style.fontSize="12px",b.style.letterSpacing="0px",b.style.wordSpacing="0px",E.body.appendChild(b);var S=E.createRange();b.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var B=b.firstChild,k=Z(B.data).map(function(Be){return ae(Be)}),G=0,ee={},Ie=k.every(function(Be,Je){S.setStart(B,G),S.setEnd(B,G+Be.length);var at=S.getBoundingClientRect();G+=Be.length;var gt=at.x>ee.x||at.y>ee.y;return ee=at,0===Je||gt});return E.body.removeChild(b),Ie}(document);return Object.defineProperty(Gr,"SUPPORT_WORD_BREAKING",{value:E}),E},get SUPPORT_SVG_DRAWING(){var E=function(E){var b=new Image,S=E.createElement("canvas"),B=S.getContext("2d");if(!B)return!1;b.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{B.drawImage(b,0,0),S.toDataURL()}catch(k){return!1}return!0}(document);return Object.defineProperty(Gr,"SUPPORT_SVG_DRAWING",{value:E}),E},get SUPPORT_FOREIGNOBJECT_DRAWING(){var E="function"==typeof Array.from&&"function"==typeof window.fetch?function(E){var b=E.createElement("canvas"),S=100;b.width=S,b.height=S;var B=b.getContext("2d");if(!B)return Promise.reject(!1);B.fillStyle="rgb(0, 255, 0)",B.fillRect(0,0,S,S);var k=new Image,G=b.toDataURL();k.src=G;var ee=jd(S,S,0,0,k);return B.fillStyle="red",B.fillRect(0,0,S,S),gs(ee).then(function(Ie){B.drawImage(Ie,0,0);var Be=B.getImageData(0,0,S,S).data;B.fillStyle="red",B.fillRect(0,0,S,S);var Je=E.createElement("div");return Je.style.backgroundImage="url("+G+")",Je.style.height=S+"px",Dg(Be)?gs(jd(S,S,0,0,Je)):Promise.reject(!1)}).then(function(Ie){return B.drawImage(Ie,0,0),Dg(B.getImageData(0,0,S,S).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Gr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:E}),E},get SUPPORT_CORS_IMAGES(){var E=void 0!==(new Image).crossOrigin;return Object.defineProperty(Gr,"SUPPORT_CORS_IMAGES",{value:E}),E},get SUPPORT_RESPONSE_TYPE(){var E="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Gr,"SUPPORT_RESPONSE_TYPE",{value:E}),E},get SUPPORT_CORS_XHR(){var E="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Gr,"SUPPORT_CORS_XHR",{value:E}),E},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var E=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Gr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:E}),E}},ms=function E(b,S){this.text=b,this.bounds=S},gu=function(E,b){var S=b.ownerDocument;if(S){var B=S.createElement("html2canvaswrapper");B.appendChild(b.cloneNode(!0));var k=b.parentNode;if(k){k.replaceChild(B,b);var G=Ae(E,B);return B.firstChild&&k.replaceChild(B.firstChild,B),G}}return xe.EMPTY},Gd=function(E,b,S){var B=E.ownerDocument;if(!B)throw new Error("Node has no owner document");var k=B.createRange();return k.setStart(E,b),k.setEnd(E,b+S),k},Hh=function(E){if(Gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var b=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(b.segment(E)).map(function(S){return S.segment})}return function(E){for(var B,b=oA(E),S=[];!(B=b.next()).done;)B.value&&S.push(B.value.slice());return S}(E)},cv=function(E,b){return 0!==b.letterSpacing?Hh(E):function(E,b){if(Gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var S=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(S.segment(E)).map(function(B){return B.segment})}return uv(E,b)}(E,b)},Tg=[32,160,4961,65792,65793,4153,4241],uv=function(E,b){for(var k,S=function(E,b){var S=Z(E),B=Xo(S,b),k=B[0],G=B[1],ee=B[2],Ie=S.length,Be=0,Je=0;return{next:function(){if(Je>=Ie)return{done:!0,value:null};for(var at=Fe;Je<Ie&&(at=Hu(S,G,k,++Je,ee))===Fe;);if(at!==Fe||Je===Ie){var gt=new Cn(S,at,Be,Je);return Be=Je,{value:gt,done:!1}}return{done:!0,value:null}}}}(E,{lineBreak:b.lineBreak,wordBreak:"break-word"===b.overflowWrap?"break-word":b.wordBreak}),B=[],G=function(){if(k.value){var ee=k.value.slice(),Ie=Z(ee),Be="";Ie.forEach(function(Je){-1===Tg.indexOf(Je)?Be+=ae(Je):(Be.length&&B.push(Be),B.push(ae(Je)),Be="")}),Be.length&&B.push(Be)}};!(k=S.next()).done;)G();return B},sy=function E(b,S,B){this.text=zd(S.data,B.textTransform),this.textBounds=function(E,b,S,B){var k=cv(b,S),G=[],ee=0;return k.forEach(function(Ie){if(S.textDecorationLine.length||Ie.trim().length>0)if(Gr.SUPPORT_RANGE_BOUNDS){var Be=Gd(B,ee,Ie.length).getClientRects();if(Be.length>1){var Je=Hh(Ie),at=0;Je.forEach(function(Ut){G.push(new ms(Ut,xe.fromDOMRectList(E,Gd(B,at+ee,Ut.length).getClientRects()))),at+=Ut.length})}else G.push(new ms(Ie,xe.fromDOMRectList(E,Be)))}else{var gt=B.splitText(Ie.length);G.push(new ms(Ie,gu(E,B))),B=gt}else Gr.SUPPORT_RANGE_BOUNDS||(B=B.splitText(Ie.length));ee+=Ie.length}),G}(b,this.text,B,S)},zd=function(E,b){switch(b){case 1:return E.toLowerCase();case 3:return E.replace(xc,Fg);case 2:return E.toUpperCase();default:return E}},xc=/(^|\s|:|-|\(|\))([a-z])/g,Fg=function(E,b,S){return E.length>0?b+S.toUpperCase():E},eh=function(E){function b(S,B){var k=E.call(this,S,B)||this;return k.src=B.currentSrc||B.src,k.intrinsicWidth=B.naturalWidth,k.intrinsicHeight=B.naturalHeight,k.context.cache.addImage(k.src),k}return U(b,E),b}(hu),cl=function(E){function b(S,B){var k=E.call(this,S,B)||this;return k.canvas=B,k.intrinsicWidth=B.width,k.intrinsicHeight=B.height,k}return U(b,E),b}(hu),mu=function(E){function b(S,B){var k=E.call(this,S,B)||this,G=new XMLSerializer,ee=Ae(S,B);return B.setAttribute("width",ee.width+"px"),B.setAttribute("height",ee.height+"px"),k.svg="data:image/svg+xml,"+encodeURIComponent(G.serializeToString(B)),k.intrinsicWidth=B.width.baseVal.value,k.intrinsicHeight=B.height.baseVal.value,k.context.cache.addImage(k.svg),k}return U(b,E),b}(hu),th=function(E){function b(S,B){var k=E.call(this,S,B)||this;return k.value=B.value,k}return U(b,E),b}(hu),aA=function(E){function b(S,B){var k=E.call(this,S,B)||this;return k.start=B.start,k.reversed="boolean"==typeof B.reversed&&!0===B.reversed,k}return U(b,E),b}(hu),qd=[{type:15,flags:0,unit:"px",number:3}],so=[{type:16,flags:0,number:50}],lA="checkbox",yu="radio",Pl="password",$d=707406591,Hn=function(E){function b(S,B){var k=E.call(this,S,B)||this;switch(k.type=B.type.toLowerCase(),k.checked=B.checked,k.value=function(E){var b=E.type===Pl?new Array(E.value.length+1).join("\u2022"):E.value;return 0===b.length?E.placeholder||"":b}(B),(k.type===lA||k.type===yu)&&(k.styles.backgroundColor=3739148031,k.styles.borderTopColor=k.styles.borderRightColor=k.styles.borderBottomColor=k.styles.borderLeftColor=2779096575,k.styles.borderTopWidth=k.styles.borderRightWidth=k.styles.borderBottomWidth=k.styles.borderLeftWidth=1,k.styles.borderTopStyle=k.styles.borderRightStyle=k.styles.borderBottomStyle=k.styles.borderLeftStyle=1,k.styles.backgroundClip=[0],k.styles.backgroundOrigin=[0],k.bounds=function(E){return E.width>E.height?new xe(E.left+(E.width-E.height)/2,E.top,E.height,E.height):E.width<E.height?new xe(E.left,E.top+(E.height-E.width)/2,E.width,E.width):E}(k.bounds)),k.type){case lA:k.styles.borderTopRightRadius=k.styles.borderTopLeftRadius=k.styles.borderBottomRightRadius=k.styles.borderBottomLeftRadius=qd;break;case yu:k.styles.borderTopRightRadius=k.styles.borderTopLeftRadius=k.styles.borderBottomRightRadius=k.styles.borderBottomLeftRadius=so}return k}return U(b,E),b}(hu),Vh=function(E){function b(S,B){var k=E.call(this,S,B)||this,G=B.options[B.selectedIndex||0];return k.value=G&&G.text||"",k}return U(b,E),b}(hu),oy=function(E){function b(S,B){var k=E.call(this,S,B)||this;return k.value=B.value,k}return U(b,E),b}(hu),Yd=function(E){function b(S,B){var k=E.call(this,S,B)||this;k.src=B.src,k.width=parseInt(B.width,10)||0,k.height=parseInt(B.height,10)||0,k.backgroundColor=k.styles.backgroundColor;try{if(B.contentWindow&&B.contentWindow.document&&B.contentWindow.document.documentElement){k.tree=yp(S,B.contentWindow.document.documentElement);var G=B.contentWindow.document.documentElement?iu(S,getComputedStyle(B.contentWindow.document.documentElement).backgroundColor):zs.TRANSPARENT,ee=B.contentWindow.document.body?iu(S,getComputedStyle(B.contentWindow.document.body).backgroundColor):zs.TRANSPARENT;k.backgroundColor=il(G)?il(ee)?k.styles.backgroundColor:ee:G}}catch(Ie){}return k}return U(b,E),b}(hu),Mg=["OL","UL","MENU"],vu=function(E,b,S,B){for(var k=b.firstChild,G=void 0;k;k=G)if(G=k.nextSibling,_u(k)&&k.data.trim().length>0)S.textNodes.push(new sy(E,k,S.styles));else if(Dc(k))if(ef(k)&&k.assignedNodes)k.assignedNodes().forEach(function(Ie){return vu(E,Ie,S,B)});else{var ee=rh(E,k);ee.styles.isVisible()&&(Ng(k,ee,B)?ee.flags|=4:Zd(ee.styles)&&(ee.flags|=2),-1!==Mg.indexOf(k.tagName)&&(ee.flags|=8),S.elements.push(ee),k.shadowRoot?vu(E,k.shadowRoot,ee,B):!uA(k)&&!Tc(k)&&!Jd(k)&&vu(E,k,ee,B))}},rh=function(E,b){return Mc(b)?new eh(E,b):Fc(b)?new cl(E,b):Tc(b)?new mu(E,b):Av(b)?new th(E,b):ay(b)?new aA(E,b):ly(b)?new Hn(E,b):Jd(b)?new Vh(E,b):uA(b)?new oy(E,b):wp(b)?new Yd(E,b):new hu(E,b)},yp=function(E,b){var S=rh(E,b);return S.flags|=4,vu(E,b,S,S),S},Ng=function(E,b,S){return b.styles.isPositionedWithZIndex()||b.styles.opacity<1||b.styles.isTransformed()||cA(E)&&S.styles.isTransparent()},Zd=function(E){return E.isPositioned()||E.isFloating()},_u=function(E){return E.nodeType===Node.TEXT_NODE},Dc=function(E){return E.nodeType===Node.ELEMENT_NODE},Xd=function(E){return Dc(E)&&void 0!==E.style&&!jh(E)},jh=function(E){return"object"==typeof E.className},Av=function(E){return"LI"===E.tagName},ay=function(E){return"OL"===E.tagName},ly=function(E){return"INPUT"===E.tagName},Tc=function(E){return"svg"===E.tagName},cA=function(E){return"BODY"===E.tagName},Fc=function(E){return"CANVAS"===E.tagName},_p=function(E){return"VIDEO"===E.tagName},Mc=function(E){return"IMG"===E.tagName},wp=function(E){return"IFRAME"===E.tagName},ba=function(E){return"STYLE"===E.tagName},uA=function(E){return"TEXTAREA"===E.tagName},Jd=function(E){return"SELECT"===E.tagName},ef=function(E){return"SLOT"===E.tagName},Kh=function(E){return E.tagName.indexOf("-")>0},bp=function(){function E(){this.counters={}}return E.prototype.getCounterValue=function(b){var S=this.counters[b];return S&&S.length?S[S.length-1]:1},E.prototype.getCounterValues=function(b){return this.counters[b]||[]},E.prototype.pop=function(b){var S=this;b.forEach(function(B){return S.counters[B].pop()})},E.prototype.parse=function(b){var S=this,B=b.counterIncrement,k=b.counterReset,G=!0;null!==B&&B.forEach(function(Ie){var Be=S.counters[Ie.counter];Be&&0!==Ie.increment&&(G=!1,Be.length||Be.push(1),Be[Math.max(0,Be.length-1)]+=Ie.increment)});var ee=[];return G&&k.forEach(function(Ie){var Be=S.counters[Ie.counter];ee.push(Ie.counter),Be||(Be=S.counters[Ie.counter]=[]),Be.push(Ie.reset)}),ee},E}(),ul={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Pg={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Po={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},bu={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Gh=function(E,b,S,B,k,G){return E<b||E>S?hA(E,k,G.length>0):B.integers.reduce(function(ee,Ie,Be){for(;E>=Ie;)E-=Ie,ee+=B.values[Be];return ee},"")+G},Cu=function(E,b,S,B){var k="";do{S||E--,k=B(E)+k,E/=b}while(E*b>=b);return k},mi=function(E,b,S,B,k){var G=S-b+1;return(E<0?"-":"")+(Cu(Math.abs(E),G,B,function(ee){return ae(Math.floor(ee%G)+b)})+k)},AA=function(E,b,S){void 0===S&&(S=". ");var B=b.length;return Cu(Math.abs(E),B,!1,function(k){return b[Math.floor(k%B)]})+S},aa=function(E,b,S,B,k,G){if(E<-9999||E>9999)return hA(E,4,k.length>0);var ee=Math.abs(E),Ie=k;if(0===ee)return b[0]+Ie;for(var Be=0;ee>0&&Be<=4;Be++){var Je=ee%10;0===Je&&ss(G,1)&&""!==Ie?Ie=b[Je]+Ie:Je>1||1===Je&&0===Be||1===Je&&1===Be&&ss(G,2)||1===Je&&1===Be&&ss(G,4)&&E>100||1===Je&&Be>1&&ss(G,8)?Ie=b[Je]+(Be>0?S[Be-1]:"")+Ie:1===Je&&Be>0&&(Ie=S[Be-1]+Ie),ee=Math.floor(ee/10)}return(E<0?B:"")+Ie},Rg="\ub9c8\uc774\ub108\uc2a4",hA=function(E,b,S){var B=S?". ":"",k=S?"\u3001":"",G=S?", ":"",ee=S?" ":"";switch(b){case 0:return"\u2022"+ee;case 1:return"\u25e6"+ee;case 2:return"\u25fe"+ee;case 5:var Ie=mi(E,48,57,!0,B);return Ie.length<4?"0"+Ie:Ie;case 4:return AA(E,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",k);case 6:return Gh(E,1,3999,ul,3,B).toLowerCase();case 7:return Gh(E,1,3999,ul,3,B);case 8:return mi(E,945,969,!1,B);case 9:return mi(E,97,122,!1,B);case 10:return mi(E,65,90,!1,B);case 11:return mi(E,1632,1641,!0,B);case 12:case 49:return Gh(E,1,9999,Pg,3,B);case 35:return Gh(E,1,9999,Pg,3,B).toLowerCase();case 13:return mi(E,2534,2543,!0,B);case 14:case 30:return mi(E,6112,6121,!0,B);case 15:return AA(E,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",k);case 16:return AA(E,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",k);case 17:case 48:return aa(E,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",k,14);case 47:return aa(E,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",k,15);case 42:return aa(E,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",k,14);case 41:return aa(E,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",k,15);case 26:return aa(E,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",k,0);case 25:return aa(E,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",k,7);case 31:return aa(E,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Rg,G,7);case 33:return aa(E,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Rg,G,0);case 32:return aa(E,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Rg,G,7);case 18:return mi(E,2406,2415,!0,B);case 20:return Gh(E,1,19999,bu,3,B);case 21:return mi(E,2790,2799,!0,B);case 22:return mi(E,2662,2671,!0,B);case 22:return Gh(E,1,10999,Po,3,B);case 23:return AA(E,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return AA(E,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return mi(E,3302,3311,!0,B);case 28:return AA(E,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",k);case 29:return AA(E,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",k);case 34:return mi(E,3792,3801,!0,B);case 37:return mi(E,6160,6169,!0,B);case 38:return mi(E,4160,4169,!0,B);case 39:return mi(E,2918,2927,!0,B);case 40:return mi(E,1776,1785,!0,B);case 43:return mi(E,3046,3055,!0,B);case 44:return mi(E,3174,3183,!0,B);case 45:return mi(E,3664,3673,!0,B);case 46:return mi(E,3872,3881,!0,B);default:return mi(E,48,57,!0,B)}},hv="data-html2canvas-ignore",cy=function(){function E(b,S,B){if(this.context=b,this.options=B,this.scrolledElements=[],this.referenceElement=S,this.counters=new bp,this.quoteDepth=0,!S.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(S.ownerDocument.documentElement,!1)}return E.prototype.toIFrame=function(b,S){var B=this,k=uy(b,S);if(!k.contentWindow)return Promise.reject("Unable to find iframe window");var G=b.defaultView.pageXOffset,ee=b.defaultView.pageYOffset,Ie=k.contentWindow,Be=Ie.document,Je=_(k).then(function(){return Ee(B,void 0,void 0,function(){var at,gt;return ce(this,function(Ut){switch(Ut.label){case 0:return this.scrolledElements.forEach(Ot),Ie&&(Ie.scrollTo(S.left,S.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ie.scrollY!==S.top||Ie.scrollX!==S.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ie.scrollX-S.left,Ie.scrollY-S.top,0,0))),at=this.options.onclone,void 0===(gt=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Be.fonts&&Be.fonts.ready?[4,Be.fonts.ready]:[3,2];case 1:Ut.sent(),Ut.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,m(Be)]:[3,4];case 3:Ut.sent(),Ut.label=4;case 4:return"function"==typeof at?[2,Promise.resolve().then(function(){return at(Be,gt)}).then(function(){return k})]:[2,k]}})})});return Be.open(),Be.write(le(document.doctype)+"<html></html>"),Ue(this.referenceElement.ownerDocument,G,ee),Be.replaceChild(Be.adoptNode(this.documentElement),Be.documentElement),Be.close(),Je},E.prototype.createElementClone=function(b){if(kd(b,2),Fc(b))return this.createCanvasClone(b);if(_p(b))return this.createVideoClone(b);if(ba(b))return this.createStyleClone(b);var S=b.cloneNode(!1);return Mc(S)&&(Mc(b)&&b.currentSrc&&b.currentSrc!==b.src&&(S.src=b.currentSrc,S.srcset=""),"lazy"===S.loading&&(S.loading="eager")),Kh(S)?this.createCustomElementClone(S):S},E.prototype.createCustomElementClone=function(b){var S=document.createElement("html2canvascustomelement");return W(b.style,S),S},E.prototype.createStyleClone=function(b){try{var S=b.sheet;if(S&&S.cssRules){var B=[].slice.call(S.cssRules,0).reduce(function(G,ee){return ee&&"string"==typeof ee.cssText?G+ee.cssText:G},""),k=b.cloneNode(!1);return k.textContent=B,k}}catch(G){if(this.context.logger.error("Unable to access cssRules property",G),"SecurityError"!==G.name)throw G}return b.cloneNode(!1)},E.prototype.createCanvasClone=function(b){var S;if(this.options.inlineImages&&b.ownerDocument){var B=b.ownerDocument.createElement("img");try{return B.src=b.toDataURL(),B}catch(Je){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",b)}}var k=b.cloneNode(!1);try{k.width=b.width,k.height=b.height;var G=b.getContext("2d"),ee=k.getContext("2d");if(ee)if(!this.options.allowTaint&&G)ee.putImageData(G.getImageData(0,0,b.width,b.height),0,0);else{var Ie=null!==(S=b.getContext("webgl2"))&&void 0!==S?S:b.getContext("webgl");if(Ie){var Be=Ie.getContextAttributes();!1===(null==Be?void 0:Be.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",b)}ee.drawImage(b,0,0)}return k}catch(Je){this.context.logger.info("Unable to clone canvas as it is tainted",b)}return k},E.prototype.createVideoClone=function(b){var S=b.ownerDocument.createElement("canvas");S.width=b.offsetWidth,S.height=b.offsetHeight;var B=S.getContext("2d");try{return B&&(B.drawImage(b,0,0,S.width,S.height),this.options.allowTaint||B.getImageData(0,0,S.width,S.height)),S}catch(G){this.context.logger.info("Unable to clone video as it is tainted",b)}var k=b.ownerDocument.createElement("canvas");return k.width=b.offsetWidth,k.height=b.offsetHeight,k},E.prototype.appendChildNode=function(b,S,B){(!Dc(S)||!function(E){return"SCRIPT"===E.tagName}(S)&&!S.hasAttribute(hv)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(S)))&&(!this.options.copyStyles||!Dc(S)||!ba(S))&&b.appendChild(this.cloneNode(S,B))},E.prototype.cloneChildNodes=function(b,S,B){for(var k=this,G=b.shadowRoot?b.shadowRoot.firstChild:b.firstChild;G;G=G.nextSibling)if(Dc(G)&&ef(G)&&"function"==typeof G.assignedNodes){var ee=G.assignedNodes();ee.length&&ee.forEach(function(Ie){return k.appendChildNode(S,Ie,B)})}else this.appendChildNode(S,G,B)},E.prototype.cloneNode=function(b,S){if(_u(b))return document.createTextNode(b.data);if(!b.ownerDocument)return b.cloneNode(!1);var B=b.ownerDocument.defaultView;if(B&&Dc(b)&&(Xd(b)||jh(b))){var k=this.createElementClone(b);k.style.transitionProperty="none";var G=B.getComputedStyle(b),ee=B.getComputedStyle(b,":before"),Ie=B.getComputedStyle(b,":after");this.referenceElement===b&&Xd(k)&&(this.clonedReferenceElement=k),cA(k)&&ao(k);var Be=this.counters.parse(new Jm(this.context,G)),Je=this.resolvePseudoContent(b,k,ee,Iu.BEFORE);Kh(b)&&(S=!0),_p(b)||this.cloneChildNodes(b,k,S),Je&&k.insertBefore(Je,k.firstChild);var at=this.resolvePseudoContent(b,k,Ie,Iu.AFTER);return at&&k.appendChild(at),this.counters.pop(Be),(G&&(this.options.copyStyles||jh(b))&&!wp(b)||S)&&W(G,k),(0!==b.scrollTop||0!==b.scrollLeft)&&this.scrolledElements.push([k,b.scrollLeft,b.scrollTop]),(uA(b)||Jd(b))&&(uA(k)||Jd(k))&&(k.value=b.value),k}return b.cloneNode(!1)},E.prototype.resolvePseudoContent=function(b,S,B,k){var G=this;if(B){var ee=B.content,Ie=S.ownerDocument;if(Ie&&ee&&"none"!==ee&&"-moz-alt-content"!==ee&&"none"!==B.display){this.counters.parse(new Jm(this.context,B));var Be=new qA(this.context,B),Je=Ie.createElement("html2canvaspseudoelement");W(B,Je),Be.content.forEach(function(gt){if(0===gt.type)Je.appendChild(Ie.createTextNode(gt.value));else if(22===gt.type){var Ut=Ie.createElement("img");Ut.src=gt.value,Ut.style.opacity="1",Je.appendChild(Ut)}else if(18===gt.type){if("attr"===gt.name){var Nn=gt.values.filter(Lt);Nn.length&&Je.appendChild(Ie.createTextNode(b.getAttribute(Nn[0].value)||""))}else if("counter"===gt.name){var An=gt.values.filter(El),Wr=An[1];if((In=An[0])&&Lt(In)){var tr=G.counters.getCounterValue(In.value),Xn=Wr&&Lt(Wr)?tA.parse(G.context,Wr.value):3;Je.appendChild(Ie.createTextNode(hA(tr,Xn,!1)))}}else if("counters"===gt.name){var In,Mi=gt.values.filter(El),Jr=Mi[1];if(Wr=Mi[2],(In=Mi[0])&&Lt(In)){var xr=G.counters.getCounterValues(In.value),Rn=Wr&&Lt(Wr)?tA.parse(G.context,Wr.value):3,kn=Jr&&0===Jr.type?Jr.value:"",Di=xr.map(function(Va){return hA(Va,Rn,!1)}).join(kn);Je.appendChild(Ie.createTextNode(Di))}}}else if(20===gt.type)switch(gt.value){case"open-quote":Je.appendChild(Ie.createTextNode(lp(Be.quotes,G.quoteDepth++,!0)));break;case"close-quote":Je.appendChild(Ie.createTextNode(lp(Be.quotes,--G.quoteDepth,!1)));break;default:Je.appendChild(Ie.createTextNode(gt.value))}}),Je.className=en+" "+sr;var at=k===Iu.BEFORE?" "+en:" "+sr;return jh(S)?S.className.baseValue+=at:S.className+=at,Je}}},E.destroy=function(b){return!!b.parentNode&&(b.parentNode.removeChild(b),!0)},E}(),Iu=(()=>{return(E=Iu||(Iu={}))[E.BEFORE=0]="BEFORE",E[E.AFTER=1]="AFTER",Iu;var E})(),uy=function(E,b){var S=E.createElement("iframe");return S.className="html2canvas-container",S.style.visibility="hidden",S.style.position="fixed",S.style.left="-10000px",S.style.top="0px",S.style.border="0",S.width=b.width.toString(),S.height=b.height.toString(),S.scrolling="no",S.setAttribute(hv,"true"),E.body.appendChild(S),S},D=function(E){return new Promise(function(b){E.complete?b():E.src?(E.onload=b,E.onerror=b):b()})},m=function(E){return Promise.all([].slice.call(E.images,0).map(D))},_=function(E){return new Promise(function(b,S){var B=E.contentWindow;if(!B)return S("No window assigned for iframe");var k=B.document;B.onload=E.onload=function(){B.onload=E.onload=null;var G=setInterval(function(){k.body.childNodes.length>0&&"complete"===k.readyState&&(clearInterval(G),b(E))},50)}})},M=["all","d","content"],W=function(E,b){for(var S=E.length-1;S>=0;S--){var B=E.item(S);-1===M.indexOf(B)&&b.style.setProperty(B,E.getPropertyValue(B))}return b},le=function(E){var b="";return E&&(b+="<!DOCTYPE ",E.name&&(b+=E.name),E.internalSubset&&(b+=E.internalSubset),E.publicId&&(b+='"'+E.publicId+'"'),E.systemId&&(b+='"'+E.systemId+'"'),b+=">"),b},Ue=function(E,b,S){E&&E.defaultView&&(b!==E.defaultView.pageXOffset||S!==E.defaultView.pageYOffset)&&E.defaultView.scrollTo(b,S)},Ot=function(E){var b=E[0],B=E[2];b.scrollLeft=E[1],b.scrollTop=B},en="___html2canvas___pseudoelement_before",sr="___html2canvas___pseudoelement_after",oo='{\n    content: "" !important;\n    display: none !important;\n}',ao=function(E){Ep(E,"."+en+":before"+oo+"\n         ."+sr+":after"+oo)},Ep=function(E,b){var S=E.ownerDocument;if(S){var B=S.createElement("style");B.textContent=b,E.appendChild(B)}},kg=function(){function E(){}return E.getOrigin=function(b){var S=E._link;return S?(S.href=b,S.href=S.href,S.protocol+S.hostname+S.port):"about:blank"},E.isSameOrigin=function(b){return E.getOrigin(b)===E._origin},E.setContext=function(b){E._link=b.document.createElement("a"),E._origin=E.getOrigin(b.location.href)},E._origin="about:blank",E}(),Ug=function(){function E(b,S){this.context=b,this._options=S,this._cache={}}return E.prototype.addImage=function(b){var S=Promise.resolve();return this.has(b)||(Es(b)||Bu(b))&&(this._cache[b]=this.loadImage(b)).catch(function(){}),S},E.prototype.match=function(b){return this._cache[b]},E.prototype.loadImage=function(b){return Ee(this,void 0,void 0,function(){var S,B,k,G,ee=this;return ce(this,function(Ie){switch(Ie.label){case 0:return S=kg.isSameOrigin(b),B=!tf(b)&&!0===this._options.useCORS&&Gr.SUPPORT_CORS_IMAGES&&!S,k=!tf(b)&&!S&&!Es(b)&&"string"==typeof this._options.proxy&&Gr.SUPPORT_CORS_XHR&&!B,S||!1!==this._options.allowTaint||tf(b)||Es(b)||k||B?(G=b,k?[4,this.proxy(G)]:[3,2]):[2];case 1:G=Ie.sent(),Ie.label=2;case 2:return this.context.logger.debug("Added image "+b.substring(0,256)),[4,new Promise(function(Be,Je){var at=new Image;at.onload=function(){return Be(at)},at.onerror=Je,(Qg(G)||B)&&(at.crossOrigin="anonymous"),at.src=G,!0===at.complete&&setTimeout(function(){return Be(at)},500),ee._options.imageTimeout>0&&setTimeout(function(){return Je("Timed out ("+ee._options.imageTimeout+"ms) loading image")},ee._options.imageTimeout)})];case 3:return[2,Ie.sent()]}})})},E.prototype.has=function(b){return void 0!==this._cache[b]},E.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},E.prototype.proxy=function(b){var S=this,B=this._options.proxy;if(!B)throw new Error("No proxy defined");var k=b.substring(0,256);return new Promise(function(G,ee){var Ie=Gr.SUPPORT_RESPONSE_TYPE?"blob":"text",Be=new XMLHttpRequest;Be.onload=function(){if(200===Be.status)if("text"===Ie)G(Be.response);else{var gt=new FileReader;gt.addEventListener("load",function(){return G(gt.result)},!1),gt.addEventListener("error",function(Ut){return ee(Ut)},!1),gt.readAsDataURL(Be.response)}else ee("Failed to proxy resource "+k+" with status code "+Be.status)},Be.onerror=ee;var Je=B.indexOf("?")>-1?"&":"?";if(Be.open("GET",""+B+Je+"url="+encodeURIComponent(b)+"&responseType="+Ie),"text"!==Ie&&Be instanceof XMLHttpRequest&&(Be.responseType=Ie),S._options.imageTimeout){var at=S._options.imageTimeout;Be.timeout=at,Be.ontimeout=function(){return ee("Timed out ("+at+"ms) proxying "+k)}}Be.send()})},E}(),Ay=/^data:image\/svg\+xml/i,Ip=/^data:image\/.*;base64,/i,sh=/^data:image\/.*/i,Bu=function(E){return Gr.SUPPORT_SVG_DRAWING||!hy(E)},tf=function(E){return sh.test(E)},Qg=function(E){return Ip.test(E)},Es=function(E){return"blob"===E.substr(0,4)},hy=function(E){return"svg"===E.substr(-3).toLowerCase()||Ay.test(E)},En=function(){function E(b,S){this.type=0,this.x=b,this.y=S}return E.prototype.add=function(b,S){return new E(this.x+b,this.y+S)},E}(),Su=function(E,b,S){return new En(E.x+(b.x-E.x)*S,E.y+(b.y-E.y)*S)},Hg=function(){function E(b,S,B,k){this.type=1,this.start=b,this.startControl=S,this.endControl=B,this.end=k}return E.prototype.subdivide=function(b,S){var B=Su(this.start,this.startControl,b),k=Su(this.startControl,this.endControl,b),G=Su(this.endControl,this.end,b),ee=Su(B,k,b),Ie=Su(k,G,b),Be=Su(ee,Ie,b);return S?new E(this.start,B,ee,Be):new E(Be,Ie,G,this.end)},E.prototype.add=function(b,S){return new E(this.start.add(b,S),this.startControl.add(b,S),this.endControl.add(b,S),this.end.add(b,S))},E.prototype.reverse=function(){return new E(this.end,this.endControl,this.startControl,this.start)},E}(),Ha=function(E){return 1===E.type},Oo=function E(b){var S=b.styles,B=b.bounds,k=Gs(S.borderTopLeftRadius,B.width,B.height),G=k[0],ee=k[1],Ie=Gs(S.borderTopRightRadius,B.width,B.height),Be=Ie[0],Je=Ie[1],at=Gs(S.borderBottomRightRadius,B.width,B.height),gt=at[0],Ut=at[1],Nn=Gs(S.borderBottomLeftRadius,B.width,B.height),An=Nn[0],In=Nn[1],Wr=[];Wr.push((G+Be)/B.width),Wr.push((An+gt)/B.width),Wr.push((ee+In)/B.height),Wr.push((Je+Ut)/B.height);var tr=Math.max.apply(Math,Wr);tr>1&&(G/=tr,ee/=tr,Be/=tr,Je/=tr,gt/=tr,Ut/=tr,An/=tr,In/=tr);var Xn=B.width-Be,Mi=B.height-Ut,Jr=B.width-gt,xr=B.height-In,Rn=S.borderTopWidth,kn=S.borderRightWidth,Di=S.borderBottomWidth,_r=S.borderLeftWidth,lo=Xr(S.paddingTop,b.bounds.width),Va=Xr(S.paddingRight,b.bounds.width),Al=Xr(S.paddingBottom,b.bounds.width),os=Xr(S.paddingLeft,b.bounds.width);this.topLeftBorderDoubleOuterBox=G>0||ee>0?ys(B.left+_r/3,B.top+Rn/3,G-_r/3,ee-Rn/3,xi.TOP_LEFT):new En(B.left+_r/3,B.top+Rn/3),this.topRightBorderDoubleOuterBox=G>0||ee>0?ys(B.left+Xn,B.top+Rn/3,Be-kn/3,Je-Rn/3,xi.TOP_RIGHT):new En(B.left+B.width-kn/3,B.top+Rn/3),this.bottomRightBorderDoubleOuterBox=gt>0||Ut>0?ys(B.left+Jr,B.top+Mi,gt-kn/3,Ut-Di/3,xi.BOTTOM_RIGHT):new En(B.left+B.width-kn/3,B.top+B.height-Di/3),this.bottomLeftBorderDoubleOuterBox=An>0||In>0?ys(B.left+_r/3,B.top+xr,An-_r/3,In-Di/3,xi.BOTTOM_LEFT):new En(B.left+_r/3,B.top+B.height-Di/3),this.topLeftBorderDoubleInnerBox=G>0||ee>0?ys(B.left+2*_r/3,B.top+2*Rn/3,G-2*_r/3,ee-2*Rn/3,xi.TOP_LEFT):new En(B.left+2*_r/3,B.top+2*Rn/3),this.topRightBorderDoubleInnerBox=G>0||ee>0?ys(B.left+Xn,B.top+2*Rn/3,Be-2*kn/3,Je-2*Rn/3,xi.TOP_RIGHT):new En(B.left+B.width-2*kn/3,B.top+2*Rn/3),this.bottomRightBorderDoubleInnerBox=gt>0||Ut>0?ys(B.left+Jr,B.top+Mi,gt-2*kn/3,Ut-2*Di/3,xi.BOTTOM_RIGHT):new En(B.left+B.width-2*kn/3,B.top+B.height-2*Di/3),this.bottomLeftBorderDoubleInnerBox=An>0||In>0?ys(B.left+2*_r/3,B.top+xr,An-2*_r/3,In-2*Di/3,xi.BOTTOM_LEFT):new En(B.left+2*_r/3,B.top+B.height-2*Di/3),this.topLeftBorderStroke=G>0||ee>0?ys(B.left+_r/2,B.top+Rn/2,G-_r/2,ee-Rn/2,xi.TOP_LEFT):new En(B.left+_r/2,B.top+Rn/2),this.topRightBorderStroke=G>0||ee>0?ys(B.left+Xn,B.top+Rn/2,Be-kn/2,Je-Rn/2,xi.TOP_RIGHT):new En(B.left+B.width-kn/2,B.top+Rn/2),this.bottomRightBorderStroke=gt>0||Ut>0?ys(B.left+Jr,B.top+Mi,gt-kn/2,Ut-Di/2,xi.BOTTOM_RIGHT):new En(B.left+B.width-kn/2,B.top+B.height-Di/2),this.bottomLeftBorderStroke=An>0||In>0?ys(B.left+_r/2,B.top+xr,An-_r/2,In-Di/2,xi.BOTTOM_LEFT):new En(B.left+_r/2,B.top+B.height-Di/2),this.topLeftBorderBox=G>0||ee>0?ys(B.left,B.top,G,ee,xi.TOP_LEFT):new En(B.left,B.top),this.topRightBorderBox=Be>0||Je>0?ys(B.left+Xn,B.top,Be,Je,xi.TOP_RIGHT):new En(B.left+B.width,B.top),this.bottomRightBorderBox=gt>0||Ut>0?ys(B.left+Jr,B.top+Mi,gt,Ut,xi.BOTTOM_RIGHT):new En(B.left+B.width,B.top+B.height),this.bottomLeftBorderBox=An>0||In>0?ys(B.left,B.top+xr,An,In,xi.BOTTOM_LEFT):new En(B.left,B.top+B.height),this.topLeftPaddingBox=G>0||ee>0?ys(B.left+_r,B.top+Rn,Math.max(0,G-_r),Math.max(0,ee-Rn),xi.TOP_LEFT):new En(B.left+_r,B.top+Rn),this.topRightPaddingBox=Be>0||Je>0?ys(B.left+Math.min(Xn,B.width-kn),B.top+Rn,Xn>B.width+kn?0:Math.max(0,Be-kn),Math.max(0,Je-Rn),xi.TOP_RIGHT):new En(B.left+B.width-kn,B.top+Rn),this.bottomRightPaddingBox=gt>0||Ut>0?ys(B.left+Math.min(Jr,B.width-_r),B.top+Math.min(Mi,B.height-Di),Math.max(0,gt-kn),Math.max(0,Ut-Di),xi.BOTTOM_RIGHT):new En(B.left+B.width-kn,B.top+B.height-Di),this.bottomLeftPaddingBox=An>0||In>0?ys(B.left+_r,B.top+Math.min(xr,B.height-Di),Math.max(0,An-_r),Math.max(0,In-Di),xi.BOTTOM_LEFT):new En(B.left+_r,B.top+B.height-Di),this.topLeftContentBox=G>0||ee>0?ys(B.left+_r+os,B.top+Rn+lo,Math.max(0,G-(_r+os)),Math.max(0,ee-(Rn+lo)),xi.TOP_LEFT):new En(B.left+_r+os,B.top+Rn+lo),this.topRightContentBox=Be>0||Je>0?ys(B.left+Math.min(Xn,B.width+_r+os),B.top+Rn+lo,Xn>B.width+_r+os?0:Be-_r+os,Je-(Rn+lo),xi.TOP_RIGHT):new En(B.left+B.width-(kn+Va),B.top+Rn+lo),this.bottomRightContentBox=gt>0||Ut>0?ys(B.left+Math.min(Jr,B.width-(_r+os)),B.top+Math.min(Mi,B.height+Rn+lo),Math.max(0,gt-(kn+Va)),Ut-(Di+Al),xi.BOTTOM_RIGHT):new En(B.left+B.width-(kn+Va),B.top+B.height-(Di+Al)),this.bottomLeftContentBox=An>0||In>0?ys(B.left+_r+os,B.top+xr,Math.max(0,An-(_r+os)),In-(Di+Al),xi.BOTTOM_LEFT):new En(B.left+_r+os,B.top+B.height-(Di+Al))},xi=(()=>{return(E=xi||(xi={}))[E.TOP_LEFT=0]="TOP_LEFT",E[E.TOP_RIGHT=1]="TOP_RIGHT",E[E.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",E[E.BOTTOM_LEFT=3]="BOTTOM_LEFT",xi;var E})(),ys=function(E,b,S,B,k){var G=(Math.sqrt(2)-1)/3*4,ee=S*G,Ie=B*G,Be=E+S,Je=b+B;switch(k){case xi.TOP_LEFT:return new Hg(new En(E,Je),new En(E,Je-Ie),new En(Be-ee,b),new En(Be,b));case xi.TOP_RIGHT:return new Hg(new En(E,b),new En(E+ee,b),new En(Be,Je-Ie),new En(Be,Je));case xi.BOTTOM_RIGHT:return new Hg(new En(Be,b),new En(Be,b+Ie),new En(E+ee,Je),new En(E,Je));default:return new Hg(new En(Be,Je),new En(Be-ee,Je),new En(E,b+Ie),new En(E,b))}},nf=function(E){return[E.topLeftBorderBox,E.topRightBorderBox,E.bottomRightBorderBox,E.bottomLeftBorderBox]},Vg=function(E){return[E.topLeftPaddingBox,E.topRightPaddingBox,E.bottomRightPaddingBox,E.bottomLeftPaddingBox]},Bp=function E(b,S,B){this.offsetX=b,this.offsetY=S,this.matrix=B,this.type=0,this.target=6},rf=function E(b,S){this.path=b,this.target=S,this.type=1},Fw=function E(b){this.opacity=b,this.type=2,this.target=6},dv=function(E){return 1===E.type},rE=function(E,b){return E.length===b.length&&E.some(function(S,B){return S===b[B]})},iE=function E(b){this.element=b,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},sE=function(){function E(b,S){if(this.container=b,this.parent=S,this.effects=[],this.curves=new Oo(this.container),this.container.styles.opacity<1&&this.effects.push(new Fw(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Bp(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var ee=nf(this.curves),Ie=Vg(this.curves);rE(ee,Ie)?this.effects.push(new rf(ee,6)):(this.effects.push(new rf(ee,2)),this.effects.push(new rf(Ie,4)))}}return E.prototype.getEffects=function(b){for(var S=-1===[2,3].indexOf(this.container.styles.position),B=this.parent,k=this.effects.slice(0);B;){var G=B.effects.filter(function(Be){return!dv(Be)});if(S||0!==B.container.styles.position||!B.parent){if(k.unshift.apply(k,G),S=-1===[2,3].indexOf(B.container.styles.position),0!==B.container.styles.overflowX){var ee=nf(B.curves),Ie=Vg(B.curves);rE(ee,Ie)||k.unshift(new rf(Ie,6))}}else k.unshift.apply(k,G);B=B.parent}return k.filter(function(Be){return ss(Be.target,b)})},E}(),Mw=function(E,b,S,B){E.container.elements.forEach(function(k){var G=ss(k.flags,4),ee=ss(k.flags,2),Ie=new sE(k,E);ss(k.styles.display,2048)&&B.push(Ie);var Be=ss(k.flags,8)?[]:B;if(G||ee){var Je=G||k.styles.isPositioned()?S:b,at=new iE(Ie);if(k.styles.isPositioned()||k.styles.opacity<1||k.styles.isTransformed()){var gt=k.styles.zIndex.order;if(gt<0){var Ut=0;Je.negativeZIndex.some(function(An,In){return gt>An.element.container.styles.zIndex.order?(Ut=In,!1):Ut>0}),Je.negativeZIndex.splice(Ut,0,at)}else if(gt>0){var Nn=0;Je.positiveZIndex.some(function(An,In){return gt>=An.element.container.styles.zIndex.order?(Nn=In+1,!1):Nn>0}),Je.positiveZIndex.splice(Nn,0,at)}else Je.zeroOrAutoZIndexOrTransformedOrOpacity.push(at)}else k.styles.isFloating()?Je.nonPositionedFloats.push(at):Je.nonPositionedInlineLevel.push(at);Mw(Ie,at,G?at:S,Be)}else k.styles.isInlineLevel()?b.inlineLevel.push(Ie):b.nonInlineLevel.push(Ie),Mw(Ie,b,S,Be);ss(k.flags,8)&&oE(k,Be)})},oE=function(E,b){for(var S=E instanceof aA?E.start:1,B=E instanceof aA&&E.reversed,k=0;k<b.length;k++){var G=b[k];G.container instanceof th&&"number"==typeof G.container.value&&0!==G.container.value&&(S=G.container.value),G.listValue=hA(S,G.container.styles.listStyleType,!0),S+=B?-1:1}},Nw=function(E,b){switch(b){case 0:return Ca(E.topLeftBorderBox,E.topLeftPaddingBox,E.topRightBorderBox,E.topRightPaddingBox);case 1:return Ca(E.topRightBorderBox,E.topRightPaddingBox,E.bottomRightBorderBox,E.bottomRightPaddingBox);case 2:return Ca(E.bottomRightBorderBox,E.bottomRightPaddingBox,E.bottomLeftBorderBox,E.bottomLeftPaddingBox);default:return Ca(E.bottomLeftBorderBox,E.bottomLeftPaddingBox,E.topLeftBorderBox,E.topLeftPaddingBox)}},jg=function(E,b){var S=[];return Ha(E)?S.push(E.subdivide(.5,!1)):S.push(E),Ha(b)?S.push(b.subdivide(.5,!0)):S.push(b),S},Ca=function(E,b,S,B){var k=[];return Ha(E)?k.push(E.subdivide(.5,!1)):k.push(E),Ha(S)?k.push(S.subdivide(.5,!0)):k.push(S),Ha(B)?k.push(B.subdivide(.5,!0).reverse()):k.push(B),Ha(b)?k.push(b.subdivide(.5,!1).reverse()):k.push(b),k},oc=function(E){var S=E.styles;return E.bounds.add(S.borderLeftWidth,S.borderTopWidth,-(S.borderRightWidth+S.borderLeftWidth),-(S.borderTopWidth+S.borderBottomWidth))},mv=function(E){var b=E.styles,S=E.bounds,B=Xr(b.paddingLeft,S.width),k=Xr(b.paddingRight,S.width),G=Xr(b.paddingTop,S.width),ee=Xr(b.paddingBottom,S.width);return S.add(B+b.borderLeftWidth,G+b.borderTopWidth,-(b.borderRightWidth+b.borderLeftWidth+B+k),-(b.borderTopWidth+b.borderBottomWidth+G+ee))},Ow=function(E,b,S){var B=function(E,b){return 0===E?b.bounds:2===E?mv(b):oc(b)}(Ea(E.styles.backgroundOrigin,b),E),k=function(E,b){return 0===E?b.bounds:2===E?mv(b):oc(b)}(Ea(E.styles.backgroundClip,b),E),G=cE(Ea(E.styles.backgroundSize,b),S,B),ee=G[0],Ie=G[1],Be=Gs(Ea(E.styles.backgroundPosition,b),B.width-ee,B.height-Ie);return[Rw(Ea(E.styles.backgroundRepeat,b),Be,G,B,k),Math.round(B.left+Be[0]),Math.round(B.top+Be[1]),ee,Ie]},sf=function(E){return Lt(E)&&E.value===ra.AUTO},Lw=function(E){return"number"==typeof E},cE=function(E,b,S){var B=b[0],k=b[1],G=b[2],ee=E[0],Ie=E[1];if(!ee)return[0,0];if(ds(ee)&&Ie&&ds(Ie))return[Xr(ee,S.width),Xr(Ie,S.height)];var Be=Lw(G);if(Lt(ee)&&(ee.value===ra.CONTAIN||ee.value===ra.COVER))return Lw(G)?S.width/S.height<G!=(ee.value===ra.COVER)?[S.width,S.width/G]:[S.height*G,S.height]:[S.width,S.height];var at=Lw(B),gt=Lw(k),Ut=at||gt;if(sf(ee)&&(!Ie||sf(Ie)))return at&&gt?[B,k]:Be||Ut?Ut&&Be?[at?B:k*G,gt?k:B/G]:[at?B:S.width,gt?k:S.height]:[S.width,S.height];if(Be){var tr=0,Xn=0;return ds(ee)?tr=Xr(ee,S.width):ds(Ie)&&(Xn=Xr(Ie,S.height)),sf(ee)?tr=Xn*G:(!Ie||sf(Ie))&&(Xn=tr/G),[tr,Xn]}var Mi=null,Jr=null;if(ds(ee)?Mi=Xr(ee,S.width):Ie&&ds(Ie)&&(Jr=Xr(Ie,S.height)),null!==Mi&&(!Ie||sf(Ie))&&(Jr=at&&gt?Mi/B*k:S.height),null!==Jr&&sf(ee)&&(Mi=at&&gt?Jr/k*B:S.width),null!==Mi&&null!==Jr)return[Mi,Jr];throw new Error("Unable to calculate background-size for element")},Ea=function(E,b){var S=E[b];return void 0===S?E[0]:S},Rw=function(E,b,S,B,k){var G=b[0],ee=b[1],Ie=S[0],Be=S[1];switch(E){case 2:return[new En(Math.round(B.left),Math.round(B.top+ee)),new En(Math.round(B.left+B.width),Math.round(B.top+ee)),new En(Math.round(B.left+B.width),Math.round(Be+B.top+ee)),new En(Math.round(B.left),Math.round(Be+B.top+ee))];case 3:return[new En(Math.round(B.left+G),Math.round(B.top)),new En(Math.round(B.left+G+Ie),Math.round(B.top)),new En(Math.round(B.left+G+Ie),Math.round(B.height+B.top)),new En(Math.round(B.left+G),Math.round(B.height+B.top))];case 1:return[new En(Math.round(B.left+G),Math.round(B.top+ee)),new En(Math.round(B.left+G+Ie),Math.round(B.top+ee)),new En(Math.round(B.left+G+Ie),Math.round(B.top+ee+Be)),new En(Math.round(B.left+G),Math.round(B.top+ee+Be))];default:return[new En(Math.round(k.left),Math.round(k.top)),new En(Math.round(k.left+k.width),Math.round(k.top)),new En(Math.round(k.left+k.width),Math.round(k.height+k.top)),new En(Math.round(k.left),Math.round(k.height+k.top))]}},$o="Hidden Text",bo=function(){function E(b){this._data={},this._document=b}return E.prototype.parseMetrics=function(b,S){var B=this._document.createElement("div"),k=this._document.createElement("img"),G=this._document.createElement("span"),ee=this._document.body;B.style.visibility="hidden",B.style.fontFamily=b,B.style.fontSize=S,B.style.margin="0",B.style.padding="0",B.style.whiteSpace="nowrap",ee.appendChild(B),k.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",k.width=1,k.height=1,k.style.margin="0",k.style.padding="0",k.style.verticalAlign="baseline",G.style.fontFamily=b,G.style.fontSize=S,G.style.margin="0",G.style.padding="0",G.appendChild(this._document.createTextNode($o)),B.appendChild(G),B.appendChild(k);var Ie=k.offsetTop-G.offsetTop+2;B.removeChild(G),B.appendChild(this._document.createTextNode($o)),B.style.lineHeight="normal",k.style.verticalAlign="super";var Be=k.offsetTop-B.offsetTop+2;return ee.removeChild(B),{baseline:Ie,middle:Be}},E.prototype.getMetrics=function(b,S){var B=b+" "+S;return void 0===this._data[B]&&(this._data[B]=this.parseMetrics(b,S)),this._data[B]},E}(),kw=function E(b,S){this.context=b,this.options=S},AE=function(E){function b(S,B){var k=E.call(this,S,B)||this;return k._activeEffects=[],k.canvas=B.canvas?B.canvas:document.createElement("canvas"),k.ctx=k.canvas.getContext("2d"),B.canvas||(k.canvas.width=Math.floor(B.width*B.scale),k.canvas.height=Math.floor(B.height*B.scale),k.canvas.style.width=B.width+"px",k.canvas.style.height=B.height+"px"),k.fontMetrics=new bo(document),k.ctx.scale(k.options.scale,k.options.scale),k.ctx.translate(-B.x,-B.y),k.ctx.textBaseline="bottom",k._activeEffects=[],k.context.logger.debug("Canvas renderer initialized ("+B.width+"x"+B.height+") with scale "+B.scale),k}return U(b,E),b.prototype.applyEffects=function(S){for(var B=this;this._activeEffects.length;)this.popEffect();S.forEach(function(k){return B.applyEffect(k)})},b.prototype.applyEffect=function(S){this.ctx.save(),function(E){return 2===E.type}(S)&&(this.ctx.globalAlpha=S.opacity),function(E){return 0===E.type}(S)&&(this.ctx.translate(S.offsetX,S.offsetY),this.ctx.transform(S.matrix[0],S.matrix[1],S.matrix[2],S.matrix[3],S.matrix[4],S.matrix[5]),this.ctx.translate(-S.offsetX,-S.offsetY)),dv(S)&&(this.path(S.path),this.ctx.clip()),this._activeEffects.push(S)},b.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},b.prototype.renderStack=function(S){return Ee(this,void 0,void 0,function(){return ce(this,function(k){switch(k.label){case 0:return S.element.container.styles.isVisible()?[4,this.renderStackContent(S)]:[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})})},b.prototype.renderNode=function(S){return Ee(this,void 0,void 0,function(){return ce(this,function(B){switch(B.label){case 0:return ss(S.container.flags,16),S.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(S)]:[3,3];case 1:return B.sent(),[4,this.renderNodeContent(S)];case 2:B.sent(),B.label=3;case 3:return[2]}})})},b.prototype.renderTextWithLetterSpacing=function(S,B,k){var G=this;0===B?this.ctx.fillText(S.text,S.bounds.left,S.bounds.top+k):Hh(S.text).reduce(function(Ie,Be){return G.ctx.fillText(Be,Ie,S.bounds.top+k),Ie+G.ctx.measureText(Be).width},S.bounds.left)},b.prototype.createFontStyle=function(S){var B=S.fontVariant.filter(function(ee){return"normal"===ee||"small-caps"===ee}).join(""),k=xp(S.fontFamily).join(", "),G=tu(S.fontSize)?""+S.fontSize.number+S.fontSize.unit:S.fontSize.number+"px";return[[S.fontStyle,B,S.fontWeight,G,k].join(" "),k,G]},b.prototype.renderTextNode=function(S,B){return Ee(this,void 0,void 0,function(){var k,ee,Ie,Be,Je,at,gt,Ut=this;return ce(this,function(Nn){return k=this.createFontStyle(B),ee=k[1],Ie=k[2],this.ctx.font=k[0],this.ctx.direction=1===B.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Be=this.fontMetrics.getMetrics(ee,Ie),Je=Be.baseline,at=Be.middle,gt=B.paintOrder,S.textBounds.forEach(function(An){gt.forEach(function(In){switch(In){case 0:Ut.ctx.fillStyle=Ws(B.color),Ut.renderTextWithLetterSpacing(An,B.letterSpacing,Je);var Wr=B.textShadow;Wr.length&&An.text.trim().length&&(Wr.slice(0).reverse().forEach(function(tr){Ut.ctx.shadowColor=Ws(tr.color),Ut.ctx.shadowOffsetX=tr.offsetX.number*Ut.options.scale,Ut.ctx.shadowOffsetY=tr.offsetY.number*Ut.options.scale,Ut.ctx.shadowBlur=tr.blur.number,Ut.renderTextWithLetterSpacing(An,B.letterSpacing,Je)}),Ut.ctx.shadowColor="",Ut.ctx.shadowOffsetX=0,Ut.ctx.shadowOffsetY=0,Ut.ctx.shadowBlur=0),B.textDecorationLine.length&&(Ut.ctx.fillStyle=Ws(B.textDecorationColor||B.color),B.textDecorationLine.forEach(function(tr){switch(tr){case 1:Ut.ctx.fillRect(An.bounds.left,Math.round(An.bounds.top+Je),An.bounds.width,1);break;case 2:Ut.ctx.fillRect(An.bounds.left,Math.round(An.bounds.top),An.bounds.width,1);break;case 3:Ut.ctx.fillRect(An.bounds.left,Math.ceil(An.bounds.top+at),An.bounds.width,1)}}));break;case 1:B.webkitTextStrokeWidth&&An.text.trim().length&&(Ut.ctx.strokeStyle=Ws(B.webkitTextStrokeColor),Ut.ctx.lineWidth=B.webkitTextStrokeWidth,Ut.ctx.lineJoin=window.chrome?"miter":"round",Ut.ctx.strokeText(An.text,An.bounds.left,An.bounds.top+Je)),Ut.ctx.strokeStyle="",Ut.ctx.lineWidth=0,Ut.ctx.lineJoin="miter"}})}),[2]})})},b.prototype.renderReplacedElement=function(S,B,k){if(k&&S.intrinsicWidth>0&&S.intrinsicHeight>0){var G=mv(S),ee=Vg(B);this.path(ee),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(k,0,0,S.intrinsicWidth,S.intrinsicHeight,G.left,G.top,G.width,G.height),this.ctx.restore()}},b.prototype.renderNodeContent=function(S){return Ee(this,void 0,void 0,function(){var B,k,G,ee,Ie,at,gt,Ut,An,In,Wr,tr,Xn,Mi,Jr,xr;return ce(this,function(Rn){switch(Rn.label){case 0:this.applyEffects(S.getEffects(4)),k=S.curves,G=(B=S.container).styles,ee=0,Ie=B.textNodes,Rn.label=1;case 1:return ee<Ie.length?[4,this.renderTextNode(Ie[ee],G)]:[3,4];case 2:Rn.sent(),Rn.label=3;case 3:return ee++,[3,1];case 4:if(!(B instanceof eh))return[3,8];Rn.label=5;case 5:return Rn.trys.push([5,7,,8]),[4,this.context.cache.match(B.src)];case 6:return Xn=Rn.sent(),this.renderReplacedElement(B,k,Xn),[3,8];case 7:return Rn.sent(),this.context.logger.error("Error loading image "+B.src),[3,8];case 8:if(B instanceof cl&&this.renderReplacedElement(B,k,B.canvas),!(B instanceof mu))return[3,12];Rn.label=9;case 9:return Rn.trys.push([9,11,,12]),[4,this.context.cache.match(B.svg)];case 10:return Xn=Rn.sent(),this.renderReplacedElement(B,k,Xn),[3,12];case 11:return Rn.sent(),this.context.logger.error("Error loading svg "+B.svg.substring(0,255)),[3,12];case 12:return B instanceof Yd&&B.tree?[4,new b(this.context,{scale:this.options.scale,backgroundColor:B.backgroundColor,x:0,y:0,width:B.width,height:B.height}).render(B.tree)]:[3,14];case 13:at=Rn.sent(),B.width&&B.height&&this.ctx.drawImage(at,0,0,B.width,B.height,B.bounds.left,B.bounds.top,B.bounds.width,B.bounds.height),Rn.label=14;case 14:if(B instanceof Hn&&(gt=Math.min(B.bounds.width,B.bounds.height),B.type===lA?B.checked&&(this.ctx.save(),this.path([new En(B.bounds.left+.39363*gt,B.bounds.top+.79*gt),new En(B.bounds.left+.16*gt,B.bounds.top+.5549*gt),new En(B.bounds.left+.27347*gt,B.bounds.top+.44071*gt),new En(B.bounds.left+.39694*gt,B.bounds.top+.5649*gt),new En(B.bounds.left+.72983*gt,B.bounds.top+.23*gt),new En(B.bounds.left+.84*gt,B.bounds.top+.34085*gt),new En(B.bounds.left+.39363*gt,B.bounds.top+.79*gt)]),this.ctx.fillStyle=Ws($d),this.ctx.fill(),this.ctx.restore()):B.type===yu&&B.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(B.bounds.left+gt/2,B.bounds.top+gt/2,gt/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ws($d),this.ctx.fill(),this.ctx.restore())),hE(B)&&B.value.length){switch(Ut=this.createFontStyle(G),An=this.fontMetrics.getMetrics(Jr=Ut[0],Ut[1]).baseline,this.ctx.font=Jr,this.ctx.fillStyle=Ws(G.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Sp(B.styles.textAlign),xr=mv(B),In=0,B.styles.textAlign){case 1:In+=xr.width/2;break;case 2:In+=xr.width}Wr=xr.add(In,0,0,-xr.height/2+1),this.ctx.save(),this.path([new En(xr.left,xr.top),new En(xr.left+xr.width,xr.top),new En(xr.left+xr.width,xr.top+xr.height),new En(xr.left,xr.top+xr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ms(B.value,Wr),G.letterSpacing,An),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ss(B.styles.display,2048))return[3,20];if(null===B.styles.listStyleImage)return[3,19];if(0!==(tr=B.styles.listStyleImage).type)return[3,18];Xn=void 0,Mi=tr.url,Rn.label=15;case 15:return Rn.trys.push([15,17,,18]),[4,this.context.cache.match(Mi)];case 16:return Xn=Rn.sent(),this.ctx.drawImage(Xn,B.bounds.left-(Xn.width+10),B.bounds.top),[3,18];case 17:return Rn.sent(),this.context.logger.error("Error loading list-style-image "+Mi),[3,18];case 18:return[3,20];case 19:S.listValue&&-1!==B.styles.listStyleType&&(Jr=this.createFontStyle(G)[0],this.ctx.font=Jr,this.ctx.fillStyle=Ws(G.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",xr=new xe(B.bounds.left,B.bounds.top+Xr(B.styles.paddingTop,B.bounds.width),B.bounds.width,lu(G.lineHeight,G.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ms(S.listValue,xr),G.letterSpacing,lu(G.lineHeight,G.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Rn.label=20;case 20:return[2]}})})},b.prototype.renderStackContent=function(S){return Ee(this,void 0,void 0,function(){var B,k,G,ee,Ie,Be,Je,at,gt,Ut,Nn,An,In,Wr;return ce(this,function(Xn){switch(Xn.label){case 0:return ss(S.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(S.element)];case 1:Xn.sent(),B=0,k=S.negativeZIndex,Xn.label=2;case 2:return B<k.length?[4,this.renderStack(k[B])]:[3,5];case 3:Xn.sent(),Xn.label=4;case 4:return B++,[3,2];case 5:return[4,this.renderNodeContent(S.element)];case 6:Xn.sent(),G=0,ee=S.nonInlineLevel,Xn.label=7;case 7:return G<ee.length?[4,this.renderNode(ee[G])]:[3,10];case 8:Xn.sent(),Xn.label=9;case 9:return G++,[3,7];case 10:Ie=0,Be=S.nonPositionedFloats,Xn.label=11;case 11:return Ie<Be.length?[4,this.renderStack(Be[Ie])]:[3,14];case 12:Xn.sent(),Xn.label=13;case 13:return Ie++,[3,11];case 14:Je=0,at=S.nonPositionedInlineLevel,Xn.label=15;case 15:return Je<at.length?[4,this.renderStack(at[Je])]:[3,18];case 16:Xn.sent(),Xn.label=17;case 17:return Je++,[3,15];case 18:gt=0,Ut=S.inlineLevel,Xn.label=19;case 19:return gt<Ut.length?[4,this.renderNode(Ut[gt])]:[3,22];case 20:Xn.sent(),Xn.label=21;case 21:return gt++,[3,19];case 22:Nn=0,An=S.zeroOrAutoZIndexOrTransformedOrOpacity,Xn.label=23;case 23:return Nn<An.length?[4,this.renderStack(An[Nn])]:[3,26];case 24:Xn.sent(),Xn.label=25;case 25:return Nn++,[3,23];case 26:In=0,Wr=S.positiveZIndex,Xn.label=27;case 27:return In<Wr.length?[4,this.renderStack(Wr[In])]:[3,30];case 28:Xn.sent(),Xn.label=29;case 29:return In++,[3,27];case 30:return[2]}})})},b.prototype.mask=function(S){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(S.slice(0).reverse()),this.ctx.closePath()},b.prototype.path=function(S){this.ctx.beginPath(),this.formatPath(S),this.ctx.closePath()},b.prototype.formatPath=function(S){var B=this;S.forEach(function(k,G){var ee=Ha(k)?k.start:k;0===G?B.ctx.moveTo(ee.x,ee.y):B.ctx.lineTo(ee.x,ee.y),Ha(k)&&B.ctx.bezierCurveTo(k.startControl.x,k.startControl.y,k.endControl.x,k.endControl.y,k.end.x,k.end.y)})},b.prototype.renderRepeat=function(S,B,k,G){this.path(S),this.ctx.fillStyle=B,this.ctx.translate(k,G),this.ctx.fill(),this.ctx.translate(-k,-G)},b.prototype.resizeImage=function(S,B,k){var G;if(S.width===B&&S.height===k)return S;var Ie=(null!==(G=this.canvas.ownerDocument)&&void 0!==G?G:document).createElement("canvas");return Ie.width=Math.max(1,B),Ie.height=Math.max(1,k),Ie.getContext("2d").drawImage(S,0,0,S.width,S.height,0,0,B,k),Ie},b.prototype.renderBackgroundImage=function(S){return Ee(this,void 0,void 0,function(){var B,k,G,ee,Ie;return ce(this,function(Je){switch(Je.label){case 0:B=S.styles.backgroundImage.length-1,k=function(at){var gt,Ut,Nn,An,In,Wr,tr,Xn,Mi,Jr,xr,Rn,kn,Di,_r,lo,Va,Al,os,ja,Ka,Ol,Ll,of,qh,$s,hl,Dp,Ga,fA,pA;return ce(this,function(af){switch(af.label){case 0:if(0!==at.type)return[3,5];gt=void 0,Ut=at.url,af.label=1;case 1:return af.trys.push([1,3,,4]),[4,G.context.cache.match(Ut)];case 2:return gt=af.sent(),[3,4];case 3:return af.sent(),G.context.logger.error("Error loading background-image "+Ut),[3,4];case 4:return gt&&(Nn=Ow(S,B,[gt.width,gt.height,gt.width/gt.height]),lo=Nn[0],Ol=Nn[1],Ll=Nn[2],Di=G.ctx.createPattern(G.resizeImage(gt,os=Nn[3],ja=Nn[4]),"repeat"),G.renderRepeat(lo,Di,Ol,Ll)),[3,6];case 5:!function(E){return 1===E.type}(at)?function(E){return 2===E.type}(at)&&(_r=Ow(S,B,[null,null,null]),lo=_r[0],Va=_r[1],Al=_r[2],ja=_r[4],Ol=Xr((Ka=0===at.position.length?[Yf]:at.position)[0],os=_r[3]),Ll=Xr(Ka[Ka.length-1],ja),of=function(E,b,S,B,k){var G=0,ee=0;switch(E.size){case 0:0===E.shape?G=ee=Math.min(Math.abs(b),Math.abs(b-B),Math.abs(S),Math.abs(S-k)):1===E.shape&&(G=Math.min(Math.abs(b),Math.abs(b-B)),ee=Math.min(Math.abs(S),Math.abs(S-k)));break;case 2:if(0===E.shape)G=ee=Math.min(nc(b,S),nc(b,S-k),nc(b-B,S),nc(b-B,S-k));else if(1===E.shape){var Ie=Math.min(Math.abs(S),Math.abs(S-k))/Math.min(Math.abs(b),Math.abs(b-B)),Be=yg(B,k,b,S,!0);ee=Ie*(G=nc(Be[0]-b,(Be[1]-S)/Ie))}break;case 1:0===E.shape?G=ee=Math.max(Math.abs(b),Math.abs(b-B),Math.abs(S),Math.abs(S-k)):1===E.shape&&(G=Math.max(Math.abs(b),Math.abs(b-B)),ee=Math.max(Math.abs(S),Math.abs(S-k)));break;case 3:if(0===E.shape)G=ee=Math.max(nc(b,S),nc(b,S-k),nc(b-B,S),nc(b-B,S-k));else if(1===E.shape){Ie=Math.max(Math.abs(S),Math.abs(S-k))/Math.max(Math.abs(b),Math.abs(b-B));var gt=yg(B,k,b,S,!1);ee=Ie*(G=nc(gt[0]-b,(gt[1]-S)/Ie))}}return Array.isArray(E.size)&&(G=Xr(E.size[0],B),ee=2===E.size.length?Xr(E.size[1],k):G),[G,ee]}(at,Ol,Ll,os,ja),$s=of[1],(qh=of[0])>0&&$s>0&&(hl=G.ctx.createRadialGradient(Va+Ol,Al+Ll,0,Va+Ol,Al+Ll,qh),tc(at.stops,2*qh).forEach(function($h){return hl.addColorStop($h.stop,Ws($h.color))}),G.path(lo),G.ctx.fillStyle=hl,qh!==$s?(Dp=S.bounds.left+.5*S.bounds.width,Ga=S.bounds.top+.5*S.bounds.height,pA=1/(fA=$s/qh),G.ctx.save(),G.ctx.translate(Dp,Ga),G.ctx.transform(1,0,0,fA,0,0),G.ctx.translate(-Dp,-Ga),G.ctx.fillRect(Va,pA*(Al-Ga)+Ga,os,ja*pA),G.ctx.restore()):G.ctx.fill())):(An=Ow(S,B,[null,null,null]),lo=An[0],Ol=An[1],Ll=An[2],In=Gm(at.angle,os=An[3],ja=An[4]),Wr=In[0],tr=In[1],Xn=In[2],Mi=In[3],Jr=In[4],(xr=document.createElement("canvas")).width=os,xr.height=ja,Rn=xr.getContext("2d"),kn=Rn.createLinearGradient(tr,Mi,Xn,Jr),tc(at.stops,Wr).forEach(function($h){return kn.addColorStop($h.stop,Ws($h.color))}),Rn.fillStyle=kn,Rn.fillRect(0,0,os,ja),os>0&&ja>0&&(Di=G.ctx.createPattern(xr,"repeat"),G.renderRepeat(lo,Di,Ol,Ll))),af.label=6;case 6:return B--,[2]}})},G=this,ee=0,Ie=S.styles.backgroundImage.slice(0).reverse(),Je.label=1;case 1:return ee<Ie.length?[5,k(Ie[ee])]:[3,4];case 2:Je.sent(),Je.label=3;case 3:return ee++,[3,1];case 4:return[2]}})})},b.prototype.renderSolidBorder=function(S,B,k){return Ee(this,void 0,void 0,function(){return ce(this,function(G){return this.path(Nw(k,B)),this.ctx.fillStyle=Ws(S),this.ctx.fill(),[2]})})},b.prototype.renderDoubleBorder=function(S,B,k,G){return Ee(this,void 0,void 0,function(){var ee,Ie;return ce(this,function(Be){switch(Be.label){case 0:return B<3?[4,this.renderSolidBorder(S,k,G)]:[3,2];case 1:return Be.sent(),[2];case 2:return ee=function(E,b){switch(b){case 0:return Ca(E.topLeftBorderBox,E.topLeftBorderDoubleOuterBox,E.topRightBorderBox,E.topRightBorderDoubleOuterBox);case 1:return Ca(E.topRightBorderBox,E.topRightBorderDoubleOuterBox,E.bottomRightBorderBox,E.bottomRightBorderDoubleOuterBox);case 2:return Ca(E.bottomRightBorderBox,E.bottomRightBorderDoubleOuterBox,E.bottomLeftBorderBox,E.bottomLeftBorderDoubleOuterBox);default:return Ca(E.bottomLeftBorderBox,E.bottomLeftBorderDoubleOuterBox,E.topLeftBorderBox,E.topLeftBorderDoubleOuterBox)}}(G,k),this.path(ee),this.ctx.fillStyle=Ws(S),this.ctx.fill(),Ie=function(E,b){switch(b){case 0:return Ca(E.topLeftBorderDoubleInnerBox,E.topLeftPaddingBox,E.topRightBorderDoubleInnerBox,E.topRightPaddingBox);case 1:return Ca(E.topRightBorderDoubleInnerBox,E.topRightPaddingBox,E.bottomRightBorderDoubleInnerBox,E.bottomRightPaddingBox);case 2:return Ca(E.bottomRightBorderDoubleInnerBox,E.bottomRightPaddingBox,E.bottomLeftBorderDoubleInnerBox,E.bottomLeftPaddingBox);default:return Ca(E.bottomLeftBorderDoubleInnerBox,E.bottomLeftPaddingBox,E.topLeftBorderDoubleInnerBox,E.topLeftPaddingBox)}}(G,k),this.path(Ie),this.ctx.fill(),[2]}})})},b.prototype.renderNodeBackgroundAndBorders=function(S){return Ee(this,void 0,void 0,function(){var B,k,G,ee,Ie,Be,Je,at,gt=this;return ce(this,function(Ut){switch(Ut.label){case 0:return this.applyEffects(S.getEffects(2)),k=!il((B=S.container.styles).backgroundColor)||B.backgroundImage.length,G=[{style:B.borderTopStyle,color:B.borderTopColor,width:B.borderTopWidth},{style:B.borderRightStyle,color:B.borderRightColor,width:B.borderRightWidth},{style:B.borderBottomStyle,color:B.borderBottomColor,width:B.borderBottomWidth},{style:B.borderLeftStyle,color:B.borderLeftColor,width:B.borderLeftWidth}],ee=Uw(Ea(B.backgroundClip,0),S.curves),k||B.boxShadow.length?(this.ctx.save(),this.path(ee),this.ctx.clip(),il(B.backgroundColor)||(this.ctx.fillStyle=Ws(B.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(S.container)]):[3,2];case 1:Ut.sent(),this.ctx.restore(),B.boxShadow.slice(0).reverse().forEach(function(Nn){gt.ctx.save();var An=nf(S.curves),In=Nn.inset?0:1e4,Wr=function(E,b,S,B,k){return E.map(function(G,ee){switch(ee){case 0:return G.add(b,S);case 1:return G.add(b+B,S);case 2:return G.add(b+B,S+k);case 3:return G.add(b,S+k)}return G})}(An,(Nn.inset?1:-1)*Nn.spread.number-In,(Nn.inset?1:-1)*Nn.spread.number,Nn.spread.number*(Nn.inset?-2:2),Nn.spread.number*(Nn.inset?-2:2));Nn.inset?(gt.path(An),gt.ctx.clip(),gt.mask(Wr)):(gt.mask(An),gt.ctx.clip(),gt.path(Wr)),gt.ctx.shadowOffsetX=Nn.offsetX.number+In,gt.ctx.shadowOffsetY=Nn.offsetY.number,gt.ctx.shadowColor=Ws(Nn.color),gt.ctx.shadowBlur=Nn.blur.number,gt.ctx.fillStyle=Nn.inset?Ws(Nn.color):"rgba(0,0,0,1)",gt.ctx.fill(),gt.ctx.restore()}),Ut.label=2;case 2:Ie=0,Be=0,Je=G,Ut.label=3;case 3:return Be<Je.length?0!==(at=Je[Be]).style&&!il(at.color)&&at.width>0?2!==at.style?[3,5]:[4,this.renderDashedDottedBorder(at.color,at.width,Ie,S.curves,2)]:[3,11]:[3,13];case 4:return Ut.sent(),[3,11];case 5:return 3!==at.style?[3,7]:[4,this.renderDashedDottedBorder(at.color,at.width,Ie,S.curves,3)];case 6:return Ut.sent(),[3,11];case 7:return 4!==at.style?[3,9]:[4,this.renderDoubleBorder(at.color,at.width,Ie,S.curves)];case 8:return Ut.sent(),[3,11];case 9:return[4,this.renderSolidBorder(at.color,Ie,S.curves)];case 10:Ut.sent(),Ut.label=11;case 11:Ie++,Ut.label=12;case 12:return Be++,[3,3];case 13:return[2]}})})},b.prototype.renderDashedDottedBorder=function(S,B,k,G,ee){return Ee(this,void 0,void 0,function(){var Ie,Be,Je,at,gt,Ut,Nn,An,In,Wr,tr,Xn,Mi,Jr,xr,Rn;return ce(this,function(kn){return this.ctx.save(),Ie=function(E,b){switch(b){case 0:return jg(E.topLeftBorderStroke,E.topRightBorderStroke);case 1:return jg(E.topRightBorderStroke,E.bottomRightBorderStroke);case 2:return jg(E.bottomRightBorderStroke,E.bottomLeftBorderStroke);default:return jg(E.bottomLeftBorderStroke,E.topLeftBorderStroke)}}(G,k),Be=Nw(G,k),2===ee&&(this.path(Be),this.ctx.clip()),Ha(Be[0])?(Je=Be[0].start.x,at=Be[0].start.y):(Je=Be[0].x,at=Be[0].y),Ha(Be[1])?(gt=Be[1].end.x,Ut=Be[1].end.y):(gt=Be[1].x,Ut=Be[1].y),Nn=0===k||2===k?Math.abs(Je-gt):Math.abs(at-Ut),this.ctx.beginPath(),this.formatPath(3===ee?Ie:Be.slice(0,2)),An=B<3?3*B:2*B,In=B<3?2*B:B,3===ee&&(An=B,In=B),Wr=!0,Nn<=2*An?Wr=!1:Nn<=2*An+In?(An*=tr=Nn/(2*An+In),In*=tr):(Xn=Math.floor((Nn+In)/(An+In)),Mi=(Nn-Xn*An)/(Xn-1),In=(Jr=(Nn-(Xn+1)*An)/Xn)<=0||Math.abs(In-Mi)<Math.abs(In-Jr)?Mi:Jr),Wr&&this.ctx.setLineDash(3===ee?[0,An+In]:[An,In]),3===ee?(this.ctx.lineCap="round",this.ctx.lineWidth=B):this.ctx.lineWidth=2*B+1.1,this.ctx.strokeStyle=Ws(S),this.ctx.stroke(),this.ctx.setLineDash([]),2===ee&&(Ha(Be[0])&&(xr=Be[3],Rn=Be[0],this.ctx.beginPath(),this.formatPath([new En(xr.end.x,xr.end.y),new En(Rn.start.x,Rn.start.y)]),this.ctx.stroke()),Ha(Be[1])&&(xr=Be[1],Rn=Be[2],this.ctx.beginPath(),this.formatPath([new En(xr.end.x,xr.end.y),new En(Rn.start.x,Rn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},b.prototype.render=function(S){return Ee(this,void 0,void 0,function(){var B;return ce(this,function(k){switch(k.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ws(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),B=function(E){var b=new sE(E,null),S=new iE(b),B=[];return Mw(b,S,S,B),oE(b.container,B),S}(S),[4,this.renderStack(B)];case 1:return k.sent(),this.applyEffects([]),[2,this.canvas]}})})},b}(kw),hE=function(E){return E instanceof oy||E instanceof Vh||E instanceof Hn&&E.type!==yu&&E.type!==lA},Uw=function(E,b){switch(E){case 0:return nf(b);case 2:return function(E){return[E.topLeftContentBox,E.topRightContentBox,E.bottomRightContentBox,E.bottomLeftContentBox]}(b);default:return Vg(b)}},Sp=function(E){switch(E){case 1:return"center";case 2:return"right";default:return"left"}},Qw=["-apple-system","system-ui"],xp=function(E){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?E.filter(function(b){return-1===Qw.indexOf(b)}):E},la=function(E){function b(S,B){var k=E.call(this,S,B)||this;return k.canvas=B.canvas?B.canvas:document.createElement("canvas"),k.ctx=k.canvas.getContext("2d"),k.options=B,k.canvas.width=Math.floor(B.width*B.scale),k.canvas.height=Math.floor(B.height*B.scale),k.canvas.style.width=B.width+"px",k.canvas.style.height=B.height+"px",k.ctx.scale(k.options.scale,k.options.scale),k.ctx.translate(-B.x,-B.y),k.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+B.width+"x"+B.height+" at "+B.x+","+B.y+") with scale "+B.scale),k}return U(b,E),b.prototype.render=function(S){return Ee(this,void 0,void 0,function(){var B,k;return ce(this,function(G){switch(G.label){case 0:return B=jd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,S),[4,Hw(B)];case 1:return k=G.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ws(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(k,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},b}(kw),Hw=function(E){return new Promise(function(b,S){var B=new Image;B.onload=function(){b(B)},B.onerror=S,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(E))})},Fr=function(){function E(b){var B=b.enabled;this.id=b.id,this.enabled=B,this.start=Date.now()}return E.prototype.debug=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,De([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},E.prototype.getTime=function(){return Date.now()-this.start},E.prototype.info=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,De([this.id,this.getTime()+"ms"],b))},E.prototype.warn=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,De([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},E.prototype.error=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,De([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},E.instances={},E}(),Wh=function(){function E(b,S){var B;this.windowBounds=S,this.instanceName="#"+E.instanceCount++,this.logger=new Fr({id:this.instanceName,enabled:b.logging}),this.cache=null!==(B=b.cache)&&void 0!==B?B:new Ug(this,b)}return E.instanceCount=1,E}();"undefined"!=typeof window&&kg.setContext(window);var Vw=function(E,b){return Ee(void 0,void 0,void 0,function(){var S,B,k,G,ee,Ie,Be,Je,at,gt,Ut,Nn,An,In,Wr,tr,Xn,Mi,Jr,xr,Rn,Di,_r,lo,Va,Al,os,ja,Ka,Ol,Ll,of,qh,$s,hl,Dp,Ga,fA;return ce(this,function(pA){switch(pA.label){case 0:if(!E||"object"!=typeof E)return[2,Promise.reject("Invalid element provided as first argument")];if(!(S=E.ownerDocument))throw new Error("Element is not attached to a Document");if(!(B=S.defaultView))throw new Error("Document is not attached to a Window");return k={allowTaint:null!==(Di=b.allowTaint)&&void 0!==Di&&Di,imageTimeout:null!==(_r=b.imageTimeout)&&void 0!==_r?_r:15e3,proxy:b.proxy,useCORS:null!==(lo=b.useCORS)&&void 0!==lo&&lo},G=p({logging:null===(Va=b.logging)||void 0===Va||Va,cache:b.cache},k),ee={windowWidth:null!==(Al=b.windowWidth)&&void 0!==Al?Al:B.innerWidth,windowHeight:null!==(os=b.windowHeight)&&void 0!==os?os:B.innerHeight,scrollX:null!==(ja=b.scrollX)&&void 0!==ja?ja:B.pageXOffset,scrollY:null!==(Ka=b.scrollY)&&void 0!==Ka?Ka:B.pageYOffset},Ie=new xe(ee.scrollX,ee.scrollY,ee.windowWidth,ee.windowHeight),Be=new Wh(G,Ie),Je=null!==(Ol=b.foreignObjectRendering)&&void 0!==Ol&&Ol,at={allowTaint:null!==(Ll=b.allowTaint)&&void 0!==Ll&&Ll,onclone:b.onclone,ignoreElements:b.ignoreElements,inlineImages:Je,copyStyles:Je},Be.logger.debug("Starting document clone with size "+Ie.width+"x"+Ie.height+" scrolled to "+-Ie.left+","+-Ie.top),gt=new cy(Be,E,at),(Ut=gt.clonedReferenceElement)?[4,gt.toIFrame(S,Ie)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Nn=pA.sent(),An=cA(Ut)||function(E){return"HTML"===E.tagName}(Ut)?function(E){var b=E.body,S=E.documentElement;if(!b||!S)throw new Error("Unable to get document size");var B=Math.max(Math.max(b.scrollWidth,S.scrollWidth),Math.max(b.offsetWidth,S.offsetWidth),Math.max(b.clientWidth,S.clientWidth)),k=Math.max(Math.max(b.scrollHeight,S.scrollHeight),Math.max(b.offsetHeight,S.offsetHeight),Math.max(b.clientHeight,S.clientHeight));return new xe(0,0,B,k)}(Ut.ownerDocument):Ae(Be,Ut),In=An.width,Wr=An.height,tr=An.left,Xn=An.top,Mi=dA(Be,Ut,b.backgroundColor),Jr={canvas:b.canvas,backgroundColor:Mi,scale:null!==(qh=null!==(of=b.scale)&&void 0!==of?of:B.devicePixelRatio)&&void 0!==qh?qh:1,x:(null!==($s=b.x)&&void 0!==$s?$s:0)+tr,y:(null!==(hl=b.y)&&void 0!==hl?hl:0)+Xn,width:null!==(Dp=b.width)&&void 0!==Dp?Dp:Math.ceil(In),height:null!==(Ga=b.height)&&void 0!==Ga?Ga:Math.ceil(Wr)},Je?(Be.logger.debug("Document cloned, using foreign object rendering"),[4,new la(Be,Jr).render(Ut)]):[3,3];case 2:return xr=pA.sent(),[3,5];case 3:return Be.logger.debug("Document cloned, element located at "+tr+","+Xn+" with size "+In+"x"+Wr+" using computed rendering"),Be.logger.debug("Starting DOM parsing"),Rn=yp(Be,Ut),Mi===Rn.styles.backgroundColor&&(Rn.styles.backgroundColor=zs.TRANSPARENT),Be.logger.debug("Starting renderer for element at "+Jr.x+","+Jr.y+" with size "+Jr.width+"x"+Jr.height),[4,new AE(Be,Jr).render(Rn)];case 4:xr=pA.sent(),pA.label=5;case 5:return(null===(fA=b.removeContainer)||void 0===fA||fA)&&(cy.destroy(Nn)||Be.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Be.logger.debug("Finished rendering"),[2,xr]}})})},dA=function(E,b,S){var B=b.ownerDocument,k=B.documentElement?iu(E,getComputedStyle(B.documentElement).backgroundColor):zs.TRANSPARENT,G=B.body?iu(E,getComputedStyle(B.body).backgroundColor):zs.TRANSPARENT,ee="string"==typeof S?iu(E,S):null===S?zs.TRANSPARENT:4294967295;return b===B.documentElement?il(k)?il(G)?ee:G:k:ee};return function(E,b){return void 0===b&&(b={}),Vw(E,b)}}()},5772:(Kt,Qe,U)=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});var p=U(9476),Ee=U(8137);p.Observable.prototype.map=Ee.map},8137:(Kt,Qe,U)=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});var p=U(7690);Qe.map=function Ee(ce,De){return p.map(ce,De)(this)}},9476:(Kt,Qe,U)=>{"use strict";U.r(Qe),U.d(Qe,{ArgumentOutOfRangeError:()=>it.W,AsyncSubject:()=>Z.c,BehaviorSubject:()=>Ae.X,ConnectableObservable:()=>Ee.c,EMPTY:()=>hi.E,EmptyError:()=>wt.K,GroupedObservable:()=>ce.T,NEVER:()=>Kr,Notification:()=>Dr.P,NotificationKind:()=>Dr.W,ObjectUnsubscribedError:()=>ft.N,Observable:()=>p.y,ReplaySubject:()=>pe.t,Scheduler:()=>nr.b,Subject:()=>xe.xQ,Subscriber:()=>cr.L,Subscription:()=>ar.w,TimeoutError:()=>xt.W,UnsubscriptionError:()=>kt.B,VirtualAction:()=>bn,VirtualTimeScheduler:()=>jt,animationFrame:()=>ct,animationFrameScheduler:()=>Pt,asap:()=>ae.e,asapScheduler:()=>ae.E,async:()=>X.P,asyncScheduler:()=>X.z,bindCallback:()=>mn,bindNodeCallback:()=>jr,combineLatest:()=>bs.aj,concat:()=>Na.z,config:()=>de.v,defer:()=>Ds.P,empty:()=>hi.c,forkJoin:()=>Qs.D,from:()=>ls.D,fromEvent:()=>er,fromEventPattern:()=>Js,generate:()=>ai,identity:()=>tt.y,iif:()=>eo,interval:()=>Nr,isObservable:()=>zt,merge:()=>Fn.T,never:()=>rs,noop:()=>On.Z,observable:()=>De.L,of:()=>Pr.of,onErrorResumeNext:()=>As,pairs:()=>Fs,partition:()=>To,pipe:()=>Tr.z,queue:()=>ie.c,queueScheduler:()=>ie.N,race:()=>_n.S3,range:()=>Ht,scheduled:()=>Re.x,throwError:()=>or._,timer:()=>fr.H,using:()=>Sr,zip:()=>He.$R});var p=U(4202),Ee=U(1762),ce=U(4002),De=U(3821),xe=U(8929),Ae=U(591),pe=U(839),Z=U(2185),ae=U(8139),X=U(353),ie=U(341),fe=U(6686),We=U(198);const Pt=new class lt extends We.v{flush(ne){this.active=!0,this.scheduled=void 0;const{actions:Fe}=this;let Ye,_t=-1,Nt=Fe.length;ne=ne||Fe.shift();do{if(Ye=ne.execute(ne.state,ne.delay))break}while(++_t<Nt&&(ne=Fe.shift()));if(this.active=!1,Ye){for(;++_t<Nt&&(ne=Fe.shift());)ne.unsubscribe();throw Ye}}}(class Ne extends fe.o{constructor(ne,Fe){super(ne,Fe),this.scheduler=ne,this.work=Fe}requestAsyncId(ne,Fe,Ye=0){return null!==Ye&&Ye>0?super.requestAsyncId(ne,Fe,Ye):(ne.actions.push(this),ne.scheduled||(ne.scheduled=requestAnimationFrame(()=>ne.flush(null))))}recycleAsyncId(ne,Fe,Ye=0){if(null!==Ye&&Ye>0||null===Ye&&this.delay>0)return super.recycleAsyncId(ne,Fe,Ye);0===ne.actions.length&&(cancelAnimationFrame(Fe),ne.scheduled=void 0)}}),ct=Pt;let jt=(()=>{class he extends We.v{constructor(Fe=bn,Ye=Number.POSITIVE_INFINITY){super(Fe,()=>this.frame),this.maxFrames=Ye,this.frame=0,this.index=-1}flush(){const{actions:Fe,maxFrames:Ye}=this;let _t,Nt;for(;(Nt=Fe[0])&&Nt.delay<=Ye&&(Fe.shift(),this.frame=Nt.delay,!(_t=Nt.execute(Nt.state,Nt.delay))););if(_t){for(;Nt=Fe.shift();)Nt.unsubscribe();throw _t}}}return he.frameTimeFactor=10,he})();class bn extends fe.o{constructor(ne,Fe,Ye=(ne.index+=1)){super(ne,Fe),this.scheduler=ne,this.work=Fe,this.index=Ye,this.active=!0,this.index=ne.index=Ye}schedule(ne,Fe=0){if(!this.id)return super.schedule(ne,Fe);this.active=!1;const Ye=new bn(this.scheduler,this.work);return this.add(Ye),Ye.schedule(ne,Fe)}requestAsyncId(ne,Fe,Ye=0){this.delay=ne.frame+Ye;const{actions:_t}=ne;return _t.push(this),_t.sort(bn.sortActions),!0}recycleAsyncId(ne,Fe,Ye=0){}_execute(ne,Fe){if(!0===this.active)return super._execute(ne,Fe)}static sortActions(ne,Fe){return ne.delay===Fe.delay?ne.index===Fe.index?0:ne.index>Fe.index?1:-1:ne.delay>Fe.delay?1:-1}}var nr=U(2221),ar=U(4096),cr=U(3489),Dr=U(9312),Tr=U(4843),On=U(7876),tt=U(5379);function zt(he){return!!he&&(he instanceof p.y||"function"==typeof he.lift&&"function"==typeof he.subscribe)}var it=U(4231),wt=U(4450),ft=U(5279),kt=U(7964),xt=U(854),Jt=U(4850),Ln=U(1601),Or=U(6688),ur=U(2866);function mn(he,ne,Fe){if(ne){if(!(0,ur.K)(ne))return(...Ye)=>mn(he,Fe)(...Ye).pipe((0,Jt.U)(_t=>(0,Or.k)(_t)?ne(..._t):ne(_t)));Fe=ne}return function(...Ye){const _t=this;let Nt;const sn={context:_t,subject:Nt,callbackFunc:he,scheduler:Fe};return new p.y(an=>{if(Fe)return Fe.schedule(Zr,0,{args:Ye,subscriber:an,params:sn});if(!Nt){Nt=new Z.c;const un=(...zn)=>{Nt.next(zn.length<=1?zn[0]:zn),Nt.complete()};try{he.apply(_t,[...Ye,un])}catch(zn){(0,Ln._)(Nt)?Nt.error(zn):console.warn(zn)}}return Nt.subscribe(an)})}}function Zr(he){const{args:Fe,subscriber:Ye,params:_t}=he,{callbackFunc:Nt,context:sn,scheduler:an}=_t;let{subject:un}=_t;if(!un){un=_t.subject=new Z.c;const zn=(...Ur)=>{this.add(an.schedule(qi,0,{value:Ur.length<=1?Ur[0]:Ur,subject:un}))};try{Nt.apply(sn,[...Fe,zn])}catch(Ur){un.error(Ur)}}this.add(un.subscribe(Ye))}function qi(he){const{value:ne,subject:Fe}=he;Fe.next(ne),Fe.complete()}function jr(he,ne,Fe){if(ne){if(!(0,ur.K)(ne))return(...Ye)=>jr(he,Fe)(...Ye).pipe((0,Jt.U)(_t=>(0,Or.k)(_t)?ne(..._t):ne(_t)));Fe=ne}return function(...Ye){const _t={subject:void 0,args:Ye,callbackFunc:he,scheduler:Fe,context:this};return new p.y(Nt=>{const{context:sn}=_t;let{subject:an}=_t;if(Fe)return Fe.schedule(ns,0,{params:_t,subscriber:Nt,context:sn});if(!an){an=_t.subject=new Z.c;const un=(...zn)=>{const Ur=zn.shift();Ur?an.error(Ur):(an.next(zn.length<=1?zn[0]:zn),an.complete())};try{he.apply(sn,[...Ye,un])}catch(zn){(0,Ln._)(an)?an.error(zn):console.warn(zn)}}return an.subscribe(Nt)})}}function ns(he){const{params:ne,subscriber:Fe,context:Ye}=he,{callbackFunc:_t,args:Nt,scheduler:sn}=ne;let an=ne.subject;if(!an){an=ne.subject=new Z.c;const un=(...zn)=>{const Ur=zn.shift();this.add(Ur?sn.schedule(Cr,0,{err:Ur,subject:an}):sn.schedule(wr,0,{value:zn.length<=1?zn[0]:zn,subject:an}))};try{_t.apply(Ye,[...Nt,un])}catch(zn){this.add(sn.schedule(Cr,0,{err:zn,subject:an}))}}this.add(an.subscribe(Fe))}function wr(he){const{value:ne,subject:Fe}=he;Fe.next(ne),Fe.complete()}function Cr(he){const{err:ne,subject:Fe}=he;Fe.error(ne)}var bs=U(6053),Na=U(1961),Ds=U(8514),hi=U(8896),Qs=U(567),ls=U(3527),Vi=U(7043);function er(he,ne,Fe,Ye){return(0,Vi.m)(Fe)&&(Ye=Fe,Fe=void 0),Ye?er(he,ne,Fe).pipe((0,Jt.U)(_t=>(0,Or.k)(_t)?Ye(..._t):Ye(_t))):new p.y(_t=>{cs(he,ne,function Nt(sn){_t.next(arguments.length>1?Array.prototype.slice.call(arguments):sn)},_t,Fe)})}function cs(he,ne,Fe,Ye,_t){let Nt;if(function us(he){return he&&"function"==typeof he.addEventListener&&"function"==typeof he.removeEventListener}(he)){const sn=he;he.addEventListener(ne,Fe,_t),Nt=()=>sn.removeEventListener(ne,Fe,_t)}else if(function Fi(he){return he&&"function"==typeof he.on&&"function"==typeof he.off}(he)){const sn=he;he.on(ne,Fe),Nt=()=>sn.off(ne,Fe)}else if(function oi(he){return he&&"function"==typeof he.addListener&&"function"==typeof he.removeListener}(he)){const sn=he;he.addListener(ne,Fe),Nt=()=>sn.removeListener(ne,Fe)}else{if(!he||!he.length)throw new TypeError("Invalid event target");for(let sn=0,an=he.length;sn<an;sn++)cs(he[sn],ne,Fe,Ye,_t)}Ye.add(Nt)}function Js(he,ne,Fe){return Fe?Js(he,ne).pipe((0,Jt.U)(Ye=>(0,Or.k)(Ye)?Fe(...Ye):Fe(Ye))):new p.y(Ye=>{const _t=(...sn)=>Ye.next(1===sn.length?sn[0]:sn);let Nt;try{Nt=he(_t)}catch(sn){return void Ye.error(sn)}if((0,Vi.m)(ne))return()=>ne(_t,Nt)})}function ai(he,ne,Fe,Ye,_t){let Nt,sn;return 1==arguments.length?(sn=he.initialState,ne=he.condition,Fe=he.iterate,Nt=he.resultSelector||tt.y,_t=he.scheduler):void 0===Ye||(0,ur.K)(Ye)?(sn=he,Nt=tt.y,_t=Ye):(sn=he,Nt=Ye),new p.y(an=>{let un=sn;if(_t)return _t.schedule(ki,0,{subscriber:an,iterate:Fe,condition:ne,resultSelector:Nt,state:un});for(;;){if(ne){let Ur;try{Ur=ne(un)}catch(Ms){return void an.error(Ms)}if(!Ur){an.complete();break}}let zn;try{zn=Nt(un)}catch(Ur){return void an.error(Ur)}if(an.next(zn),an.closed)break;try{un=Fe(un)}catch(Ur){return void an.error(Ur)}}})}function ki(he){const{subscriber:ne,condition:Fe}=he;if(ne.closed)return;if(he.needIterate)try{he.state=he.iterate(he.state)}catch(_t){return void ne.error(_t)}else he.needIterate=!0;if(Fe){let _t;try{_t=Fe(he.state)}catch(Nt){return void ne.error(Nt)}if(!_t)return void ne.complete();if(ne.closed)return}let Ye;try{Ye=he.resultSelector(he.state)}catch(_t){return void ne.error(_t)}return ne.closed||(ne.next(Ye),ne.closed)?void 0:this.schedule(he)}function eo(he,ne=hi.E,Fe=hi.E){return(0,Ds.P)(()=>he()?ne:Fe)}var Ts=U(4241);function Nr(he=0,ne=X.P){return(!(0,Ts.k)(he)||he<0)&&(he=0),(!ne||"function"!=typeof ne.schedule)&&(ne=X.P),new p.y(Fe=>(Fe.add(ne.schedule(Dn,he,{subscriber:Fe,counter:0,period:he})),Fe))}function Dn(he){const{subscriber:ne,counter:Fe,period:Ye}=he;ne.next(Fe),this.schedule({subscriber:ne,counter:Fe+1,period:Ye},Ye)}var Fn=U(6787);const Kr=new p.y(On.Z);function rs(){return Kr}var Pr=U(1086);function As(...he){if(0===he.length)return hi.E;const[ne,...Fe]=he;return 1===he.length&&(0,Or.k)(ne)?As(...ne):new p.y(Ye=>{const _t=()=>Ye.add(As(...Fe).subscribe(Ye));return(0,ls.D)(ne).subscribe({next(Nt){Ye.next(Nt)},error:_t,complete:_t})})}function Fs(he,ne){return new p.y(ne?Fe=>{const Ye=Object.keys(he),_t=new ar.w;return _t.add(ne.schedule(Ii,0,{keys:Ye,index:0,subscriber:Fe,subscription:_t,obj:he})),_t}:Fe=>{const Ye=Object.keys(he);for(let _t=0;_t<Ye.length&&!Fe.closed;_t++){const Nt=Ye[_t];he.hasOwnProperty(Nt)&&Fe.next([Nt,he[Nt]])}Fe.complete()})}function Ii(he){const{keys:ne,index:Fe,subscriber:Ye,subscription:_t,obj:Nt}=he;if(!Ye.closed)if(Fe<ne.length){const sn=ne[Fe];Ye.next([sn,Nt[sn]]),_t.add(this.schedule({keys:ne,index:Fe+1,subscriber:Ye,subscription:_t,obj:Nt}))}else Ye.complete()}var Yn=U(5884),Vs=U(9249),yr=U(2198);function To(he,ne,Fe){return[(0,yr.h)(ne,Fe)(new p.y((0,Vs.s)(he))),(0,yr.h)((0,Yn.f)(ne,Fe))(new p.y((0,Vs.s)(he)))]}var _n=U(1946);function Ht(he=0,ne,Fe){return new p.y(Ye=>{void 0===ne&&(ne=he,he=0);let _t=0,Nt=he;if(Fe)return Fe.schedule(yn,0,{index:_t,count:ne,start:he,subscriber:Ye});for(;;){if(_t++>=ne){Ye.complete();break}if(Ye.next(Nt++),Ye.closed)break}})}function yn(he){const{start:ne,index:Fe,count:Ye,subscriber:_t}=he;Fe>=Ye?_t.complete():(_t.next(ne),!_t.closed&&(he.index=Fe+1,he.start=ne+1,this.schedule(he)))}var or=U(1737),fr=U(8723);function Sr(he,ne){return new p.y(Fe=>{let Ye,_t;try{Ye=he()}catch(an){return void Fe.error(an)}try{_t=ne(Ye)}catch(an){return void Fe.error(an)}const sn=(_t?(0,ls.D)(_t):hi.E).subscribe(Fe);return()=>{sn.unsubscribe(),Ye&&Ye.unsubscribe()}})}var He=U(1746),Re=U(3998),de=U(2830)},2185:(Kt,Qe,U)=>{"use strict";U.d(Qe,{c:()=>ce});var p=U(8929),Ee=U(4096);class ce extends p.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(xe){return this.hasError?(xe.error(this.thrownError),Ee.w.EMPTY):this.hasCompleted&&this.hasNext?(xe.next(this.value),xe.complete(),Ee.w.EMPTY):super._subscribe(xe)}next(xe){this.hasCompleted||(this.value=xe,this.hasNext=!0)}error(xe){this.hasCompleted||super.error(xe)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},591:(Kt,Qe,U)=>{"use strict";U.d(Qe,{X:()=>ce});var p=U(8929),Ee=U(5279);class ce extends p.xQ{constructor(xe){super(),this._value=xe}get value(){return this.getValue()}_subscribe(xe){const Ae=super._subscribe(xe);return Ae&&!Ae.closed&&xe.next(this._value),Ae}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ee.N;return this._value}next(xe){super.next(this._value=xe)}}},9312:(Kt,Qe,U)=>{"use strict";U.d(Qe,{P:()=>xe,W:()=>De});var p=U(8896),Ee=U(1086),ce=U(1737),De=(()=>{return(Ae=De||(De={})).NEXT="N",Ae.ERROR="E",Ae.COMPLETE="C",De;var Ae})();class xe{constructor(pe,Z,ae){this.kind=pe,this.value=Z,this.error=ae,this.hasValue="N"===pe}observe(pe){switch(this.kind){case"N":return pe.next&&pe.next(this.value);case"E":return pe.error&&pe.error(this.error);case"C":return pe.complete&&pe.complete()}}do(pe,Z,ae){switch(this.kind){case"N":return pe&&pe(this.value);case"E":return Z&&Z(this.error);case"C":return ae&&ae()}}accept(pe,Z,ae){return pe&&"function"==typeof pe.next?this.observe(pe):this.do(pe,Z,ae)}toObservable(){switch(this.kind){case"N":return(0,Ee.of)(this.value);case"E":return(0,ce._)(this.error);case"C":return(0,p.c)()}throw new Error("unexpected notification kind value")}static createNext(pe){return void 0!==pe?new xe("N",pe):xe.undefinedValueNotification}static createError(pe){return new xe("E",void 0,pe)}static createComplete(){return xe.completeNotification}}xe.completeNotification=new xe("C"),xe.undefinedValueNotification=new xe("N",void 0)},4202:(Kt,Qe,U)=>{"use strict";U.d(Qe,{y:()=>ae});var p=U(1601),Ee=U(3489),ce=U(7668),De=U(3292),Ae=U(3821),pe=U(4843),Z=U(2830);let ae=(()=>{class ie{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const We=new ie;return We.source=this,We.operator=Ne,We}subscribe(Ne,We,lt){const{operator:Pt}=this,ct=function xe(ie,fe,Ne){if(ie){if(ie instanceof Ee.L)return ie;if(ie[ce.b])return ie[ce.b]()}return ie||fe||Ne?new Ee.L(ie,fe,Ne):new Ee.L(De.c)}(Ne,We,lt);if(ct.add(Pt?Pt.call(ct,this.source):this.source||Z.v.useDeprecatedSynchronousErrorHandling&&!ct.syncErrorThrowable?this._subscribe(ct):this._trySubscribe(ct)),Z.v.useDeprecatedSynchronousErrorHandling&&ct.syncErrorThrowable&&(ct.syncErrorThrowable=!1,ct.syncErrorThrown))throw ct.syncErrorValue;return ct}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(We){Z.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=We),(0,p._)(Ne)?Ne.error(We):console.warn(We)}}forEach(Ne,We){return new(We=X(We))((lt,Pt)=>{let ct;ct=this.subscribe(jt=>{try{Ne(jt)}catch(bn){Pt(bn),ct&&ct.unsubscribe()}},Pt,lt)})}_subscribe(Ne){const{source:We}=this;return We&&We.subscribe(Ne)}[Ae.L](){return this}pipe(...Ne){return 0===Ne.length?this:(0,pe.U)(Ne)(this)}toPromise(Ne){return new(Ne=X(Ne))((We,lt)=>{let Pt;this.subscribe(ct=>Pt=ct,ct=>lt(ct),()=>We(Pt))})}}return ie.create=fe=>new ie(fe),ie})();function X(ie){if(ie||(ie=Z.v.Promise||Promise),!ie)throw new Error("no Promise impl found");return ie}},3292:(Kt,Qe,U)=>{"use strict";U.d(Qe,{c:()=>ce});var p=U(2830),Ee=U(2782);const ce={closed:!0,next(De){},error(De){if(p.v.useDeprecatedSynchronousErrorHandling)throw De;(0,Ee.z)(De)},complete(){}}},826:(Kt,Qe,U)=>{"use strict";U.d(Qe,{L:()=>Ee});var p=U(3489);class Ee extends p.L{notifyNext(De,xe,Ae,pe,Z){this.destination.next(xe)}notifyError(De,xe){this.destination.error(De)}notifyComplete(De){this.destination.complete()}}},839:(Kt,Qe,U)=>{"use strict";U.d(Qe,{t:()=>pe});var p=U(8929),Ee=U(341),ce=U(4096),De=U(7770),xe=U(5279),Ae=U(5283);class pe extends p.xQ{constructor(X=Number.POSITIVE_INFINITY,ie=Number.POSITIVE_INFINITY,fe){super(),this.scheduler=fe,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=X<1?1:X,this._windowTime=ie<1?1:ie,ie===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(X){if(!this.isStopped){const ie=this._events;ie.push(X),ie.length>this._bufferSize&&ie.shift()}super.next(X)}nextTimeWindow(X){this.isStopped||(this._events.push(new Z(this._getNow(),X)),this._trimBufferThenGetEvents()),super.next(X)}_subscribe(X){const ie=this._infiniteTimeWindow,fe=ie?this._events:this._trimBufferThenGetEvents(),Ne=this.scheduler,We=fe.length;let lt;if(this.closed)throw new xe.N;if(this.isStopped||this.hasError?lt=ce.w.EMPTY:(this.observers.push(X),lt=new Ae.W(this,X)),Ne&&X.add(X=new De.ht(X,Ne)),ie)for(let Pt=0;Pt<We&&!X.closed;Pt++)X.next(fe[Pt]);else for(let Pt=0;Pt<We&&!X.closed;Pt++)X.next(fe[Pt].value);return this.hasError?X.error(this.thrownError):this.isStopped&&X.complete(),lt}_getNow(){return(this.scheduler||Ee.c).now()}_trimBufferThenGetEvents(){const X=this._getNow(),ie=this._bufferSize,fe=this._windowTime,Ne=this._events,We=Ne.length;let lt=0;for(;lt<We&&!(X-Ne[lt].time<fe);)lt++;return We>ie&&(lt=Math.max(lt,We-ie)),lt>0&&Ne.splice(0,lt),Ne}}class Z{constructor(X,ie){this.time=X,this.value=ie}}},2221:(Kt,Qe,U)=>{"use strict";U.d(Qe,{b:()=>p});let p=(()=>{class Ee{constructor(De,xe=Ee.now){this.SchedulerAction=De,this.now=xe}schedule(De,xe=0,Ae){return new this.SchedulerAction(this,De).schedule(Ae,xe)}}return Ee.now=()=>Date.now(),Ee})()},8929:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Yc:()=>pe,xQ:()=>Z});var p=U(4202),Ee=U(3489),ce=U(4096),De=U(5279),xe=U(5283),Ae=U(7668);class pe extends Ee.L{constructor(ie){super(ie),this.destination=ie}}let Z=(()=>{class X extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ae.b](){return new pe(this)}lift(fe){const Ne=new ae(this,this);return Ne.operator=fe,Ne}next(fe){if(this.closed)throw new De.N;if(!this.isStopped){const{observers:Ne}=this,We=Ne.length,lt=Ne.slice();for(let Pt=0;Pt<We;Pt++)lt[Pt].next(fe)}}error(fe){if(this.closed)throw new De.N;this.hasError=!0,this.thrownError=fe,this.isStopped=!0;const{observers:Ne}=this,We=Ne.length,lt=Ne.slice();for(let Pt=0;Pt<We;Pt++)lt[Pt].error(fe);this.observers.length=0}complete(){if(this.closed)throw new De.N;this.isStopped=!0;const{observers:fe}=this,Ne=fe.length,We=fe.slice();for(let lt=0;lt<Ne;lt++)We[lt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(fe){if(this.closed)throw new De.N;return super._trySubscribe(fe)}_subscribe(fe){if(this.closed)throw new De.N;return this.hasError?(fe.error(this.thrownError),ce.w.EMPTY):this.isStopped?(fe.complete(),ce.w.EMPTY):(this.observers.push(fe),new xe.W(this,fe))}asObservable(){const fe=new p.y;return fe.source=this,fe}}return X.create=(ie,fe)=>new ae(ie,fe),X})();class ae extends Z{constructor(ie,fe){super(),this.destination=ie,this.source=fe}next(ie){const{destination:fe}=this;fe&&fe.next&&fe.next(ie)}error(ie){const{destination:fe}=this;fe&&fe.error&&this.destination.error(ie)}complete(){const{destination:ie}=this;ie&&ie.complete&&this.destination.complete()}_subscribe(ie){const{source:fe}=this;return fe?this.source.subscribe(ie):ce.w.EMPTY}}},5283:(Kt,Qe,U)=>{"use strict";U.d(Qe,{W:()=>Ee});var p=U(4096);class Ee extends p.w{constructor(De,xe){super(),this.subject=De,this.subscriber=xe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const De=this.subject,xe=De.observers;if(this.subject=null,!xe||0===xe.length||De.isStopped||De.closed)return;const Ae=xe.indexOf(this.subscriber);-1!==Ae&&xe.splice(Ae,1)}}},3489:(Kt,Qe,U)=>{"use strict";U.d(Qe,{L:()=>pe});var p=U(7043),Ee=U(3292),ce=U(4096),De=U(7668),xe=U(2830),Ae=U(2782);class pe extends ce.w{constructor(X,ie,fe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ee.c;break;case 1:if(!X){this.destination=Ee.c;break}if("object"==typeof X){X instanceof pe?(this.syncErrorThrowable=X.syncErrorThrowable,this.destination=X,X.add(this)):(this.syncErrorThrowable=!0,this.destination=new Z(this,X));break}default:this.syncErrorThrowable=!0,this.destination=new Z(this,X,ie,fe)}}[De.b](){return this}static create(X,ie,fe){const Ne=new pe(X,ie,fe);return Ne.syncErrorThrowable=!1,Ne}next(X){this.isStopped||this._next(X)}error(X){this.isStopped||(this.isStopped=!0,this._error(X))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(X){this.destination.next(X)}_error(X){this.destination.error(X),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:X}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=X,this}}class Z extends pe{constructor(X,ie,fe,Ne){super(),this._parentSubscriber=X;let We,lt=this;(0,p.m)(ie)?We=ie:ie&&(We=ie.next,fe=ie.error,Ne=ie.complete,ie!==Ee.c&&(lt=Object.create(ie),(0,p.m)(lt.unsubscribe)&&this.add(lt.unsubscribe.bind(lt)),lt.unsubscribe=this.unsubscribe.bind(this))),this._context=lt,this._next=We,this._error=fe,this._complete=Ne}next(X){if(!this.isStopped&&this._next){const{_parentSubscriber:ie}=this;xe.v.useDeprecatedSynchronousErrorHandling&&ie.syncErrorThrowable?this.__tryOrSetError(ie,this._next,X)&&this.unsubscribe():this.__tryOrUnsub(this._next,X)}}error(X){if(!this.isStopped){const{_parentSubscriber:ie}=this,{useDeprecatedSynchronousErrorHandling:fe}=xe.v;if(this._error)fe&&ie.syncErrorThrowable?(this.__tryOrSetError(ie,this._error,X),this.unsubscribe()):(this.__tryOrUnsub(this._error,X),this.unsubscribe());else if(ie.syncErrorThrowable)fe?(ie.syncErrorValue=X,ie.syncErrorThrown=!0):(0,Ae.z)(X),this.unsubscribe();else{if(this.unsubscribe(),fe)throw X;(0,Ae.z)(X)}}}complete(){if(!this.isStopped){const{_parentSubscriber:X}=this;if(this._complete){const ie=()=>this._complete.call(this._context);xe.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?(this.__tryOrSetError(X,ie),this.unsubscribe()):(this.__tryOrUnsub(ie),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(X,ie){try{X.call(this._context,ie)}catch(fe){if(this.unsubscribe(),xe.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,Ae.z)(fe)}}__tryOrSetError(X,ie,fe){if(!xe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ie.call(this._context,fe)}catch(Ne){return xe.v.useDeprecatedSynchronousErrorHandling?(X.syncErrorValue=Ne,X.syncErrorThrown=!0,!0):((0,Ae.z)(Ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:X}=this;this._context=null,this._parentSubscriber=null,X.unsubscribe()}}},4096:(Kt,Qe,U)=>{"use strict";U.d(Qe,{w:()=>xe});var pe,p=U(6688),Ee=U(7830),ce=U(7043),De=U(7964);class xe{constructor(Z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Z&&(this._ctorUnsubscribe=!0,this._unsubscribe=Z)}unsubscribe(){let Z;if(this.closed)return;let{_parentOrParents:ae,_ctorUnsubscribe:X,_unsubscribe:ie,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ae instanceof xe)ae.remove(this);else if(null!==ae)for(let Ne=0;Ne<ae.length;++Ne)ae[Ne].remove(this);if((0,ce.m)(ie)){X&&(this._unsubscribe=void 0);try{ie.call(this)}catch(Ne){Z=Ne instanceof De.B?Ae(Ne.errors):[Ne]}}if((0,p.k)(fe)){let Ne=-1,We=fe.length;for(;++Ne<We;){const lt=fe[Ne];if((0,Ee.K)(lt))try{lt.unsubscribe()}catch(Pt){Z=Z||[],Pt instanceof De.B?Z=Z.concat(Ae(Pt.errors)):Z.push(Pt)}}}if(Z)throw new De.B(Z)}add(Z){let ae=Z;if(!Z)return xe.EMPTY;switch(typeof Z){case"function":ae=new xe(Z);case"object":if(ae===this||ae.closed||"function"!=typeof ae.unsubscribe)return ae;if(this.closed)return ae.unsubscribe(),ae;if(!(ae instanceof xe)){const fe=ae;ae=new xe,ae._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+Z+" added to Subscription.")}let{_parentOrParents:X}=ae;if(null===X)ae._parentOrParents=this;else if(X instanceof xe){if(X===this)return ae;ae._parentOrParents=[X,this]}else{if(-1!==X.indexOf(this))return ae;X.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[ae]:ie.push(ae),ae}remove(Z){const ae=this._subscriptions;if(ae){const X=ae.indexOf(Z);-1!==X&&ae.splice(X,1)}}}function Ae(pe){return pe.reduce((Z,ae)=>Z.concat(ae instanceof De.B?ae.errors:ae),[])}xe.EMPTY=((pe=new xe).closed=!0,pe)},2830:(Kt,Qe,U)=>{"use strict";U.d(Qe,{v:()=>Ee});let p=!1;const Ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ce){if(ce){const De=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+De.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=ce},get useDeprecatedSynchronousErrorHandling(){return p}}},1177:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Ds:()=>Ae,IY:()=>De,ft:()=>Z});var p=U(3489),Ee=U(4202),ce=U(9249);class De extends p.L{constructor(X){super(),this.parent=X}_next(X){this.parent.notifyNext(X)}_error(X){this.parent.notifyError(X),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ae extends p.L{notifyNext(X){this.destination.next(X)}notifyError(X){this.destination.error(X)}notifyComplete(){this.destination.complete()}}function Z(ae,X){if(X.closed)return;if(ae instanceof Ee.y)return ae.subscribe(X);let ie;try{ie=(0,ce.s)(ae)(X)}catch(fe){X.error(fe)}return ie}},1762:(Kt,Qe,U)=>{"use strict";U.d(Qe,{N:()=>Ae,c:()=>xe});var p=U(8929),Ee=U(4202),ce=U(4096),De=U(4327);class xe extends Ee.y{constructor(ie,fe){super(),this.source=ie,this.subjectFactory=fe,this._refCount=0,this._isComplete=!1}_subscribe(ie){return this.getSubject().subscribe(ie)}getSubject(){const ie=this._subject;return(!ie||ie.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ie=this._connection;return ie||(this._isComplete=!1,ie=this._connection=new ce.w,ie.add(this.source.subscribe(new pe(this.getSubject(),this))),ie.closed&&(this._connection=null,ie=ce.w.EMPTY)),ie}refCount(){return(0,De.x)()(this)}}const Ae=(()=>{const X=xe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}}})();class pe extends p.Yc{constructor(ie,fe){super(ie),this.connectable=fe}_error(ie){this._unsubscribe(),super._error(ie)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ie=this.connectable;if(ie){this.connectable=null;const fe=ie._connection;ie._refCount=0,ie._subject=null,ie._connection=null,fe&&fe.unsubscribe()}}}},6053:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Ms:()=>Z,aj:()=>pe});var p=U(2866),Ee=U(6688),ce=U(826),De=U(448),xe=U(3009);const Ae={};function pe(...X){let ie,fe;return(0,p.K)(X[X.length-1])&&(fe=X.pop()),"function"==typeof X[X.length-1]&&(ie=X.pop()),1===X.length&&(0,Ee.k)(X[0])&&(X=X[0]),(0,xe.n)(X,fe).lift(new Z(ie))}class Z{constructor(ie){this.resultSelector=ie}call(ie,fe){return fe.subscribe(new ae(ie,this.resultSelector))}}class ae extends ce.L{constructor(ie,fe){super(ie),this.resultSelector=fe,this.active=0,this.values=[],this.observables=[]}_next(ie){this.values.push(Ae),this.observables.push(ie)}_complete(){const ie=this.observables,fe=ie.length;if(0===fe)this.destination.complete();else{this.active=fe,this.toRespond=fe;for(let Ne=0;Ne<fe;Ne++)this.add((0,De.D)(this,ie[Ne],void 0,Ne))}}notifyComplete(ie){0==(this.active-=1)&&this.destination.complete()}notifyNext(ie,fe,Ne){const We=this.values,Pt=this.toRespond?We[Ne]===Ae?--this.toRespond:this.toRespond:0;We[Ne]=fe,0===Pt&&(this.resultSelector?this._tryResultSelector(We):this.destination.next(We.slice()))}_tryResultSelector(ie){let fe;try{fe=this.resultSelector.apply(this,ie)}catch(Ne){return void this.destination.error(Ne)}this.destination.next(fe)}}},1961:(Kt,Qe,U)=>{"use strict";U.d(Qe,{z:()=>ce});var p=U(1086),Ee=U(534);function ce(...De){return(0,Ee.u)()((0,p.of)(...De))}},8514:(Kt,Qe,U)=>{"use strict";U.d(Qe,{P:()=>De});var p=U(4202),Ee=U(3527),ce=U(8896);function De(xe){return new p.y(Ae=>{let pe;try{pe=xe()}catch(ae){return void Ae.error(ae)}return(pe?(0,Ee.D)(pe):(0,ce.c)()).subscribe(Ae)})}},8896:(Kt,Qe,U)=>{"use strict";U.d(Qe,{E:()=>Ee,c:()=>ce});var p=U(4202);const Ee=new p.y(xe=>xe.complete());function ce(xe){return xe?function De(xe){return new p.y(Ae=>xe.schedule(()=>Ae.complete()))}(xe):Ee}},567:(Kt,Qe,U)=>{"use strict";U.d(Qe,{D:()=>Ae});var p=U(4202),Ee=U(6688),ce=U(4850),De=U(7830),xe=U(3527);function Ae(...Z){if(1===Z.length){const ae=Z[0];if((0,Ee.k)(ae))return pe(ae,null);if((0,De.K)(ae)&&Object.getPrototypeOf(ae)===Object.prototype){const X=Object.keys(ae);return pe(X.map(ie=>ae[ie]),X)}}if("function"==typeof Z[Z.length-1]){const ae=Z.pop();return pe(Z=1===Z.length&&(0,Ee.k)(Z[0])?Z[0]:Z,null).pipe((0,ce.U)(X=>ae(...X)))}return pe(Z,null)}function pe(Z,ae){return new p.y(X=>{const ie=Z.length;if(0===ie)return void X.complete();const fe=new Array(ie);let Ne=0,We=0;for(let lt=0;lt<ie;lt++){const Pt=(0,xe.D)(Z[lt]);let ct=!1;X.add(Pt.subscribe({next:jt=>{ct||(ct=!0,We++),fe[lt]=jt},error:jt=>X.error(jt),complete:()=>{Ne++,(Ne===ie||!ct)&&(We===ie&&X.next(ae?ae.reduce((jt,bn,nr)=>(jt[bn]=fe[nr],jt),{}):fe),X.complete())}}))}})}},3527:(Kt,Qe,U)=>{"use strict";U.d(Qe,{D:()=>De});var p=U(4202),Ee=U(9249),ce=U(3998);function De(xe,Ae){return Ae?(0,ce.x)(xe,Ae):xe instanceof p.y?xe:new p.y((0,Ee.s)(xe))}},3009:(Kt,Qe,U)=>{"use strict";U.d(Qe,{n:()=>De});var p=U(4202),Ee=U(3650),ce=U(6454);function De(xe,Ae){return Ae?(0,ce.r)(xe,Ae):new p.y((0,Ee.V)(xe))}},6787:(Kt,Qe,U)=>{"use strict";U.d(Qe,{T:()=>xe});var p=U(4202),Ee=U(2866),ce=U(9146),De=U(3009);function xe(...Ae){let pe=Number.POSITIVE_INFINITY,Z=null,ae=Ae[Ae.length-1];return(0,Ee.K)(ae)?(Z=Ae.pop(),Ae.length>1&&"number"==typeof Ae[Ae.length-1]&&(pe=Ae.pop())):"number"==typeof ae&&(pe=Ae.pop()),null===Z&&1===Ae.length&&Ae[0]instanceof p.y?Ae[0]:(0,ce.J)(pe)((0,De.n)(Ae,Z))}},1086:(Kt,Qe,U)=>{"use strict";U.d(Qe,{of:()=>De});var p=U(2866),Ee=U(3009),ce=U(6454);function De(...xe){let Ae=xe[xe.length-1];return(0,p.K)(Ae)?(xe.pop(),(0,ce.r)(xe,Ae)):(0,Ee.n)(xe)}},1946:(Kt,Qe,U)=>{"use strict";U.d(Qe,{S3:()=>xe});var p=U(6688),Ee=U(3009),ce=U(826),De=U(448);function xe(...Z){if(1===Z.length){if(!(0,p.k)(Z[0]))return Z[0];Z=Z[0]}return(0,Ee.n)(Z,void 0).lift(new Ae)}class Ae{call(ae,X){return X.subscribe(new pe(ae))}}class pe extends ce.L{constructor(ae){super(ae),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(ae){this.observables.push(ae)}_complete(){const ae=this.observables,X=ae.length;if(0===X)this.destination.complete();else{for(let ie=0;ie<X&&!this.hasFirst;ie++){const Ne=(0,De.D)(this,ae[ie],void 0,ie);this.subscriptions&&this.subscriptions.push(Ne),this.add(Ne)}this.observables=null}}notifyNext(ae,X,ie){if(!this.hasFirst){this.hasFirst=!0;for(let fe=0;fe<this.subscriptions.length;fe++)if(fe!==ie){let Ne=this.subscriptions[fe];Ne.unsubscribe(),this.remove(Ne)}this.subscriptions=null}this.destination.next(X)}}},1737:(Kt,Qe,U)=>{"use strict";U.d(Qe,{_:()=>Ee});var p=U(4202);function Ee(De,xe){return new p.y(xe?Ae=>xe.schedule(ce,0,{error:De,subscriber:Ae}):Ae=>Ae.error(De))}function ce({error:De,subscriber:xe}){xe.error(De)}},8723:(Kt,Qe,U)=>{"use strict";U.d(Qe,{H:()=>xe});var p=U(4202),Ee=U(353),ce=U(4241),De=U(2866);function xe(pe=0,Z,ae){let X=-1;return(0,ce.k)(Z)?X=Number(Z)<1?1:Number(Z):(0,De.K)(Z)&&(ae=Z),(0,De.K)(ae)||(ae=Ee.P),new p.y(ie=>{const fe=(0,ce.k)(pe)?pe:+pe-ae.now();return ae.schedule(Ae,fe,{index:0,period:X,subscriber:ie})})}function Ae(pe){const{index:Z,period:ae,subscriber:X}=pe;if(X.next(Z),!X.closed){if(-1===ae)return X.complete();pe.index=Z+1,this.schedule(pe,ae)}}},1746:(Kt,Qe,U)=>{"use strict";U.d(Qe,{$R:()=>Ae,mx:()=>pe});var p=U(3009),Ee=U(6688),ce=U(3489),De=U(5430),xe=U(1177);function Ae(...fe){const Ne=fe[fe.length-1];return"function"==typeof Ne&&fe.pop(),(0,p.n)(fe,void 0).lift(new pe(Ne))}class pe{constructor(Ne){this.resultSelector=Ne}call(Ne,We){return We.subscribe(new Z(Ne,this.resultSelector))}}class Z extends ce.L{constructor(Ne,We,lt=Object.create(null)){super(Ne),this.resultSelector=We,this.iterators=[],this.active=0,this.resultSelector="function"==typeof We?We:void 0}_next(Ne){const We=this.iterators;(0,Ee.k)(Ne)?We.push(new X(Ne)):We.push("function"==typeof Ne[De.hZ]?new ae(Ne[De.hZ]()):new ie(this.destination,this,Ne))}_complete(){const Ne=this.iterators,We=Ne.length;if(this.unsubscribe(),0!==We){this.active=We;for(let lt=0;lt<We;lt++){let Pt=Ne[lt];Pt.stillUnsubscribed?this.destination.add(Pt.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const Ne=this.iterators,We=Ne.length,lt=this.destination;for(let jt=0;jt<We;jt++){let bn=Ne[jt];if("function"==typeof bn.hasValue&&!bn.hasValue())return}let Pt=!1;const ct=[];for(let jt=0;jt<We;jt++){let bn=Ne[jt],nr=bn.next();if(bn.hasCompleted()&&(Pt=!0),nr.done)return void lt.complete();ct.push(nr.value)}this.resultSelector?this._tryresultSelector(ct):lt.next(ct),Pt&&lt.complete()}_tryresultSelector(Ne){let We;try{We=this.resultSelector.apply(this,Ne)}catch(lt){return void this.destination.error(lt)}this.destination.next(We)}}class ae{constructor(Ne){this.iterator=Ne,this.nextResult=Ne.next()}hasValue(){return!0}next(){const Ne=this.nextResult;return this.nextResult=this.iterator.next(),Ne}hasCompleted(){const Ne=this.nextResult;return Boolean(Ne&&Ne.done)}}class X{constructor(Ne){this.array=Ne,this.index=0,this.length=0,this.length=Ne.length}[De.hZ](){return this}next(Ne){const We=this.index++;return We<this.length?{value:this.array[We],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ie extends xe.Ds{constructor(Ne,We,lt){super(Ne),this.parent=We,this.observable=lt,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[De.hZ](){return this}next(){const Ne=this.buffer;return 0===Ne.length&&this.isComplete?{value:null,done:!0}:{value:Ne.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(Ne){this.buffer.push(Ne),this.parent.checkIterators()}subscribe(){return(0,xe.ft)(this.observable,new xe.IY(this))}}},7221:(Kt,Qe,U)=>{"use strict";U.d(Qe,{K:()=>Ee});var p=U(1177);function Ee(xe){return function(pe){const Z=new ce(xe),ae=pe.lift(Z);return Z.caught=ae}}class ce{constructor(Ae){this.selector=Ae}call(Ae,pe){return pe.subscribe(new De(Ae,this.selector,this.caught))}}class De extends p.Ds{constructor(Ae,pe,Z){super(Ae),this.selector=pe,this.caught=Z}error(Ae){if(!this.isStopped){let pe;try{pe=this.selector(Ae,this.caught)}catch(X){return void super.error(X)}this._unsubscribeAndRecycle();const Z=new p.IY(this);this.add(Z);const ae=(0,p.ft)(pe,Z);ae!==Z&&this.add(ae)}}}},534:(Kt,Qe,U)=>{"use strict";U.d(Qe,{u:()=>Ee});var p=U(9146);function Ee(){return(0,p.J)(1)}},1406:(Kt,Qe,U)=>{"use strict";U.d(Qe,{b:()=>Ee});var p=U(1709);function Ee(ce,De){return(0,p.zg)(ce,De,1)}},7314:(Kt,Qe,U)=>{"use strict";U.d(Qe,{d:()=>Ee});var p=U(3489);function Ee(xe=null){return Ae=>Ae.lift(new ce(xe))}class ce{constructor(Ae){this.defaultValue=Ae}call(Ae,pe){return pe.subscribe(new De(Ae,this.defaultValue))}}class De extends p.L{constructor(Ae,pe){super(Ae),this.defaultValue=pe,this.isEmpty=!0}_next(Ae){this.isEmpty=!1,this.destination.next(Ae)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Kt,Qe,U)=>{"use strict";U.d(Qe,{x:()=>Ee});var p=U(3489);function Ee(xe,Ae){return pe=>pe.lift(new ce(xe,Ae))}class ce{constructor(Ae,pe){this.compare=Ae,this.keySelector=pe}call(Ae,pe){return pe.subscribe(new De(Ae,this.compare,this.keySelector))}}class De extends p.L{constructor(Ae,pe,Z){super(Ae),this.keySelector=Z,this.hasKey=!1,"function"==typeof pe&&(this.compare=pe)}compare(Ae,pe){return Ae===pe}_next(Ae){let pe;try{const{keySelector:ae}=this;pe=ae?ae(Ae):Ae}catch(ae){return this.destination.error(ae)}let Z=!1;if(this.hasKey)try{const{compare:ae}=this;Z=ae(this.key,pe)}catch(ae){return this.destination.error(ae)}else this.hasKey=!0;Z||(this.key=pe,this.destination.next(Ae))}}},2198:(Kt,Qe,U)=>{"use strict";U.d(Qe,{h:()=>Ee});var p=U(3489);function Ee(xe,Ae){return function(Z){return Z.lift(new ce(xe,Ae))}}class ce{constructor(Ae,pe){this.predicate=Ae,this.thisArg=pe}call(Ae,pe){return pe.subscribe(new De(Ae,this.predicate,this.thisArg))}}class De extends p.L{constructor(Ae,pe,Z){super(Ae),this.predicate=pe,this.thisArg=Z,this.count=0}_next(Ae){let pe;try{pe=this.predicate.call(this.thisArg,Ae,this.count++)}catch(Z){return void this.destination.error(Z)}pe&&this.destination.next(Ae)}}},537:(Kt,Qe,U)=>{"use strict";U.d(Qe,{x:()=>ce});var p=U(3489),Ee=U(4096);function ce(Ae){return pe=>pe.lift(new De(Ae))}class De{constructor(pe){this.callback=pe}call(pe,Z){return Z.subscribe(new xe(pe,this.callback))}}class xe extends p.L{constructor(pe,Z){super(pe),this.add(new Ee.w(Z))}}},7224:(Kt,Qe,U)=>{"use strict";U.d(Qe,{P:()=>pe});var p=U(4450),Ee=U(2198),ce=U(2986),De=U(7314),xe=U(4907),Ae=U(5379);function pe(Z,ae){const X=arguments.length>=2;return ie=>ie.pipe(Z?(0,Ee.h)((fe,Ne)=>Z(fe,Ne,ie)):Ae.y,(0,ce.q)(1),X?(0,De.d)(ae):(0,xe.T)(()=>new p.K))}},4002:(Kt,Qe,U)=>{"use strict";U.d(Qe,{T:()=>ae,v:()=>xe});var p=U(3489),Ee=U(4096),ce=U(4202),De=U(8929);function xe(ie,fe,Ne,We){return lt=>lt.lift(new Ae(ie,fe,Ne,We))}class Ae{constructor(fe,Ne,We,lt){this.keySelector=fe,this.elementSelector=Ne,this.durationSelector=We,this.subjectSelector=lt}call(fe,Ne){return Ne.subscribe(new pe(fe,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class pe extends p.L{constructor(fe,Ne,We,lt,Pt){super(fe),this.keySelector=Ne,this.elementSelector=We,this.durationSelector=lt,this.subjectSelector=Pt,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(fe){let Ne;try{Ne=this.keySelector(fe)}catch(We){return void this.error(We)}this._group(fe,Ne)}_group(fe,Ne){let We=this.groups;We||(We=this.groups=new Map);let Pt,lt=We.get(Ne);if(this.elementSelector)try{Pt=this.elementSelector(fe)}catch(ct){this.error(ct)}else Pt=fe;if(!lt){lt=this.subjectSelector?this.subjectSelector():new De.xQ,We.set(Ne,lt);const ct=new ae(Ne,lt,this);if(this.destination.next(ct),this.durationSelector){let jt;try{jt=this.durationSelector(new ae(Ne,lt))}catch(bn){return void this.error(bn)}this.add(jt.subscribe(new Z(Ne,lt,this)))}}lt.closed||lt.next(Pt)}_error(fe){const Ne=this.groups;Ne&&(Ne.forEach((We,lt)=>{We.error(fe)}),Ne.clear()),this.destination.error(fe)}_complete(){const fe=this.groups;fe&&(fe.forEach((Ne,We)=>{Ne.complete()}),fe.clear()),this.destination.complete()}removeGroup(fe){this.groups.delete(fe)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Z extends p.L{constructor(fe,Ne,We){super(Ne),this.key=fe,this.group=Ne,this.parent=We}_next(fe){this.complete()}_unsubscribe(){const{parent:fe,key:Ne}=this;this.key=this.parent=null,fe&&fe.removeGroup(Ne)}}class ae extends ce.y{constructor(fe,Ne,We){super(),this.key=fe,this.groupSubject=Ne,this.refCountSubscription=We}_subscribe(fe){const Ne=new Ee.w,{refCountSubscription:We,groupSubject:lt}=this;return We&&!We.closed&&Ne.add(new X(We)),Ne.add(lt.subscribe(fe)),Ne}}class X extends Ee.w{constructor(fe){super(),this.parent=fe,fe.count++}unsubscribe(){const fe=this.parent;!fe.closed&&!this.closed&&(super.unsubscribe(),fe.count-=1,0===fe.count&&fe.attemptedToUnsubscribe&&fe.unsubscribe())}}},8127:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Z:()=>pe});var p=U(4450),Ee=U(2198),ce=U(2821),De=U(4907),xe=U(7314),Ae=U(5379);function pe(Z,ae){const X=arguments.length>=2;return ie=>ie.pipe(Z?(0,Ee.h)((fe,Ne)=>Z(fe,Ne,ie)):Ae.y,(0,ce.h)(1),X?(0,xe.d)(ae):(0,De.T)(()=>new p.K))}},4850:(Kt,Qe,U)=>{"use strict";U.d(Qe,{U:()=>Ee});var p=U(3489);function Ee(xe,Ae){return function(Z){if("function"!=typeof xe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Z.lift(new ce(xe,Ae))}}class ce{constructor(Ae,pe){this.project=Ae,this.thisArg=pe}call(Ae,pe){return pe.subscribe(new De(Ae,this.project,this.thisArg))}}class De extends p.L{constructor(Ae,pe,Z){super(Ae),this.project=pe,this.count=0,this.thisArg=Z||this}_next(Ae){let pe;try{pe=this.project.call(this.thisArg,Ae,this.count++)}catch(Z){return void this.destination.error(Z)}this.destination.next(pe)}}},9146:(Kt,Qe,U)=>{"use strict";U.d(Qe,{J:()=>ce});var p=U(1709),Ee=U(5379);function ce(De=Number.POSITIVE_INFINITY){return(0,p.zg)(Ee.y,De)}},1709:(Kt,Qe,U)=>{"use strict";U.d(Qe,{VS:()=>pe,zg:()=>De});var p=U(4850),Ee=U(3527),ce=U(1177);function De(Z,ae,X=Number.POSITIVE_INFINITY){return"function"==typeof ae?ie=>ie.pipe(De((fe,Ne)=>(0,Ee.D)(Z(fe,Ne)).pipe((0,p.U)((We,lt)=>ae(fe,We,Ne,lt))),X)):("number"==typeof ae&&(X=ae),ie=>ie.lift(new xe(Z,X)))}class xe{constructor(ae,X=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=X}call(ae,X){return X.subscribe(new Ae(ae,this.project,this.concurrent))}}class Ae extends ce.Ds{constructor(ae,X,ie=Number.POSITIVE_INFINITY){super(ae),this.project=X,this.concurrent=ie,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let X;const ie=this.index++;try{X=this.project(ae,ie)}catch(fe){return void this.destination.error(fe)}this.active++,this._innerSub(X)}_innerSub(ae){const X=new ce.IY(this),ie=this.destination;ie.add(X);const fe=(0,ce.ft)(ae,X);fe!==X&&ie.add(fe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae){this.destination.next(ae)}notifyComplete(){const ae=this.buffer;this.active--,ae.length>0?this._next(ae.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const pe=De},2536:(Kt,Qe,U)=>{"use strict";U.d(Qe,{O:()=>Ee});var p=U(1762);function Ee(De,xe){return function(pe){let Z;if(Z="function"==typeof De?De:function(){return De},"function"==typeof xe)return pe.lift(new ce(Z,xe));const ae=Object.create(pe,p.N);return ae.source=pe,ae.subjectFactory=Z,ae}}class ce{constructor(xe,Ae){this.subjectFactory=xe,this.selector=Ae}call(xe,Ae){const{selector:pe}=this,Z=this.subjectFactory(),ae=pe(Z).subscribe(xe);return ae.add(Ae.subscribe(Z)),ae}}},7770:(Kt,Qe,U)=>{"use strict";U.d(Qe,{QV:()=>ce,ht:()=>xe});var p=U(3489),Ee=U(9312);function ce(pe,Z=0){return function(X){return X.lift(new De(pe,Z))}}class De{constructor(Z,ae=0){this.scheduler=Z,this.delay=ae}call(Z,ae){return ae.subscribe(new xe(Z,this.scheduler,this.delay))}}class xe extends p.L{constructor(Z,ae,X=0){super(Z),this.scheduler=ae,this.delay=X}static dispatch(Z){const{notification:ae,destination:X}=Z;ae.observe(X),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule(xe.dispatch,this.delay,new Ae(Z,this.destination)))}_next(Z){this.scheduleMessage(Ee.P.createNext(Z))}_error(Z){this.scheduleMessage(Ee.P.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(Ee.P.createComplete()),this.unsubscribe()}}class Ae{constructor(Z,ae){this.notification=Z,this.destination=ae}}},519:(Kt,Qe,U)=>{"use strict";U.d(Qe,{G:()=>Ee});var p=U(3489);function Ee(){return xe=>xe.lift(new ce)}class ce{call(Ae,pe){return pe.subscribe(new De(Ae))}}class De extends p.L{constructor(Ae){super(Ae),this.hasPrev=!1}_next(Ae){let pe;this.hasPrev?pe=[this.prev,Ae]:this.hasPrev=!0,this.prev=Ae,pe&&this.destination.next(pe)}}},4327:(Kt,Qe,U)=>{"use strict";U.d(Qe,{x:()=>Ee});var p=U(3489);function Ee(){return function(Ae){return Ae.lift(new ce(Ae))}}class ce{constructor(Ae){this.connectable=Ae}call(Ae,pe){const{connectable:Z}=this;Z._refCount++;const ae=new De(Ae,Z),X=pe.subscribe(ae);return ae.closed||(ae.connection=Z.connect()),X}}class De extends p.L{constructor(Ae,pe){super(Ae),this.connectable=pe}_unsubscribe(){const{connectable:Ae}=this;if(!Ae)return void(this.connection=null);this.connectable=null;const pe=Ae._refCount;if(pe<=0)return void(this.connection=null);if(Ae._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:Z}=this,ae=Ae._connection;this.connection=null,ae&&(!Z||ae===Z)&&ae.unsubscribe()}}},2014:(Kt,Qe,U)=>{"use strict";U.d(Qe,{R:()=>Ee});var p=U(3489);function Ee(xe,Ae){let pe=!1;return arguments.length>=2&&(pe=!0),function(ae){return ae.lift(new ce(xe,Ae,pe))}}class ce{constructor(Ae,pe,Z=!1){this.accumulator=Ae,this.seed=pe,this.hasSeed=Z}call(Ae,pe){return pe.subscribe(new De(Ae,this.accumulator,this.seed,this.hasSeed))}}class De extends p.L{constructor(Ae,pe,Z,ae){super(Ae),this.accumulator=pe,this._seed=Z,this.hasSeed=ae,this.index=0}get seed(){return this._seed}set seed(Ae){this.hasSeed=!0,this._seed=Ae}_next(Ae){if(this.hasSeed)return this._tryNext(Ae);this.seed=Ae,this.destination.next(Ae)}_tryNext(Ae){const pe=this.index++;let Z;try{Z=this.accumulator(this.seed,Ae,pe)}catch(ae){this.destination.error(ae)}this.seed=Z,this.destination.next(Z)}}},8117:(Kt,Qe,U)=>{"use strict";U.d(Qe,{B:()=>xe});var p=U(2536),Ee=U(4327),ce=U(8929);function De(){return new ce.xQ}function xe(){return Ae=>(0,Ee.x)()((0,p.O)(De)(Ae))}},5154:(Kt,Qe,U)=>{"use strict";U.d(Qe,{d:()=>Ee});var p=U(839);function Ee(De,xe,Ae){let pe;return pe=De&&"object"==typeof De?De:{bufferSize:De,windowTime:xe,refCount:!1,scheduler:Ae},Z=>Z.lift(function ce({bufferSize:De=Number.POSITIVE_INFINITY,windowTime:xe=Number.POSITIVE_INFINITY,refCount:Ae,scheduler:pe}){let Z,X,ae=0,ie=!1,fe=!1;return function(We){let lt;ae++,!Z||ie?(ie=!1,Z=new p.t(De,xe,pe),lt=Z.subscribe(this),X=We.subscribe({next(Pt){Z.next(Pt)},error(Pt){ie=!0,Z.error(Pt)},complete(){fe=!0,X=void 0,Z.complete()}}),fe&&(X=void 0)):lt=Z.subscribe(this),this.add(()=>{ae--,lt.unsubscribe(),lt=void 0,X&&!fe&&Ae&&0===ae&&(X.unsubscribe(),X=void 0,Z=void 0)})}}(pe))}},9403:(Kt,Qe,U)=>{"use strict";U.d(Qe,{n:()=>Ee});var p=U(3489);function Ee(xe){return Ae=>Ae.lift(new ce(xe))}class ce{constructor(Ae){this.predicate=Ae}call(Ae,pe){return pe.subscribe(new De(Ae,this.predicate))}}class De extends p.L{constructor(Ae,pe){super(Ae),this.predicate=pe,this.skipping=!0,this.index=0}_next(Ae){const pe=this.destination;this.skipping&&this.tryCallPredicate(Ae),this.skipping||pe.next(Ae)}tryCallPredicate(Ae){try{const pe=this.predicate(Ae,this.index++);this.skipping=Boolean(pe)}catch(pe){this.destination.error(pe)}}}},1059:(Kt,Qe,U)=>{"use strict";U.d(Qe,{O:()=>ce});var p=U(1961),Ee=U(2866);function ce(...De){const xe=De[De.length-1];return(0,Ee.K)(xe)?(De.pop(),Ae=>(0,p.z)(De,Ae,xe)):Ae=>(0,p.z)(De,Ae)}},3334:(Kt,Qe,U)=>{"use strict";U.d(Qe,{R:()=>xe});var p=U(4202),Ee=U(8139),ce=U(4241);class De extends p.y{constructor(Z,ae=0,X=Ee.e){super(),this.source=Z,this.delayTime=ae,this.scheduler=X,(!(0,ce.k)(ae)||ae<0)&&(this.delayTime=0),(!X||"function"!=typeof X.schedule)&&(this.scheduler=Ee.e)}static create(Z,ae=0,X=Ee.e){return new De(Z,ae,X)}static dispatch(Z){const{source:ae,subscriber:X}=Z;return this.add(ae.subscribe(X))}_subscribe(Z){return this.scheduler.schedule(De.dispatch,this.delayTime,{source:this.source,subscriber:Z})}}function xe(pe,Z=0){return function(X){return X.lift(new Ae(pe,Z))}}class Ae{constructor(Z,ae){this.scheduler=Z,this.delay=ae}call(Z,ae){return new De(ae,this.delay,this.scheduler).subscribe(Z)}}},7545:(Kt,Qe,U)=>{"use strict";U.d(Qe,{w:()=>De});var p=U(4850),Ee=U(3527),ce=U(1177);function De(pe,Z){return"function"==typeof Z?ae=>ae.pipe(De((X,ie)=>(0,Ee.D)(pe(X,ie)).pipe((0,p.U)((fe,Ne)=>Z(X,fe,ie,Ne))))):ae=>ae.lift(new xe(pe))}class xe{constructor(Z){this.project=Z}call(Z,ae){return ae.subscribe(new Ae(Z,this.project))}}class Ae extends ce.Ds{constructor(Z,ae){super(Z),this.project=ae,this.index=0}_next(Z){let ae;const X=this.index++;try{ae=this.project(Z,X)}catch(ie){return void this.destination.error(ie)}this._innerSub(ae)}_innerSub(Z){const ae=this.innerSubscription;ae&&ae.unsubscribe();const X=new ce.IY(this),ie=this.destination;ie.add(X),this.innerSubscription=(0,ce.ft)(Z,X),this.innerSubscription!==X&&ie.add(this.innerSubscription)}_complete(){const{innerSubscription:Z}=this;(!Z||Z.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Z){this.destination.next(Z)}}},2313:(Kt,Qe,U)=>{"use strict";U.d(Qe,{c:()=>Ee});var p=U(7545);function Ee(ce,De){return De?(0,p.w)(()=>ce,De):(0,p.w)(()=>ce)}},2986:(Kt,Qe,U)=>{"use strict";U.d(Qe,{q:()=>De});var p=U(3489),Ee=U(4231),ce=U(8896);function De(pe){return Z=>0===pe?(0,ce.c)():Z.lift(new xe(pe))}class xe{constructor(Z){if(this.total=Z,this.total<0)throw new Ee.W}call(Z,ae){return ae.subscribe(new Ae(Z,this.total))}}class Ae extends p.L{constructor(Z,ae){super(Z),this.total=ae,this.count=0}_next(Z){const ae=this.total,X=++this.count;X<=ae&&(this.destination.next(Z),X===ae&&(this.destination.complete(),this.unsubscribe()))}}},2821:(Kt,Qe,U)=>{"use strict";U.d(Qe,{h:()=>De});var p=U(3489),Ee=U(4231),ce=U(8896);function De(pe){return function(ae){return 0===pe?(0,ce.c)():ae.lift(new xe(pe))}}class xe{constructor(Z){if(this.total=Z,this.total<0)throw new Ee.W}call(Z,ae){return ae.subscribe(new Ae(Z,this.total))}}class Ae extends p.L{constructor(Z,ae){super(Z),this.total=ae,this.ring=new Array,this.count=0}_next(Z){const ae=this.ring,X=this.total,ie=this.count++;ae.length<X?ae.push(Z):ae[ie%X]=Z}_complete(){const Z=this.destination;let ae=this.count;if(ae>0){const X=this.count>=this.total?this.total:this.count,ie=this.ring;for(let fe=0;fe<X;fe++){const Ne=ae++%X;Z.next(ie[Ne])}}Z.complete()}}},2994:(Kt,Qe,U)=>{"use strict";U.d(Qe,{b:()=>De});var p=U(3489),Ee=U(7876),ce=U(7043);function De(pe,Z,ae){return function(ie){return ie.lift(new xe(pe,Z,ae))}}class xe{constructor(Z,ae,X){this.nextOrObserver=Z,this.error=ae,this.complete=X}call(Z,ae){return ae.subscribe(new Ae(Z,this.nextOrObserver,this.error,this.complete))}}class Ae extends p.L{constructor(Z,ae,X,ie){super(Z),this._tapNext=Ee.Z,this._tapError=Ee.Z,this._tapComplete=Ee.Z,this._tapError=X||Ee.Z,this._tapComplete=ie||Ee.Z,(0,ce.m)(ae)?(this._context=this,this._tapNext=ae):ae&&(this._context=ae,this._tapNext=ae.next||Ee.Z,this._tapError=ae.error||Ee.Z,this._tapComplete=ae.complete||Ee.Z)}_next(Z){try{this._tapNext.call(this._context,Z)}catch(ae){return void this.destination.error(ae)}this.destination.next(Z)}_error(Z){try{this._tapError.call(this._context,Z)}catch(ae){return void this.destination.error(ae)}this.destination.error(Z)}_complete(){try{this._tapComplete.call(this._context)}catch(Z){return void this.destination.error(Z)}return this.destination.complete()}}},4907:(Kt,Qe,U)=>{"use strict";U.d(Qe,{T:()=>ce});var p=U(4450),Ee=U(3489);function ce(pe=Ae){return Z=>Z.lift(new De(pe))}class De{constructor(Z){this.errorFactory=Z}call(Z,ae){return ae.subscribe(new xe(Z,this.errorFactory))}}class xe extends Ee.L{constructor(Z,ae){super(Z),this.errorFactory=ae,this.hasValue=!1}_next(Z){this.hasValue=!0,this.destination.next(Z)}_complete(){if(this.hasValue)return this.destination.complete();{let Z;try{Z=this.errorFactory()}catch(ae){Z=ae}this.destination.error(Z)}}}function Ae(){return new p.K}},7168:(Kt,Qe,U)=>{"use strict";U.d(Qe,{M:()=>ce});var p=U(826),Ee=U(448);function ce(...Ae){return pe=>{let Z;return"function"==typeof Ae[Ae.length-1]&&(Z=Ae.pop()),pe.lift(new De(Ae,Z))}}class De{constructor(pe,Z){this.observables=pe,this.project=Z}call(pe,Z){return Z.subscribe(new xe(pe,this.observables,this.project))}}class xe extends p.L{constructor(pe,Z,ae){super(pe),this.observables=Z,this.project=ae,this.toRespond=[];const X=Z.length;this.values=new Array(X);for(let ie=0;ie<X;ie++)this.toRespond.push(ie);for(let ie=0;ie<X;ie++)this.add((0,Ee.D)(this,Z[ie],void 0,ie))}notifyNext(pe,Z,ae){this.values[ae]=Z;const X=this.toRespond;if(X.length>0){const ie=X.indexOf(ae);-1!==ie&&X.splice(ie,1)}}notifyComplete(){}_next(pe){if(0===this.toRespond.length){const Z=[pe,...this.values];this.project?this._tryProject(Z):this.destination.next(Z)}}_tryProject(pe){let Z;try{Z=this.project.apply(this,pe)}catch(ae){return void this.destination.error(ae)}this.destination.next(Z)}}},6454:(Kt,Qe,U)=>{"use strict";U.d(Qe,{r:()=>ce});var p=U(4202),Ee=U(4096);function ce(De,xe){return new p.y(Ae=>{const pe=new Ee.w;let Z=0;return pe.add(xe.schedule(function(){Z!==De.length?(Ae.next(De[Z++]),Ae.closed||pe.add(this.schedule())):Ae.complete()})),pe})}},3998:(Kt,Qe,U)=>{"use strict";U.d(Qe,{x:()=>Ne});var p=U(4202),Ee=U(4096),ce=U(3821),Ae=U(6454),pe=U(5430),X=U(8955),ie=U(8515);function Ne(We,lt){if(null!=We){if(function ae(We){return We&&"function"==typeof We[ce.L]}(We))return function De(We,lt){return new p.y(Pt=>{const ct=new Ee.w;return ct.add(lt.schedule(()=>{const jt=We[ce.L]();ct.add(jt.subscribe({next(bn){ct.add(lt.schedule(()=>Pt.next(bn)))},error(bn){ct.add(lt.schedule(()=>Pt.error(bn)))},complete(){ct.add(lt.schedule(()=>Pt.complete()))}}))})),ct})}(We,lt);if((0,X.t)(We))return function xe(We,lt){return new p.y(Pt=>{const ct=new Ee.w;return ct.add(lt.schedule(()=>We.then(jt=>{ct.add(lt.schedule(()=>{Pt.next(jt),ct.add(lt.schedule(()=>Pt.complete()))}))},jt=>{ct.add(lt.schedule(()=>Pt.error(jt)))}))),ct})}(We,lt);if((0,ie.z)(We))return(0,Ae.r)(We,lt);if(function fe(We){return We&&"function"==typeof We[pe.hZ]}(We)||"string"==typeof We)return function Z(We,lt){if(!We)throw new Error("Iterable cannot be null");return new p.y(Pt=>{const ct=new Ee.w;let jt;return ct.add(()=>{jt&&"function"==typeof jt.return&&jt.return()}),ct.add(lt.schedule(()=>{jt=We[pe.hZ](),ct.add(lt.schedule(function(){if(Pt.closed)return;let bn,nr;try{const ar=jt.next();bn=ar.value,nr=ar.done}catch(ar){return void Pt.error(ar)}nr?Pt.complete():(Pt.next(bn),this.schedule())}))})),ct})}(We,lt)}throw new TypeError((null!==We&&typeof We||We)+" is not observable")}},6686:(Kt,Qe,U)=>{"use strict";U.d(Qe,{o:()=>ce});var p=U(4096);class Ee extends p.w{constructor(xe,Ae){super()}schedule(xe,Ae=0){return this}}class ce extends Ee{constructor(xe,Ae){super(xe,Ae),this.scheduler=xe,this.work=Ae,this.pending=!1}schedule(xe,Ae=0){if(this.closed)return this;this.state=xe;const pe=this.id,Z=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(Z,pe,Ae)),this.pending=!0,this.delay=Ae,this.id=this.id||this.requestAsyncId(Z,this.id,Ae),this}requestAsyncId(xe,Ae,pe=0){return setInterval(xe.flush.bind(xe,this),pe)}recycleAsyncId(xe,Ae,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return Ae;clearInterval(Ae)}execute(xe,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(xe,Ae);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,Ae){let Z,pe=!1;try{this.work(xe)}catch(ae){pe=!0,Z=!!ae&&ae||new Error(ae)}if(pe)return this.unsubscribe(),Z}_unsubscribe(){const xe=this.id,Ae=this.scheduler,pe=Ae.actions,Z=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Z&&pe.splice(Z,1),null!=xe&&(this.id=this.recycleAsyncId(Ae,xe,null)),this.delay=null}}},198:(Kt,Qe,U)=>{"use strict";U.d(Qe,{v:()=>Ee});var p=U(2221);class Ee extends p.b{constructor(De,xe=p.b.now){super(De,()=>Ee.delegate&&Ee.delegate!==this?Ee.delegate.now():xe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(De,xe=0,Ae){return Ee.delegate&&Ee.delegate!==this?Ee.delegate.schedule(De,xe,Ae):super.schedule(De,xe,Ae)}flush(De){const{actions:xe}=this;if(this.active)return void xe.push(De);let Ae;this.active=!0;do{if(Ae=De.execute(De.state,De.delay))break}while(De=xe.shift());if(this.active=!1,Ae){for(;De=xe.shift();)De.unsubscribe();throw Ae}}}},8139:(Kt,Qe,U)=>{"use strict";U.d(Qe,{e:()=>fe,E:()=>ie});let p=1;const Ee=Promise.resolve(),ce={};function De(Ne){return Ne in ce&&(delete ce[Ne],!0)}const xe={setImmediate(Ne){const We=p++;return ce[We]=!0,Ee.then(()=>De(We)&&Ne()),We},clearImmediate(Ne){De(Ne)}};var pe=U(6686),ae=U(198);const ie=new class X extends ae.v{flush(We){this.active=!0,this.scheduled=void 0;const{actions:lt}=this;let Pt,ct=-1,jt=lt.length;We=We||lt.shift();do{if(Pt=We.execute(We.state,We.delay))break}while(++ct<jt&&(We=lt.shift()));if(this.active=!1,Pt){for(;++ct<jt&&(We=lt.shift());)We.unsubscribe();throw Pt}}}(class Z extends pe.o{constructor(We,lt){super(We,lt),this.scheduler=We,this.work=lt}requestAsyncId(We,lt,Pt=0){return null!==Pt&&Pt>0?super.requestAsyncId(We,lt,Pt):(We.actions.push(this),We.scheduled||(We.scheduled=xe.setImmediate(We.flush.bind(We,null))))}recycleAsyncId(We,lt,Pt=0){if(null!==Pt&&Pt>0||null===Pt&&this.delay>0)return super.recycleAsyncId(We,lt,Pt);0===We.actions.length&&(xe.clearImmediate(lt),We.scheduled=void 0)}}),fe=ie},353:(Kt,Qe,U)=>{"use strict";U.d(Qe,{P:()=>De,z:()=>ce});var p=U(6686);const ce=new(U(198).v)(p.o),De=ce},341:(Kt,Qe,U)=>{"use strict";U.d(Qe,{c:()=>Ae,N:()=>xe});var p=U(6686),ce=U(198);const xe=new class De extends ce.v{}(class Ee extends p.o{constructor(Z,ae){super(Z,ae),this.scheduler=Z,this.work=ae}schedule(Z,ae=0){return ae>0?super.schedule(Z,ae):(this.delay=ae,this.state=Z,this.scheduler.flush(this),this)}execute(Z,ae){return ae>0||this.closed?super.execute(Z,ae):this._execute(Z,ae)}requestAsyncId(Z,ae,X=0){return null!==X&&X>0||null===X&&this.delay>0?super.requestAsyncId(Z,ae,X):Z.flush(this)}}),Ae=xe},5430:(Kt,Qe,U)=>{"use strict";U.d(Qe,{hZ:()=>Ee});const Ee=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Kt,Qe,U)=>{"use strict";U.d(Qe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Kt,Qe,U)=>{"use strict";U.d(Qe,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Kt,Qe,U)=>{"use strict";U.d(Qe,{W:()=>Ee});const Ee=(()=>{function ce(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ce.prototype=Object.create(Error.prototype),ce})()},4450:(Kt,Qe,U)=>{"use strict";U.d(Qe,{K:()=>Ee});const Ee=(()=>{function ce(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return ce.prototype=Object.create(Error.prototype),ce})()},5279:(Kt,Qe,U)=>{"use strict";U.d(Qe,{N:()=>Ee});const Ee=(()=>{function ce(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ce.prototype=Object.create(Error.prototype),ce})()},854:(Kt,Qe,U)=>{"use strict";U.d(Qe,{W:()=>Ee});const Ee=(()=>{function ce(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return ce.prototype=Object.create(Error.prototype),ce})()},7964:(Kt,Qe,U)=>{"use strict";U.d(Qe,{B:()=>Ee});const Ee=(()=>{function ce(De){return Error.call(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((xe,Ae)=>`${Ae+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De,this}return ce.prototype=Object.create(Error.prototype),ce})()},1601:(Kt,Qe,U)=>{"use strict";U.d(Qe,{_:()=>Ee});var p=U(3489);function Ee(ce){for(;ce;){const{closed:De,destination:xe,isStopped:Ae}=ce;if(De||Ae)return!1;ce=xe&&xe instanceof p.L?xe:null}return!0}},2782:(Kt,Qe,U)=>{"use strict";function p(Ee){setTimeout(()=>{throw Ee},0)}U.d(Qe,{z:()=>p})},5379:(Kt,Qe,U)=>{"use strict";function p(Ee){return Ee}U.d(Qe,{y:()=>p})},6688:(Kt,Qe,U)=>{"use strict";U.d(Qe,{k:()=>p});const p=Array.isArray||(Ee=>Ee&&"number"==typeof Ee.length)},8515:(Kt,Qe,U)=>{"use strict";U.d(Qe,{z:()=>p});const p=Ee=>Ee&&"number"==typeof Ee.length&&"function"!=typeof Ee},7043:(Kt,Qe,U)=>{"use strict";function p(Ee){return"function"==typeof Ee}U.d(Qe,{m:()=>p})},4241:(Kt,Qe,U)=>{"use strict";U.d(Qe,{k:()=>Ee});var p=U(6688);function Ee(ce){return!(0,p.k)(ce)&&ce-parseFloat(ce)+1>=0}},7830:(Kt,Qe,U)=>{"use strict";function p(Ee){return null!==Ee&&"object"==typeof Ee}U.d(Qe,{K:()=>p})},8955:(Kt,Qe,U)=>{"use strict";function p(Ee){return!!Ee&&"function"!=typeof Ee.subscribe&&"function"==typeof Ee.then}U.d(Qe,{t:()=>p})},2866:(Kt,Qe,U)=>{"use strict";function p(Ee){return Ee&&"function"==typeof Ee.schedule}U.d(Qe,{K:()=>p})},7876:(Kt,Qe,U)=>{"use strict";function p(){}U.d(Qe,{Z:()=>p})},5884:(Kt,Qe,U)=>{"use strict";function p(Ee,ce){function De(){return!De.pred.apply(De.thisArg,arguments)}return De.pred=Ee,De.thisArg=ce,De}U.d(Qe,{f:()=>p})},4843:(Kt,Qe,U)=>{"use strict";U.d(Qe,{U:()=>ce,z:()=>Ee});var p=U(5379);function Ee(...De){return ce(De)}function ce(De){return 0===De.length?p.y:1===De.length?De[0]:function(Ae){return De.reduce((pe,Z)=>Z(pe),Ae)}}},9249:(Kt,Qe,U)=>{"use strict";U.d(Qe,{s:()=>ie});var p=U(3650),Ee=U(2782),De=U(5430),Ae=U(3821),Z=U(8515),ae=U(8955),X=U(7830);const ie=fe=>{if(fe&&"function"==typeof fe[Ae.L])return(fe=>Ne=>{const We=fe[Ae.L]();if("function"!=typeof We.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return We.subscribe(Ne)})(fe);if((0,Z.z)(fe))return(0,p.V)(fe);if((0,ae.t)(fe))return(fe=>Ne=>(fe.then(We=>{Ne.closed||(Ne.next(We),Ne.complete())},We=>Ne.error(We)).then(null,Ee.z),Ne))(fe);if(fe&&"function"==typeof fe[De.hZ])return(fe=>Ne=>{const We=fe[De.hZ]();for(;;){let lt;try{lt=We.next()}catch(Pt){return Ne.error(Pt),Ne}if(lt.done){Ne.complete();break}if(Ne.next(lt.value),Ne.closed)break}return"function"==typeof We.return&&Ne.add(()=>{We.return&&We.return()}),Ne})(fe);{const We=`You provided ${(0,X.K)(fe)?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(We)}}},3650:(Kt,Qe,U)=>{"use strict";U.d(Qe,{V:()=>p});const p=Ee=>ce=>{for(let De=0,xe=Ee.length;De<xe&&!ce.closed;De++)ce.next(Ee[De]);ce.complete()}},448:(Kt,Qe,U)=>{"use strict";U.d(Qe,{D:()=>xe});var p=U(3489);class Ee extends p.L{constructor(pe,Z,ae){super(),this.parent=pe,this.outerValue=Z,this.outerIndex=ae,this.index=0}_next(pe){this.parent.notifyNext(this.outerValue,pe,this.outerIndex,this.index++,this)}_error(pe){this.parent.notifyError(pe,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ce=U(9249),De=U(4202);function xe(Ae,pe,Z,ae,X=new Ee(Ae,Z,ae)){if(!X.closed)return pe instanceof De.y?pe.subscribe(X):(0,ce.s)(pe)(X)}},7690:(Kt,Qe,U)=>{"use strict";U.r(Qe),U.d(Qe,{audit:()=>Ee,auditTime:()=>pe,buffer:()=>Z,bufferCount:()=>fe,bufferTime:()=>ct,bufferToggle:()=>zt,bufferWhen:()=>ft,catchError:()=>Jt.K,combineAll:()=>Or,combineLatest:()=>qi,concat:()=>jr,concatAll:()=>ns.u,concatMap:()=>wr.b,concatMapTo:()=>Cr,count:()=>bs,debounce:()=>hi,debounceTime:()=>Vi,defaultIfEmpty:()=>oi.d,delay:()=>Js,delayWhen:()=>Nr,dematerialize:()=>Pr,distinct:()=>Ii,distinctUntilChanged:()=>yr.x,distinctUntilKeyChanged:()=>To,elementAt:()=>fr,endWith:()=>He,every:()=>Re,exhaust:()=>ne,exhaustMap:()=>Nt,expand:()=>un,filter:()=>Ht.h,finalize:()=>Ms.x,find:()=>js,findIndex:()=>Hu,first:()=>Xo.P,flatMap:()=>po.VS,groupBy:()=>Cn.v,ignoreElements:()=>je,isEmpty:()=>Qn,last:()=>Qr.Z,map:()=>_t.U,mapTo:()=>Bi,materialize:()=>Za,max:()=>no,merge:()=>fo,mergeAll:()=>pd.J,mergeMap:()=>po.zg,mergeMapTo:()=>Ja,mergeScan:()=>FA,min:()=>el,multicast:()=>_c.O,observeOn:()=>md.QV,onErrorResumeNext:()=>Hf,pairwise:()=>fg.G,partition:()=>Vu,pluck:()=>jf,publish:()=>Ih,publishBehavior:()=>jm,publishLast:()=>Gf,publishReplay:()=>Wf,race:()=>MA,reduce:()=>Jo,refCount:()=>va.x,repeat:()=>yd,repeatWhen:()=>wl,retry:()=>zf,retryWhen:()=>Mo,sample:()=>Zc,sampleTime:()=>wd,scan:()=>Xa.R,sequenceEqual:()=>rl,share:()=>NA.B,shareReplay:()=>Qi.d,single:()=>Sh,skip:()=>Ed,skipLast:()=>ea,skipUntil:()=>xh,skipWhile:()=>Dh.n,startWith:()=>vr.O,subscribeOn:()=>eu.R,switchAll:()=>Id,switchMap:()=>Th.w,switchMapTo:()=>Fh.c,take:()=>or.q,takeLast:()=>to.h,takeUntil:()=>Bd,takeWhile:()=>Lt,tap:()=>hs.b,throttle:()=>Wo,throttleTime:()=>ds,throwIfEmpty:()=>yn.T,timeInterval:()=>Gs,timeout:()=>Nh,timeoutWith:()=>Bl,timestamp:()=>Zf,toArray:()=>il,window:()=>Ws,windowCount:()=>nu,windowTime:()=>iu,windowToggle:()=>Gm,windowWhen:()=>rv,withLatestFrom:()=>RA.M,zip:()=>su,zipAll:()=>Dd});var p=U(1177);function Ee(we){return function(H){return H.lift(new ce(we))}}class ce{constructor(F){this.durationSelector=F}call(F,H){return H.subscribe(new De(F,this.durationSelector))}}class De extends p.Ds{constructor(F,H){super(F),this.durationSelector=H,this.hasValue=!1}_next(F){if(this.value=F,this.hasValue=!0,!this.throttled){let H;try{const{durationSelector:pt}=this;H=pt(F)}catch(pt){return this.destination.error(pt)}const _e=(0,p.ft)(H,new p.IY(this));!_e||_e.closed?this.clearThrottle():this.add(this.throttled=_e)}}clearThrottle(){const{value:F,hasValue:H,throttled:_e}=this;_e&&(this.remove(_e),this.throttled=void 0,_e.unsubscribe()),H&&(this.value=void 0,this.hasValue=!1,this.destination.next(F))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var xe=U(353),Ae=U(8723);function pe(we,F=xe.P){return Ee(()=>(0,Ae.H)(we,F))}function Z(we){return function(H){return H.lift(new ae(we))}}class ae{constructor(F){this.closingNotifier=F}call(F,H){return H.subscribe(new X(F,this.closingNotifier))}}class X extends p.Ds{constructor(F,H){super(F),this.buffer=[],this.add((0,p.ft)(H,new p.IY(this)))}_next(F){this.buffer.push(F)}notifyNext(){const F=this.buffer;this.buffer=[],this.destination.next(F)}}var ie=U(3489);function fe(we,F=null){return function(_e){return _e.lift(new Ne(we,F))}}class Ne{constructor(F,H){this.bufferSize=F,this.startBufferEvery=H,this.subscriberClass=H&&F!==H?lt:We}call(F,H){return H.subscribe(new this.subscriberClass(F,this.bufferSize,this.startBufferEvery))}}class We extends ie.L{constructor(F,H){super(F),this.bufferSize=H,this.buffer=[]}_next(F){const H=this.buffer;H.push(F),H.length==this.bufferSize&&(this.destination.next(H),this.buffer=[])}_complete(){const F=this.buffer;F.length>0&&this.destination.next(F),super._complete()}}class lt extends ie.L{constructor(F,H,_e){super(F),this.bufferSize=H,this.startBufferEvery=_e,this.buffers=[],this.count=0}_next(F){const{bufferSize:H,startBufferEvery:_e,buffers:pt,count:nn}=this;this.count++,nn%_e==0&&pt.push([]);for(let Zn=pt.length;Zn--;){const bi=pt[Zn];bi.push(F),bi.length===H&&(pt.splice(Zn,1),this.destination.next(bi))}}_complete(){const{buffers:F,destination:H}=this;for(;F.length>0;){let _e=F.shift();_e.length>0&&H.next(_e)}super._complete()}}var Pt=U(2866);function ct(we){let F=arguments.length,H=xe.P;(0,Pt.K)(arguments[arguments.length-1])&&(H=arguments[arguments.length-1],F--);let _e=null;F>=2&&(_e=arguments[1]);let pt=Number.POSITIVE_INFINITY;return F>=3&&(pt=arguments[2]),function(Zn){return Zn.lift(new jt(we,_e,pt,H))}}class jt{constructor(F,H,_e,pt){this.bufferTimeSpan=F,this.bufferCreationInterval=H,this.maxBufferSize=_e,this.scheduler=pt}call(F,H){return H.subscribe(new nr(F,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class bn{constructor(){this.buffer=[]}}class nr extends ie.L{constructor(F,H,_e,pt,nn){super(F),this.bufferTimeSpan=H,this.bufferCreationInterval=_e,this.maxBufferSize=pt,this.scheduler=nn,this.contexts=[];const Zn=this.openContext();if(this.timespanOnly=null==_e||_e<0,this.timespanOnly)this.add(Zn.closeAction=nn.schedule(ar,H,{subscriber:this,context:Zn,bufferTimeSpan:H}));else{const na={bufferTimeSpan:H,bufferCreationInterval:_e,subscriber:this,scheduler:nn};this.add(Zn.closeAction=nn.schedule(Dr,H,{subscriber:this,context:Zn})),this.add(nn.schedule(cr,_e,na))}}_next(F){const H=this.contexts,_e=H.length;let pt;for(let nn=0;nn<_e;nn++){const Zn=H[nn],bi=Zn.buffer;bi.push(F),bi.length==this.maxBufferSize&&(pt=Zn)}pt&&this.onBufferFull(pt)}_error(F){this.contexts.length=0,super._error(F)}_complete(){const{contexts:F,destination:H}=this;for(;F.length>0;){const _e=F.shift();H.next(_e.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(F){this.closeContext(F);const H=F.closeAction;if(H.unsubscribe(),this.remove(H),!this.closed&&this.timespanOnly){F=this.openContext();const _e=this.bufferTimeSpan;this.add(F.closeAction=this.scheduler.schedule(ar,_e,{subscriber:this,context:F,bufferTimeSpan:_e}))}}openContext(){const F=new bn;return this.contexts.push(F),F}closeContext(F){this.destination.next(F.buffer);const H=this.contexts;(H?H.indexOf(F):-1)>=0&&H.splice(H.indexOf(F),1)}}function ar(we){const F=we.subscriber,H=we.context;H&&F.closeContext(H),F.closed||(we.context=F.openContext(),we.context.closeAction=this.schedule(we,we.bufferTimeSpan))}function cr(we){const{bufferCreationInterval:F,bufferTimeSpan:H,subscriber:_e,scheduler:pt}=we,nn=_e.openContext();_e.closed||(_e.add(nn.closeAction=pt.schedule(Dr,H,{subscriber:_e,context:nn})),this.schedule(we,F))}function Dr(we){const{subscriber:F,context:H}=we;F.closeContext(H)}var Tr=U(4096),On=U(448),tt=U(826);function zt(we,F){return function(_e){return _e.lift(new it(we,F))}}class it{constructor(F,H){this.openings=F,this.closingSelector=H}call(F,H){return H.subscribe(new wt(F,this.openings,this.closingSelector))}}class wt extends tt.L{constructor(F,H,_e){super(F),this.closingSelector=_e,this.contexts=[],this.add((0,On.D)(this,H))}_next(F){const H=this.contexts,_e=H.length;for(let pt=0;pt<_e;pt++)H[pt].buffer.push(F)}_error(F){const H=this.contexts;for(;H.length>0;){const _e=H.shift();_e.subscription.unsubscribe(),_e.buffer=null,_e.subscription=null}this.contexts=null,super._error(F)}_complete(){const F=this.contexts;for(;F.length>0;){const H=F.shift();this.destination.next(H.buffer),H.subscription.unsubscribe(),H.buffer=null,H.subscription=null}this.contexts=null,super._complete()}notifyNext(F,H){F?this.closeBuffer(F):this.openBuffer(H)}notifyComplete(F){this.closeBuffer(F.context)}openBuffer(F){try{const _e=this.closingSelector.call(this,F);_e&&this.trySubscribe(_e)}catch(H){this._error(H)}}closeBuffer(F){const H=this.contexts;if(H&&F){const{buffer:_e,subscription:pt}=F;this.destination.next(_e),H.splice(H.indexOf(F),1),this.remove(pt),pt.unsubscribe()}}trySubscribe(F){const H=this.contexts,pt=new Tr.w,nn={buffer:[],subscription:pt};H.push(nn);const Zn=(0,On.D)(this,F,nn);!Zn||Zn.closed?this.closeBuffer(nn):(Zn.context=nn,this.add(Zn),pt.add(Zn))}}function ft(we){return function(F){return F.lift(new kt(we))}}class kt{constructor(F){this.closingSelector=F}call(F,H){return H.subscribe(new xt(F,this.closingSelector))}}class xt extends p.Ds{constructor(F,H){super(F),this.closingSelector=H,this.subscribing=!1,this.openBuffer()}_next(F){this.buffer.push(F)}_complete(){const F=this.buffer;F&&this.destination.next(F),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let _e,{closingSubscription:F}=this;F&&(this.remove(F),F.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:pt}=this;_e=pt()}catch(pt){return this.error(pt)}F=new Tr.w,this.closingSubscription=F,this.add(F),this.subscribing=!0,F.add((0,p.ft)(_e,new p.IY(this))),this.subscribing=!1}}var Jt=U(7221),Ln=U(6053);function Or(we){return F=>F.lift(new Ln.Ms(we))}var ur=U(6688),mn=U(3527);function qi(...we){let F=null;return"function"==typeof we[we.length-1]&&(F=we.pop()),1===we.length&&(0,ur.k)(we[0])&&(we=we[0].slice()),H=>H.lift.call((0,mn.D)([H,...we]),new Ln.Ms(F))}var si=U(1961);function jr(...we){return F=>F.lift.call((0,si.z)(F,...we))}var ns=U(534),wr=U(1406);function Cr(we,F){return(0,wr.b)(()=>we,F)}function bs(we){return F=>F.lift(new Na(we,F))}class Na{constructor(F,H){this.predicate=F,this.source=H}call(F,H){return H.subscribe(new Ds(F,this.predicate,this.source))}}class Ds extends ie.L{constructor(F,H,_e){super(F),this.predicate=H,this.source=_e,this.count=0,this.index=0}_next(F){this.predicate?this._tryPredicate(F):this.count++}_tryPredicate(F){let H;try{H=this.predicate(F,this.index++,this.source)}catch(_e){return void this.destination.error(_e)}H&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function hi(we){return F=>F.lift(new Qs(we))}class Qs{constructor(F){this.durationSelector=F}call(F,H){return H.subscribe(new ls(F,this.durationSelector))}}class ls extends p.Ds{constructor(F,H){super(F),this.durationSelector=H,this.hasValue=!1}_next(F){try{const H=this.durationSelector.call(this,F);H&&this._tryNext(F,H)}catch(H){this.destination.error(H)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(F,H){let _e=this.durationSubscription;this.value=F,this.hasValue=!0,_e&&(_e.unsubscribe(),this.remove(_e)),_e=(0,p.ft)(H,new p.IY(this)),_e&&!_e.closed&&this.add(this.durationSubscription=_e)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const F=this.value,H=this.durationSubscription;H&&(this.durationSubscription=void 0,H.unsubscribe(),this.remove(H)),this.value=void 0,this.hasValue=!1,super._next(F)}}}function Vi(we,F=xe.P){return H=>H.lift(new Hs(we,F))}class Hs{constructor(F,H){this.dueTime=F,this.scheduler=H}call(F,H){return H.subscribe(new er(F,this.dueTime,this.scheduler))}}class er extends ie.L{constructor(F,H,_e){super(F),this.dueTime=H,this.scheduler=_e,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(F){this.clearDebounce(),this.lastValue=F,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cs,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:F}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(F)}}clearDebounce(){const F=this.debouncedSubscription;null!==F&&(this.remove(F),F.unsubscribe(),this.debouncedSubscription=null)}}function cs(we){we.debouncedNext()}var oi=U(7314);function Fi(we){return we instanceof Date&&!isNaN(+we)}var us=U(9312);function Js(we,F=xe.P){const _e=Fi(we)?+we-F.now():Math.abs(we);return pt=>pt.lift(new ai(_e,F))}class ai{constructor(F,H){this.delay=F,this.scheduler=H}call(F,H){return H.subscribe(new ki(F,this.delay,this.scheduler))}}class ki extends ie.L{constructor(F,H,_e){super(F),this.delay=H,this.scheduler=_e,this.queue=[],this.active=!1,this.errored=!1}static dispatch(F){const H=F.source,_e=H.queue,pt=F.scheduler,nn=F.destination;for(;_e.length>0&&_e[0].time-pt.now()<=0;)_e.shift().notification.observe(nn);if(_e.length>0){const Zn=Math.max(0,_e[0].time-pt.now());this.schedule(F,Zn)}else this.unsubscribe(),H.active=!1}_schedule(F){this.active=!0,this.destination.add(F.schedule(ki.dispatch,this.delay,{source:this,destination:this.destination,scheduler:F}))}scheduleNotification(F){if(!0===this.errored)return;const H=this.scheduler,_e=new eo(H.now()+this.delay,F);this.queue.push(_e),!1===this.active&&this._schedule(H)}_next(F){this.scheduleNotification(us.P.createNext(F))}_error(F){this.errored=!0,this.queue=[],this.destination.error(F),this.unsubscribe()}_complete(){this.scheduleNotification(us.P.createComplete()),this.unsubscribe()}}class eo{constructor(F,H){this.time=F,this.notification=H}}var Ts=U(4202);function Nr(we,F){return F?H=>new Kr(H,F).lift(new Dn(we)):H=>H.lift(new Dn(we))}class Dn{constructor(F){this.delayDurationSelector=F}call(F,H){return H.subscribe(new Fn(F,this.delayDurationSelector))}}class Fn extends tt.L{constructor(F,H){super(F),this.delayDurationSelector=H,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(F,H,_e,pt,nn){this.destination.next(F),this.removeSubscription(nn),this.tryComplete()}notifyError(F,H){this._error(F)}notifyComplete(F){const H=this.removeSubscription(F);H&&this.destination.next(H),this.tryComplete()}_next(F){const H=this.index++;try{const _e=this.delayDurationSelector(F,H);_e&&this.tryDelay(_e,F)}catch(_e){this.destination.error(_e)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(F){F.unsubscribe();const H=this.delayNotifierSubscriptions.indexOf(F);return-1!==H&&this.delayNotifierSubscriptions.splice(H,1),F.outerValue}tryDelay(F,H){const _e=(0,On.D)(this,F,H);_e&&!_e.closed&&(this.destination.add(_e),this.delayNotifierSubscriptions.push(_e))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class Kr extends Ts.y{constructor(F,H){super(),this.source=F,this.subscriptionDelay=H}_subscribe(F){this.subscriptionDelay.subscribe(new rs(F,this.source))}}class rs extends ie.L{constructor(F,H){super(),this.parent=F,this.source=H,this.sourceSubscribed=!1}_next(F){this.subscribeToSource()}_error(F){this.unsubscribe(),this.parent.error(F)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Pr(){return function(F){return F.lift(new As)}}class As{call(F,H){return H.subscribe(new Fs(F))}}class Fs extends ie.L{constructor(F){super(F)}_next(F){F.observe(this.destination)}}function Ii(we,F){return H=>H.lift(new Yn(we,F))}class Yn{constructor(F,H){this.keySelector=F,this.flushes=H}call(F,H){return H.subscribe(new Vs(F,this.keySelector,this.flushes))}}class Vs extends p.Ds{constructor(F,H,_e){super(F),this.keySelector=H,this.values=new Set,_e&&this.add((0,p.ft)(_e,new p.IY(this)))}notifyNext(){this.values.clear()}notifyError(F){this._error(F)}_next(F){this.keySelector?this._useKeySelector(F):this._finalizeNext(F,F)}_useKeySelector(F){let H;const{destination:_e}=this;try{H=this.keySelector(F)}catch(pt){return void _e.error(pt)}this._finalizeNext(H,F)}_finalizeNext(F,H){const{values:_e}=this;_e.has(F)||(_e.add(F),this.destination.next(H))}}var yr=U(5778);function To(we,F){return(0,yr.x)((H,_e)=>F?F(H[we],_e[we]):H[we]===_e[we])}var _n=U(4231),Ht=U(2198),yn=U(4907),or=U(2986);function fr(we,F){if(we<0)throw new _n.W;const H=arguments.length>=2;return _e=>_e.pipe((0,Ht.h)((pt,nn)=>nn===we),(0,or.q)(1),H?(0,oi.d)(F):(0,yn.T)(()=>new _n.W))}var Sr=U(1086);function He(...we){return F=>(0,si.z)(F,(0,Sr.of)(...we))}function Re(we,F){return H=>H.lift(new de(we,F,H))}class de{constructor(F,H,_e){this.predicate=F,this.thisArg=H,this.source=_e}call(F,H){return H.subscribe(new he(F,this.predicate,this.thisArg,this.source))}}class he extends ie.L{constructor(F,H,_e,pt){super(F),this.predicate=H,this.thisArg=_e,this.source=pt,this.index=0,this.thisArg=_e||this}notifyComplete(F){this.destination.next(F),this.destination.complete()}_next(F){let H=!1;try{H=this.predicate.call(this.thisArg,F,this.index++,this.source)}catch(_e){return void this.destination.error(_e)}H||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ne(){return we=>we.lift(new Fe)}class Fe{call(F,H){return H.subscribe(new Ye(F))}}class Ye extends p.Ds{constructor(F){super(F),this.hasCompleted=!1,this.hasSubscription=!1}_next(F){this.hasSubscription||(this.hasSubscription=!0,this.add((0,p.ft)(F,new p.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var _t=U(4850);function Nt(we,F){return F?H=>H.pipe(Nt((_e,pt)=>(0,mn.D)(we(_e,pt)).pipe((0,_t.U)((nn,Zn)=>F(_e,nn,pt,Zn))))):H=>H.lift(new sn(we))}class sn{constructor(F){this.project=F}call(F,H){return H.subscribe(new an(F,this.project))}}class an extends p.Ds{constructor(F,H){super(F),this.project=H,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(F){this.hasSubscription||this.tryNext(F)}tryNext(F){let H;const _e=this.index++;try{H=this.project(F,_e)}catch(pt){return void this.destination.error(pt)}this.hasSubscription=!0,this._innerSub(H)}_innerSub(F){const H=new p.IY(this),_e=this.destination;_e.add(H);const pt=(0,p.ft)(F,H);pt!==H&&_e.add(pt)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function un(we,F=Number.POSITIVE_INFINITY,H){return F=(F||0)<1?Number.POSITIVE_INFINITY:F,_e=>_e.lift(new zn(we,F,H))}class zn{constructor(F,H,_e){this.project=F,this.concurrent=H,this.scheduler=_e}call(F,H){return H.subscribe(new Ur(F,this.project,this.concurrent,this.scheduler))}}class Ur extends p.Ds{constructor(F,H,_e,pt){super(F),this.project=H,this.concurrent=_e,this.scheduler=pt,this.index=0,this.active=0,this.hasCompleted=!1,_e<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(F){const{subscriber:H,result:_e,value:pt,index:nn}=F;H.subscribeToProjection(_e,pt,nn)}_next(F){const H=this.destination;if(H.closed)return void this._complete();const _e=this.index++;if(this.active<this.concurrent){H.next(F);try{const{project:pt}=this,nn=pt(F,_e);this.scheduler?this.destination.add(this.scheduler.schedule(Ur.dispatch,0,{subscriber:this,result:nn,value:F,index:_e})):this.subscribeToProjection(nn,F,_e)}catch(pt){H.error(pt)}}else this.buffer.push(F)}subscribeToProjection(F,H,_e){this.active++,this.destination.add((0,p.ft)(F,new p.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(F){this._next(F)}notifyComplete(){const F=this.buffer;this.active--,F&&F.length>0&&this._next(F.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Ms=U(537);function js(we,F){if("function"!=typeof we)throw new TypeError("predicate is not a function");return H=>H.lift(new Vo(we,H,!1,F))}class Vo{constructor(F,H,_e,pt){this.predicate=F,this.source=H,this.yieldIndex=_e,this.thisArg=pt}call(F,H){return H.subscribe(new Ks(F,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Ks extends ie.L{constructor(F,H,_e,pt,nn){super(F),this.predicate=H,this.source=_e,this.yieldIndex=pt,this.thisArg=nn,this.index=0}notifyComplete(F){const H=this.destination;H.next(F),H.complete(),this.unsubscribe()}_next(F){const{predicate:H,thisArg:_e}=this,pt=this.index++;try{H.call(_e||this,F,pt,this.source)&&this.notifyComplete(this.yieldIndex?pt:F)}catch(nn){this.destination.error(nn)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Hu(we,F){return H=>H.lift(new Vo(we,H,!0,F))}var Xo=U(7224),Cn=U(4002);function je(){return function(F){return F.lift(new St)}}class St{call(F,H){return H.subscribe(new $t(F))}}class $t extends ie.L{_next(F){}}function Qn(){return we=>we.lift(new Rr)}class Rr{call(F,H){return H.subscribe(new Vr(F))}}class Vr extends ie.L{constructor(F){super(F)}notifyComplete(F){const H=this.destination;H.next(F),H.complete()}_next(F){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Qr=U(8127);function Bi(we){return F=>F.lift(new jo(we))}class jo{constructor(F){this.value=F}call(F,H){return H.subscribe(new ir(F,this.value))}}class ir extends ie.L{constructor(F,H){super(F),this.value=H}_next(F){this.destination.next(this.value)}}function Za(){return function(F){return F.lift(new Pa)}}class Pa{call(F,H){return H.subscribe(new fd(F))}}class fd extends ie.L{constructor(F){super(F)}_next(F){this.destination.next(us.P.createNext(F))}_error(F){const H=this.destination;H.next(us.P.createError(F)),H.complete()}_complete(){const F=this.destination;F.next(us.P.createComplete()),F.complete()}}var Xa=U(2014),to=U(2821),Oa=U(4843);function Jo(we,F){return arguments.length>=2?function(_e){return(0,Oa.z)((0,Xa.R)(we,F),(0,to.h)(1),(0,oi.d)(F))(_e)}:function(_e){return(0,Oa.z)((0,Xa.R)((pt,nn,Zn)=>we(pt,nn,Zn+1)),(0,to.h)(1))(_e)}}function no(we){return Jo("function"==typeof we?(H,_e)=>we(H,_e)>0?H:_e:(H,_e)=>H>_e?H:_e)}var ji=U(6787);function fo(...we){return F=>F.lift.call((0,ji.T)(F,...we))}var pd=U(9146),po=U(1709);function Ja(we,F,H=Number.POSITIVE_INFINITY){return"function"==typeof F?(0,po.zg)(()=>we,F,H):("number"==typeof F&&(H=F),(0,po.zg)(()=>we,H))}function FA(we,F,H=Number.POSITIVE_INFINITY){return _e=>_e.lift(new gd(we,F,H))}class gd{constructor(F,H,_e){this.accumulator=F,this.seed=H,this.concurrent=_e}call(F,H){return H.subscribe(new $c(F,this.accumulator,this.seed,this.concurrent))}}class $c extends p.Ds{constructor(F,H,_e,pt){super(F),this.accumulator=H,this.acc=_e,this.concurrent=pt,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(F){if(this.active<this.concurrent){const H=this.index++,_e=this.destination;let pt;try{const{accumulator:nn}=this;pt=nn(this.acc,F,H)}catch(nn){return _e.error(nn)}this.active++,this._innerSub(pt)}else this.buffer.push(F)}_innerSub(F){const H=new p.IY(this),_e=this.destination;_e.add(H);const pt=(0,p.ft)(F,H);pt!==H&&_e.add(pt)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(F){const{destination:H}=this;this.acc=F,this.hasValue=!0,H.next(F)}notifyComplete(){const F=this.buffer;this.active--,F.length>0?this._next(F.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function el(we){return Jo("function"==typeof we?(H,_e)=>we(H,_e)<0?H:_e:(H,_e)=>H<_e?H:_e)}var _c=U(2536),md=U(7770);function Hf(...we){return 1===we.length&&(0,ur.k)(we[0])&&(we=we[0]),F=>F.lift(new Yl(we))}class Yl{constructor(F){this.nextSources=F}call(F,H){return H.subscribe(new Vf(F,this.nextSources))}}class Vf extends p.Ds{constructor(F,H){super(F),this.destination=F,this.nextSources=H}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(F){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const F=this.nextSources.shift();if(F){const H=new p.IY(this),_e=this.destination;_e.add(H);const pt=(0,p.ft)(F,H);pt!==H&&_e.add(pt)}else this.destination.complete()}}var fg=U(519),tl=U(5884);function Vu(we,F){return H=>[(0,Ht.h)(we,F)(H),(0,Ht.h)((0,tl.f)(we,F))(H)]}function jf(...we){const F=we.length;if(0===F)throw new Error("list of properties cannot be empty.");return H=>(0,_t.U)(function Vm(we,F){return _e=>{let pt=_e;for(let nn=0;nn<F;nn++){const Zn=null!=pt?pt[we[nn]]:void 0;if(void 0===Zn)return;pt=Zn}return pt}}(we,F))(H)}var La=U(8929);function Ih(we){return we?(0,_c.O)(()=>new La.xQ,we):(0,_c.O)(new La.xQ)}var Kf=U(591);function jm(we){return F=>(0,_c.O)(new Kf.X(we))(F)}var Km=U(2185);function Gf(){return we=>(0,_c.O)(new Km.c)(we)}var ju=U(839);function Wf(we,F,H,_e){H&&"function"!=typeof H&&(_e=H);const pt="function"==typeof H?H:void 0,nn=new ju.t(we,F,_e);return Zn=>(0,_c.O)(()=>nn,pt)(Zn)}var Ra=U(1946);function MA(...we){return function(H){return 1===we.length&&(0,ur.k)(we[0])&&(we=we[0]),H.lift.call((0,Ra.S3)(H,...we))}}var pg=U(8896);function yd(we=-1){return F=>0===we?(0,pg.c)():F.lift(new Fo(we<0?-1:we-1,F))}class Fo{constructor(F,H){this.count=F,this.source=H}call(F,H){return H.subscribe(new Ku(F,this.count,this.source))}}class Ku extends ie.L{constructor(F,H,_e){super(F),this.count=H,this.source=_e}complete(){if(!this.isStopped){const{source:F,count:H}=this;if(0===H)return super.complete();H>-1&&(this.count=H-1),F.subscribe(this._unsubscribeAndRecycle())}}}function wl(we){return F=>F.lift(new Gu(we))}class Gu{constructor(F){this.notifier=F}call(F,H){return H.subscribe(new vd(F,this.notifier,H))}}class vd extends p.Ds{constructor(F,H,_e){super(F),this.notifier=H,this.source=_e,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:F,retriesSubscription:H}=this;F&&(F.unsubscribe(),this.notifications=void 0),H&&(H.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:F}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=F,this}subscribeToRetries(){let F;this.notifications=new La.xQ;try{const{notifier:H}=this;F=H(this.notifications)}catch(H){return super.complete()}this.retries=F,this.retriesSubscription=(0,p.ft)(F,new p.IY(this))}}function zf(we=-1){return F=>F.lift(new qf(we,F))}class qf{constructor(F,H){this.count=F,this.source=H}call(F,H){return H.subscribe(new wc(F,this.count,this.source))}}class wc extends ie.L{constructor(F,H,_e){super(F),this.count=H,this.source=_e}error(F){if(!this.isStopped){const{source:H,count:_e}=this;if(0===_e)return super.error(F);_e>-1&&(this.count=_e-1),H.subscribe(this._unsubscribeAndRecycle())}}}function Mo(we){return F=>F.lift(new Wu(we,F))}class Wu{constructor(F,H){this.notifier=F,this.source=H}call(F,H){return H.subscribe(new Yc(F,this.notifier,this.source))}}class Yc extends p.Ds{constructor(F,H,_e){super(F),this.notifier=H,this.source=_e}error(F){if(!this.isStopped){let H=this.errors,_e=this.retries,pt=this.retriesSubscription;if(_e)this.errors=void 0,this.retriesSubscription=void 0;else{H=new La.xQ;try{const{notifier:nn}=this;_e=nn(H)}catch(nn){return super.error(nn)}pt=(0,p.ft)(_e,new p.IY(this))}this._unsubscribeAndRecycle(),this.errors=H,this.retries=_e,this.retriesSubscription=pt,H.next(F)}}_unsubscribe(){const{errors:F,retriesSubscription:H}=this;F&&(F.unsubscribe(),this.errors=void 0),H&&(H.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:F}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=F,this.source.subscribe(this)}}var va=U(4327);function Zc(we){return F=>F.lift(new nl(we))}class nl{constructor(F){this.notifier=F}call(F,H){const _e=new _d(F),pt=H.subscribe(_e);return pt.add((0,p.ft)(this.notifier,new p.IY(_e))),pt}}class _d extends p.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(F){this.value=F,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function wd(we,F=xe.P){return H=>H.lift(new zu(we,F))}class zu{constructor(F,H){this.period=F,this.scheduler=H}call(F,H){return H.subscribe(new Xc(F,this.period,this.scheduler))}}class Xc extends ie.L{constructor(F,H,_e){super(F),this.period=H,this.scheduler=_e,this.hasValue=!1,this.add(_e.schedule(bd,H,{subscriber:this,period:H}))}_next(F){this.lastValue=F,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function bd(we){let{subscriber:F,period:H}=we;F.notifyNext(),this.schedule(we,H)}function rl(we,F){return H=>H.lift(new $f(we,F))}class $f{constructor(F,H){this.compareTo=F,this.comparator=H}call(F,H){return H.subscribe(new Ui(F,this.compareTo,this.comparator))}}class Ui extends ie.L{constructor(F,H,_e){super(F),this.compareTo=H,this.comparator=_e,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(H.subscribe(new Bh(F,this)))}_next(F){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(F),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:F,_b:H,comparator:_e}=this;for(;F.length>0&&H.length>0;){let pt=F.shift(),nn=H.shift(),Zn=!1;try{Zn=_e?_e(pt,nn):pt===nn}catch(bi){this.destination.error(bi)}Zn||this.emit(!1)}}emit(F){const{destination:H}=this;H.next(F),H.complete()}nextB(F){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(F),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Bh extends ie.L{constructor(F,H){super(F),this.parent=H}_next(F){this.parent.nextB(F)}_error(F){this.parent.error(F),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var NA=U(8117),Qi=U(5154),Cd=U(4450);function Sh(we){return F=>F.lift(new qu(we,F))}class qu{constructor(F,H){this.predicate=F,this.source=H}call(F,H){return H.subscribe(new Go(F,this.predicate,this.source))}}class Go extends ie.L{constructor(F,H,_e){super(F),this.predicate=H,this.source=_e,this.seenValue=!1,this.index=0}applySingleValue(F){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=F)}_next(F){const H=this.index++;this.predicate?this.tryNext(F,H):this.applySingleValue(F)}tryNext(F,H){try{this.predicate(F,H,this.source)&&this.applySingleValue(F)}catch(_e){this.destination.error(_e)}}_complete(){const F=this.destination;this.index>0?(F.next(this.seenValue?this.singleValue:void 0),F.complete()):F.error(new Cd.K)}}function Ed(we){return F=>F.lift(new $u(we))}class $u{constructor(F){this.total=F}call(F,H){return H.subscribe(new bl(F,this.total))}}class bl extends ie.L{constructor(F,H){super(F),this.total=H,this.count=0}_next(F){++this.count>this.total&&this.destination.next(F)}}function ea(we){return F=>F.lift(new Jc(we))}class Jc{constructor(F){if(this._skipCount=F,this._skipCount<0)throw new _n.W}call(F,H){return H.subscribe(0===this._skipCount?new ie.L(F):new Cl(F,this._skipCount))}}class Cl extends ie.L{constructor(F,H){super(F),this._skipCount=H,this._count=0,this._ring=new Array(H)}_next(F){const H=this._skipCount,_e=this._count++;if(_e<H)this._ring[_e]=F;else{const pt=_e%H,nn=this._ring,Zn=nn[pt];nn[pt]=F,this.destination.next(Zn)}}}function xh(we){return F=>F.lift(new Zl(we))}class Zl{constructor(F){this.notifier=F}call(F,H){return H.subscribe(new bc(F,this.notifier))}}class bc extends p.Ds{constructor(F,H){super(F),this.hasValue=!1;const _e=new p.IY(this);this.add(_e),this.innerSubscription=_e;const pt=(0,p.ft)(H,_e);pt!==_e&&(this.add(pt),this.innerSubscription=pt)}_next(F){this.hasValue&&super._next(F)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}var Dh=U(9403),vr=U(1059),eu=U(3334),Th=U(7545),PA=U(5379);function Id(){return(0,Th.w)(PA.y)}var Fh=U(2313);function Bd(we){return F=>F.lift(new tu(we))}class tu{constructor(F){this.notifier=F}call(F,H){const _e=new Xl(F),pt=(0,p.ft)(this.notifier,new p.IY(_e));return pt&&!_e.seenValue?(_e.add(pt),H.subscribe(_e)):_e}}class Xl extends p.Ds{constructor(F){super(F),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Lt(we,F=!1){return H=>H.lift(new li(we,F))}class li{constructor(F,H){this.predicate=F,this.inclusive=H}call(F,H){return H.subscribe(new Jl(F,this.predicate,this.inclusive))}}class Jl extends ie.L{constructor(F,H,_e){super(F),this.predicate=H,this.inclusive=_e,this.index=0}_next(F){const H=this.destination;let _e;try{_e=this.predicate(F,this.index++)}catch(pt){return void H.error(pt)}this.nextOrComplete(F,_e)}nextOrComplete(F,H){const _e=this.destination;Boolean(H)?_e.next(F):(this.inclusive&&_e.next(F),_e.complete())}}var hs=U(2994);const El={leading:!0,trailing:!1};function Wo(we,F=El){return H=>H.lift(new ka(we,!!F.leading,!!F.trailing))}class ka{constructor(F,H,_e){this.durationSelector=F,this.leading=H,this.trailing=_e}call(F,H){return H.subscribe(new Il(F,this.durationSelector,this.leading,this.trailing))}}class Il extends p.Ds{constructor(F,H,_e,pt){super(F),this.destination=F,this.durationSelector=H,this._leading=_e,this._trailing=pt,this._hasValue=!1}_next(F){this._hasValue=!0,this._sendValue=F,this._throttled||(this._leading?this.send():this.throttle(F))}send(){const{_hasValue:F,_sendValue:H}=this;F&&(this.destination.next(H),this.throttle(H)),this._hasValue=!1,this._sendValue=void 0}throttle(F){const H=this.tryDurationSelector(F);H&&this.add(this._throttled=(0,p.ft)(H,new p.IY(this)))}tryDurationSelector(F){try{return this.durationSelector(F)}catch(H){return this.destination.error(H),null}}throttlingDone(){const{_throttled:F,_trailing:H}=this;F&&F.unsubscribe(),this._throttled=void 0,H&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function ds(we,F=xe.P,H=El){return _e=>_e.lift(new Mh(we,F,H.leading,H.trailing))}class Mh{constructor(F,H,_e,pt){this.duration=F,this.scheduler=H,this.leading=_e,this.trailing=pt}call(F,H){return H.subscribe(new go(F,this.duration,this.scheduler,this.leading,this.trailing))}}class go extends ie.L{constructor(F,H,_e,pt,nn){super(F),this.duration=H,this.scheduler=_e,this.leading=pt,this.trailing=nn,this._hasTrailingValue=!1,this._trailingValue=null}_next(F){this.throttled?this.trailing&&(this._trailingValue=F,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Yf,this.duration,{subscriber:this})),this.leading?this.destination.next(F):this.trailing&&(this._trailingValue=F,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const F=this.throttled;F&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),F.unsubscribe(),this.remove(F),this.throttled=null)}}function Yf(we){const{subscriber:F}=we;F.clearThrottle()}var ta=U(8514);function Gs(we=xe.P){return F=>(0,ta.P)(()=>F.pipe((0,Xa.R)(({current:H},_e)=>({value:_e,current:we.now(),last:H}),{current:we.now(),value:void 0,last:void 0}),(0,_t.U)(({current:H,last:_e,value:pt})=>new Xr(pt,H-_e))))}class Xr{constructor(F,H){this.value=F,this.interval=H}}var Sd=U(854);function Bl(we,F,H=xe.P){return _e=>{let pt=Fi(we),nn=pt?+we-H.now():Math.abs(we);return _e.lift(new Sl(nn,pt,F,H))}}class Sl{constructor(F,H,_e,pt){this.waitFor=F,this.absoluteTimeout=H,this.withObservable=_e,this.scheduler=pt}call(F,H){return H.subscribe(new Yu(F,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Yu extends p.Ds{constructor(F,H,_e,pt,nn){super(F),this.absoluteTimeout=H,this.waitFor=_e,this.withObservable=pt,this.scheduler=nn,this.scheduleTimeout()}static dispatchTimeout(F){const{withObservable:H}=F;F._unsubscribeAndRecycle(),F.add((0,p.ft)(H,new p.IY(F)))}scheduleTimeout(){const{action:F}=this;F?this.action=F.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Yu.dispatchTimeout,this.waitFor,this))}_next(F){this.absoluteTimeout||this.scheduleTimeout(),super._next(F)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var OA=U(1737);function Nh(we,F=xe.P){return Bl(we,(0,OA._)(new Sd.W),F)}function Zf(we=xe.P){return(0,_t.U)(F=>new mo(F,we.now()))}class mo{constructor(F,H){this.value=F,this.timestamp=H}}function ec(we,F,H){return 0===H?[F]:(we.push(F),we)}function il(){return Jo(ec,[])}function Ws(we){return function(H){return H.lift(new Cc(we))}}class Cc{constructor(F){this.windowBoundaries=F}call(F,H){const _e=new LA(F),pt=H.subscribe(_e);return pt.closed||_e.add((0,p.ft)(this.windowBoundaries,new p.IY(_e))),pt}}class LA extends p.Ds{constructor(F){super(F),this.window=new La.xQ,F.next(this.window)}notifyNext(){this.openWindow()}notifyError(F){this._error(F)}notifyComplete(){this._complete()}_next(F){this.window.next(F)}_error(F){this.window.error(F),this.destination.error(F)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const F=this.window;F&&F.complete();const H=this.destination,_e=this.window=new La.xQ;H.next(_e)}}function nu(we,F=0){return function(_e){return _e.lift(new Ph(we,F))}}class Ph{constructor(F,H){this.windowSize=F,this.startWindowEvery=H}call(F,H){return H.subscribe(new ru(F,this.windowSize,this.startWindowEvery))}}class ru extends ie.L{constructor(F,H,_e){super(F),this.destination=F,this.windowSize=H,this.startWindowEvery=_e,this.windows=[new La.xQ],this.count=0,F.next(this.windows[0])}_next(F){const H=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,_e=this.destination,pt=this.windowSize,nn=this.windows,Zn=nn.length;for(let na=0;na<Zn&&!this.closed;na++)nn[na].next(F);const bi=this.count-pt+1;if(bi>=0&&bi%H==0&&!this.closed&&nn.shift().complete(),++this.count%H==0&&!this.closed){const na=new La.xQ;nn.push(na),_e.next(na)}}_error(F){const H=this.windows;if(H)for(;H.length>0&&!this.closed;)H.shift().error(F);this.destination.error(F)}_complete(){const F=this.windows;if(F)for(;F.length>0&&!this.closed;)F.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}var xd=U(4241);function iu(we){let F=xe.P,H=null,_e=Number.POSITIVE_INFINITY;return(0,Pt.K)(arguments[3])&&(F=arguments[3]),(0,Pt.K)(arguments[2])?F=arguments[2]:(0,xd.k)(arguments[2])&&(_e=Number(arguments[2])),(0,Pt.K)(arguments[1])?F=arguments[1]:(0,xd.k)(arguments[1])&&(H=Number(arguments[1])),function(nn){return nn.lift(new zs(we,H,_e,F))}}class zs{constructor(F,H,_e,pt){this.windowTimeSpan=F,this.windowCreationInterval=H,this.maxWindowSize=_e,this.scheduler=pt}call(F,H){return H.subscribe(new mg(F,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class gg extends La.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(F){this._numberOfNextedValues++,super.next(F)}get numberOfNextedValues(){return this._numberOfNextedValues}}class mg extends ie.L{constructor(F,H,_e,pt,nn){super(F),this.destination=F,this.windowTimeSpan=H,this.windowCreationInterval=_e,this.maxWindowSize=pt,this.scheduler=nn,this.windows=[];const Zn=this.openWindow();if(null!==_e&&_e>=0){const na={windowTimeSpan:H,windowCreationInterval:_e,subscriber:this,scheduler:nn};this.add(nn.schedule(is,H,{subscriber:this,window:Zn,context:null})),this.add(nn.schedule(tc,_e,na))}else this.add(nn.schedule(Ns,H,{subscriber:this,window:Zn,windowTimeSpan:H}))}_next(F){const H=this.windows,_e=H.length;for(let pt=0;pt<_e;pt++){const nn=H[pt];nn.closed||(nn.next(F),nn.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(nn))}}_error(F){const H=this.windows;for(;H.length>0;)H.shift().error(F);this.destination.error(F)}_complete(){const F=this.windows;for(;F.length>0;){const H=F.shift();H.closed||H.complete()}this.destination.complete()}openWindow(){const F=new gg;return this.windows.push(F),this.destination.next(F),F}closeWindow(F){F.complete();const H=this.windows;H.splice(H.indexOf(F),1)}}function Ns(we){const{subscriber:F,windowTimeSpan:H,window:_e}=we;_e&&F.closeWindow(_e),we.window=F.openWindow(),this.schedule(we,H)}function tc(we){const{windowTimeSpan:F,subscriber:H,scheduler:_e,windowCreationInterval:pt}=we,nn=H.openWindow();let bi={action:this,subscription:null};bi.subscription=_e.schedule(is,F,{subscriber:H,window:nn,context:bi}),this.add(bi.subscription),this.schedule(we,pt)}function is(we){const{subscriber:F,window:H,context:_e}=we;_e&&_e.action&&_e.subscription&&_e.action.remove(_e.subscription),F.closeWindow(H)}function Gm(we,F){return H=>H.lift(new nc(we,F))}class nc{constructor(F,H){this.openings=F,this.closingSelector=H}call(F,H){return H.subscribe(new yg(F,this.openings,this.closingSelector))}}class yg extends tt.L{constructor(F,H,_e){super(F),this.openings=H,this.closingSelector=_e,this.contexts=[],this.add(this.openSubscription=(0,On.D)(this,H,H))}_next(F){const{contexts:H}=this;if(H){const _e=H.length;for(let pt=0;pt<_e;pt++)H[pt].window.next(F)}}_error(F){const{contexts:H}=this;if(this.contexts=null,H){const _e=H.length;let pt=-1;for(;++pt<_e;){const nn=H[pt];nn.window.error(F),nn.subscription.unsubscribe()}}super._error(F)}_complete(){const{contexts:F}=this;if(this.contexts=null,F){const H=F.length;let _e=-1;for(;++_e<H;){const pt=F[_e];pt.window.complete(),pt.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:F}=this;if(this.contexts=null,F){const H=F.length;let _e=-1;for(;++_e<H;){const pt=F[_e];pt.window.unsubscribe(),pt.subscription.unsubscribe()}}}notifyNext(F,H,_e,pt,nn){if(F===this.openings){let Zn;try{const{closingSelector:Jf}=this;Zn=Jf(H)}catch(Jf){return this.error(Jf)}const bi=new La.xQ,na=new Tr.w,di={window:bi,subscription:na};this.contexts.push(di);const Td=(0,On.D)(this,Zn,di);Td.closed?this.closeWindow(this.contexts.length-1):(Td.context=di,na.add(Td)),this.destination.next(bi)}else this.closeWindow(this.contexts.indexOf(F))}notifyError(F){this.error(F)}notifyComplete(F){F!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(F.context))}closeWindow(F){if(-1===F)return;const{contexts:H}=this,_e=H[F],{window:pt,subscription:nn}=_e;H.splice(F,1),pt.complete(),nn.unsubscribe()}}function rv(we){return function(H){return H.lift(new Wm(we))}}class Wm{constructor(F){this.closingSelector=F}call(F,H){return H.subscribe(new Xf(F,this.closingSelector))}}class Xf extends tt.L{constructor(F,H){super(F),this.destination=F,this.closingSelector=H,this.openWindow()}notifyNext(F,H,_e,pt,nn){this.openWindow(nn)}notifyError(F){this._error(F)}notifyComplete(F){this.openWindow(F)}_next(F){this.window.next(F)}_error(F){this.window.error(F),this.destination.error(F),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(F=null){F&&(this.remove(F),F.unsubscribe());const H=this.window;H&&H.complete();const _e=this.window=new La.xQ;let pt;this.destination.next(_e);try{const{closingSelector:nn}=this;pt=nn()}catch(nn){return this.destination.error(nn),void this.window.error(nn)}this.add(this.closingNotification=(0,On.D)(this,pt))}}var RA=U(7168),sl=U(1746);function su(...we){return function(H){return H.lift.call((0,sl.$R)(H,...we))}}function Dd(we){return F=>F.lift(new sl.mx(we))}},5561:(Kt,Qe,U)=>{"use strict";U(5772)},655:(Kt,Qe,U)=>{"use strict";function De(it,wt){var ft={};for(var kt in it)Object.prototype.hasOwnProperty.call(it,kt)&&wt.indexOf(kt)<0&&(ft[kt]=it[kt]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var xt=0;for(kt=Object.getOwnPropertySymbols(it);xt<kt.length;xt++)wt.indexOf(kt[xt])<0&&Object.prototype.propertyIsEnumerable.call(it,kt[xt])&&(ft[kt[xt]]=it[kt[xt]])}return ft}function xe(it,wt,ft,kt){var Ln,xt=arguments.length,Jt=xt<3?wt:null===kt?kt=Object.getOwnPropertyDescriptor(wt,ft):kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Jt=Reflect.decorate(it,wt,ft,kt);else for(var Or=it.length-1;Or>=0;Or--)(Ln=it[Or])&&(Jt=(xt<3?Ln(Jt):xt>3?Ln(wt,ft,Jt):Ln(wt,ft))||Jt);return xt>3&&Jt&&Object.defineProperty(wt,ft,Jt),Jt}function Z(it,wt,ft,kt){return new(ft||(ft=Promise))(function(Jt,Ln){function Or(Zr){try{mn(kt.next(Zr))}catch(qi){Ln(qi)}}function ur(Zr){try{mn(kt.throw(Zr))}catch(qi){Ln(qi)}}function mn(Zr){Zr.done?Jt(Zr.value):function xt(Jt){return Jt instanceof ft?Jt:new ft(function(Ln){Ln(Jt)})}(Zr.value).then(Or,ur)}mn((kt=kt.apply(it,wt||[])).next())})}U.d(Qe,{_T:()=>De,gn:()=>xe,mG:()=>Z})},5e3:(Kt,Qe,U)=>{"use strict";U.d(Qe,{$8M:()=>Lh,$Z:()=>fb,AFp:()=>QI,AaK:()=>Z,CHM:()=>Jl,CRH:()=>aT,CZH:()=>jp,CqO:()=>cP,EJc:()=>SO,EpF:()=>Ul,F4k:()=>lP,FYo:()=>jD,FiY:()=>du,G48:()=>jO,GSi:()=>wx,GfV:()=>GD,Gpc:()=>ie,JOm:()=>Tl,LFG:()=>ia,LSH:()=>Su,Lbi:()=>IO,NdJ:()=>vb,OlP:()=>Cs,Oqu:()=>Fb,PXZ:()=>LO,Q6J:()=>pb,QGY:()=>yb,Qsj:()=>Kb,R0b:()=>Nu,RDi:()=>bd,Rgc:()=>Xv,SBq:()=>gA,Sil:()=>DO,Suo:()=>Jb,TTD:()=>wl,TgZ:()=>Lv,VLi:()=>y1,X6Q:()=>DT,XFs:()=>er,Xpm:()=>fr,Y36:()=>By,YKP:()=>$v,YNc:()=>RE,Yjl:()=>_t,Yz7:()=>jr,ZZ4:()=>g_,_Bn:()=>UD,_UZ:()=>kv,_Vd:()=>jb,_c5:()=>eB,_uU:()=>Tb,aQg:()=>C1,c2e:()=>BO,cJS:()=>wr,cg1:()=>uI,dDg:()=>bT,deG:()=>ip,dqk:()=>Pr,eFA:()=>IT,ekj:()=>Vv,g9A:()=>pT,h0i:()=>em,hGG:()=>tB,hij:()=>eI,iGM:()=>oT,ifc:()=>Nr,ip1:()=>h1,kL8:()=>Op,lG2:()=>Ye,n5z:()=>ll,oAB:()=>he,oxw:()=>Ox,qLn:()=>fv,qOj:()=>hx,qZA:()=>Rv,sBO:()=>TT,sIi:()=>Fv,s_b:()=>Zb,soG:()=>d1,tBr:()=>sc,tb:()=>gT,tp0:()=>Ud,uIk:()=>ME,vHH:()=>lt,vpe:()=>Ba,wAp:()=>Ir,xp6:()=>Wh,z2F:()=>n0,zSh:()=>wE,zs3:()=>Xh});var p=U(8929),Ee=U(4096),ce=U(4202),De=U(6787),xe=U(8117);function Ae(l){for(let c in l)if(l[c]===Ae)return c;throw Error("Could not find renamed property on target object.")}function pe(l,c){for(const A in c)c.hasOwnProperty(A)&&!l.hasOwnProperty(A)&&(l[A]=c[A])}function Z(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Z).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const A=c.indexOf("\n");return-1===A?c:c.substring(0,A)}function ae(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const X=Ae({__forward_ref__:Ae});function ie(l){return l.__forward_ref__=ie,l.toString=function(){return Z(this())},l}function fe(l){return Ne(l)?l():l}function Ne(l){return"function"==typeof l&&l.hasOwnProperty(X)&&l.__forward_ref__===ie}class lt extends Error{constructor(c,A){super(function Pt(l,c){return`NG0${Math.abs(l)}${c?": "+c:""}`}(c,A)),this.code=c}}function ct(l){return"string"==typeof l?l:null==l?"":String(l)}function jt(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ct(l)}function cr(l,c){const A=c?` in ${c}`:"";throw new lt(-201,`No provider for ${jt(l)} found${A}`)}function ur(l,c){null==l&&function mn(l,c,A,d){throw new Error(`ASSERTION ERROR: ${l}`+(null==d?"":` [Expected=> ${A} ${d} ${c} <=Actual]`))}(c,l,null,"!=")}function jr(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function wr(l){return{providers:l.providers||[],imports:l.imports||[]}}function Cr(l){return bs(l,Qs)||bs(l,Vi)}function bs(l,c){return l.hasOwnProperty(c)?l[c]:null}function hi(l){return l&&(l.hasOwnProperty(ls)||l.hasOwnProperty(Hs))?l[ls]:null}const Qs=Ae({\u0275prov:Ae}),ls=Ae({\u0275inj:Ae}),Vi=Ae({ngInjectableDef:Ae}),Hs=Ae({ngInjectorDef:Ae});var er=(()=>((er=er||{})[er.Default=0]="Default",er[er.Host=1]="Host",er[er.Self=2]="Self",er[er.SkipSelf=4]="SkipSelf",er[er.Optional=8]="Optional",er))();let cs;function Fi(l){const c=cs;return cs=l,c}function us(l,c,A){const d=Cr(l);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:A&er.Optional?null:void 0!==c?c:void cr(Z(l),"Injector")}function ai(l){return{toString:l}.toString()}var ki=(()=>((ki=ki||{})[ki.OnPush=0]="OnPush",ki[ki.Default=1]="Default",ki))(),Nr=(()=>{return(l=Nr||(Nr={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Nr;var l})();const Dn="undefined"!=typeof globalThis&&globalThis,Fn="undefined"!=typeof window&&window,Kr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pr=Dn||"undefined"!=typeof global&&global||Fn||Kr,Ii={},Yn=[],Vs=Ae({\u0275cmp:Ae}),yr=Ae({\u0275dir:Ae}),To=Ae({\u0275pipe:Ae}),_n=Ae({\u0275mod:Ae}),Ht=Ae({\u0275fac:Ae}),yn=Ae({__NG_ELEMENT_ID__:Ae});let or=0;function fr(l){return ai(()=>{const A={},d={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:A,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===ki.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||Yn,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Nr.Emulated,id:"c",styles:l.styles||Yn,_:null,setInput:null,schemas:l.schemas||null,tView:null},g=l.directives,w=l.features,T=l.pipes;return d.id+=or++,d.inputs=Fe(l.inputs,A),d.outputs=Fe(l.outputs),w&&w.forEach(O=>O(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(He):null,d.pipeDefs=T?()=>("function"==typeof T?T():T).map(Re):null,d})}function He(l){return Nt(l)||function sn(l){return l[yr]||null}(l)}function Re(l){return function an(l){return l[To]||null}(l)}const de={};function he(l){return ai(()=>{const c={type:l.type,bootstrap:l.bootstrap||Yn,declarations:l.declarations||Yn,imports:l.imports||Yn,exports:l.exports||Yn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(de[l.id]=l.type),c})}function Fe(l,c){if(null==l)return Ii;const A={};for(const d in l)if(l.hasOwnProperty(d)){let g=l[d],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),A[g]=d,c&&(c[g]=w)}return A}const Ye=fr;function _t(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function Nt(l){return l[Vs]||null}function un(l,c){const A=l[_n]||null;if(!A&&!0===c)throw new Error(`Type ${Z(l)} does not have '\u0275mod' property.`);return A}function po(l){return Array.isArray(l)&&"object"==typeof l[1]}function Ja(l){return Array.isArray(l)&&!0===l[1]}function FA(l){return 0!=(8&l.flags)}function gd(l){return 2==(2&l.flags)}function $c(l){return 1==(1&l.flags)}function el(l){return null!==l.template}function _c(l){return 0!=(512&l[2])}function Fo(l,c){return l.hasOwnProperty(Ht)?l[Ht]:null}class Ku{constructor(c,A,d){this.previousValue=c,this.currentValue=A,this.firstChange=d}isFirstChange(){return this.firstChange}}function wl(){return Gu}function Gu(l){return l.type.prototype.ngOnChanges&&(l.setInput=zf),vd}function vd(){const l=wc(this),c=null==l?void 0:l.current;if(c){const A=l.previous;if(A===Ii)l.previous=c;else for(let d in c)A[d]=c[d];l.current=null,this.ngOnChanges(c)}}function zf(l,c,A,d){const g=wc(l)||function Mo(l,c){return l[qf]=c}(l,{previous:Ii,current:null}),w=g.current||(g.current={}),T=g.previous,O=this.declaredInputs[A],Q=T[O];w[O]=new Ku(Q&&Q.currentValue,c,T===Ii),l[d]=c}wl.ngInherit=!0;const qf="__ngSimpleChanges__";function wc(l){return l[qf]||null}let Xc;function bd(l){Xc=l}function Ui(l){return!!l.listen}const Bh={createRenderer:(l,c)=>function rl(){return void 0!==Xc?Xc:"undefined"!=typeof document?document:void 0}()};function Qi(l){for(;Array.isArray(l);)l=l[0];return l}function qu(l,c){return Qi(c[l])}function Go(l,c){return Qi(c[l.index])}function $u(l,c){return l.data[c]}function ea(l,c){const A=c[l];return po(A)?A:A[0]}function Jc(l){return 4==(4&l[2])}function Cl(l){return 128==(128&l[2])}function Zl(l,c){return null==c?null:l[c]}function bc(l){l[18]=0}function Dh(l,c){l[5]+=c;let A=l,d=l[3];for(;null!==d&&(1===c&&1===A[5]||-1===c&&0===A[5]);)d[5]+=c,A=d,d=d[3]}const vr={lFrame:ru(null),bindingsEnabled:!0};function Bd(){return vr.bindingsEnabled}function Lt(){return vr.lFrame.lView}function li(){return vr.lFrame.tView}function Jl(l){return vr.lFrame.contextLView=l,l[8]}function hs(){let l=El();for(;null!==l&&64===l.type;)l=l.parent;return l}function El(){return vr.lFrame.currentTNode}function ka(l,c){const A=vr.lFrame;A.currentTNode=l,A.isParent=c}function Il(){return vr.lFrame.isParent}function Bl(){return vr.lFrame.bindingIndex++}function Nh(l,c){const A=vr.lFrame;A.bindingIndex=A.bindingRootIndex=l,mo(c)}function mo(l){vr.lFrame.currentDirectiveIndex=l}function il(){return vr.lFrame.currentQueryIndex}function Ws(l){vr.lFrame.currentQueryIndex=l}function Cc(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function LA(l,c,A){if(A&er.SkipSelf){let g=c,w=l;for(;!(g=g.parent,null!==g||A&er.Host||(g=Cc(w),null===g||(w=w[15],10&g.type))););if(null===g)return!1;c=g,l=w}const d=vr.lFrame=Ph();return d.currentTNode=c,d.lView=l,!0}function nu(l){const c=Ph(),A=l[1];vr.lFrame=c,c.currentTNode=A.firstChild,c.lView=l,c.tView=A,c.contextLView=l,c.bindingIndex=A.bindingStartIndex,c.inI18n=!1}function Ph(){const l=vr.lFrame,c=null===l?null:l.child;return null===c?ru(l):c}function ru(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function xd(){const l=vr.lFrame;return vr.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const iu=xd;function zs(){const l=xd();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Ns(){return vr.lFrame.selectedIndex}function tc(l){vr.lFrame.selectedIndex=l}function is(){const l=vr.lFrame;return $u(l.tView,l.selectedIndex)}function RA(l,c){for(let A=c.directiveStart,d=c.directiveEnd;A<d;A++){const w=l.data[A].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:O,ngAfterViewInit:Q,ngAfterViewChecked:q,ngOnDestroy:J}=w;T&&(l.contentHooks||(l.contentHooks=[])).push(-A,T),O&&((l.contentHooks||(l.contentHooks=[])).push(A,O),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(A,O)),Q&&(l.viewHooks||(l.viewHooks=[])).push(-A,Q),q&&((l.viewHooks||(l.viewHooks=[])).push(A,q),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(A,q)),null!=J&&(l.destroyHooks||(l.destroyHooks=[])).push(A,J)}}function sl(l,c,A){we(l,c,3,A)}function su(l,c,A,d){(3&l[2])===A&&we(l,c,A,d)}function Dd(l,c){let A=l[2];(3&A)===c&&(A&=2047,A+=1,l[2]=A)}function we(l,c,A,d){const w=null!=d?d:-1,T=c.length-1;let O=0;for(let Q=void 0!==d?65535&l[18]:0;Q<T;Q++)if("number"==typeof c[Q+1]){if(O=c[Q],null!=d&&O>=d)break}else c[Q]<0&&(l[18]+=65536),(O<w||-1==w)&&(F(l,A,c,Q),l[18]=(4294901760&l[18])+Q+2),Q++}function F(l,c,A,d){const g=A[d]<0,w=A[d+1],O=l[g?-A[d]:A[d]];if(g){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{w.call(O)}finally{}}}else try{w.call(O)}finally{}}const H=-1;class _e{constructor(c,A,d){this.factory=c,this.resolving=!1,this.canSeeViewProviders=A,this.injectImpl=d}}function gi(l,c,A){const d=Ui(l);let g=0;for(;g<A.length;){const w=A[g];if("number"==typeof w){if(0!==w)break;g++;const T=A[g++],O=A[g++],Q=A[g++];d?l.setAttribute(c,O,Q,T):c.setAttributeNS(T,O,Q)}else{const T=w,O=A[++g];zo(T)?d&&l.setProperty(c,T,O):d?l.setAttribute(c,T,O):c.setAttribute(T,O),g++}}return g}function No(l){return 3===l||4===l||6===l}function zo(l){return 64===l.charCodeAt(0)}function ou(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let A=-1;for(let d=0;d<c.length;d++){const g=c[d];"number"==typeof g?A=g:0===A||kA(l,A,g,null,-1===A||2===A?c[++d]:null)}}return l}function kA(l,c,A,d,g){let w=0,T=l.length;if(-1===c)T=-1;else for(;w<l.length;){const O=l[w++];if("number"==typeof O){if(O===c){T=-1;break}if(O>c){T=w-1;break}}}for(;w<l.length;){const O=l[w];if("number"==typeof O)break;if(O===A){if(null===d)return void(null!==g&&(l[w+1]=g));if(d===l[w+1])return void(l[w+2]=g)}w++,null!==d&&w++,null!==g&&w++}-1!==T&&(l.splice(T,0,c),w=T+1),l.splice(w++,0,A),null!==d&&l.splice(w++,0,d),null!==g&&l.splice(w++,0,g)}function ra(l){return l!==H}function UA(l){return 32767&l}function rc(l,c){let A=function ro(l){return l>>16}(l),d=c;for(;A>0;)d=d[15],A--;return d}let Zu=!0;function Fd(l){const c=Zu;return Zu=l,c}let Ji=0;function yo(l,c){const A=_a(l,c);if(-1!==A)return A;const d=c[1];d.firstCreatePass&&(l.injectorIndex=c.length,xl(d.data,l),xl(c,null),xl(d.blueprint,null));const g=Ju(l,c),w=l.injectorIndex;if(ra(g)){const T=UA(g),O=rc(g,c),Q=O[1].data;for(let q=0;q<8;q++)c[w+q]=O[T+q]|Q[T+q]}return c[w+8]=g,w}function xl(l,c){l.push(0,0,0,0,0,0,0,0,c)}function _a(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Ju(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let A=0,d=null,g=c;for(;null!==g;){const w=g[1],T=w.type;if(d=2===T?w.declTNode:1===T?g[6]:null,null===d)return H;if(A++,g=g[15],-1!==d.injectorIndex)return d.injectorIndex|A<<16}return H}function Md(l,c,A){!function Xu(l,c,A){let d;"string"==typeof A?d=A.charCodeAt(0)||0:A.hasOwnProperty(yn)&&(d=A[yn]),null==d&&(d=A[yn]=Ji++);const g=255&d;c.data[l+(g>>5)]|=1<<g}(l,c,A)}function np(l,c,A){if(A&er.Optional)return l;cr(c,"NodeInjector")}function Ec(l,c,A,d){if(A&er.Optional&&void 0===d&&(d=null),0==(A&(er.Self|er.Host))){const g=l[9],w=Fi(void 0);try{return g?g.get(c,d,A&er.Optional):us(c,d,A&er.Optional)}finally{Fi(w)}}return np(d,c,A)}function ol(l,c,A,d=er.Default,g){if(null!==l){const w=function ic(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(yn)?l[yn]:void 0;return"number"==typeof c?c>=0?255&c:Oh:c}(A);if("function"==typeof w){if(!LA(c,l,d))return d&er.Host?np(g,A,d):Ec(c,A,d,g);try{const T=w(d);if(null!=T||d&er.Optional)return T;cr(A)}finally{iu()}}else if("number"==typeof w){let T=null,O=_a(l,c),Q=H,q=d&er.Host?c[16][6]:null;for((-1===O||d&er.SkipSelf)&&(Q=-1===O?Ju(l,c):c[O+8],Q!==H&&Pd(d,!1)?(T=c[1],O=UA(Q),c=rc(Q,c)):O=-1);-1!==O;){const J=c[1];if(Nd(w,O,J.data)){const Te=HA(O,c,A,T,d,q);if(Te!==QA)return Te}Q=c[O+8],Q!==H&&Pd(d,c[1].data[O+8]===q)&&Nd(w,O,c)?(T=J,O=UA(Q),c=rc(Q,c)):O=-1}}}return Ec(c,A,d,g)}const QA={};function Oh(){return new eA(hs(),Lt())}function HA(l,c,A,d,g,w){const T=c[1],O=T.data[l+8],J=VA(O,T,A,null==d?gd(O)&&Zu:d!=T&&0!=(3&O.type),g&er.Host&&w===O);return null!==J?al(c,T,J,O):QA}function VA(l,c,A,d,g){const w=l.providerIndexes,T=c.data,O=1048575&w,Q=l.directiveStart,J=w>>20,$e=g?O+J:l.directiveEnd;for(let dt=d?O:O+J;dt<$e;dt++){const Vt=T[dt];if(dt<Q&&A===Vt||dt>=Q&&Vt.type===A)return dt}if(g){const dt=T[Q];if(dt&&el(dt)&&dt.type===A)return Q}return null}function al(l,c,A,d){let g=l[A];const w=c.data;if(function pt(l){return l instanceof _e}(g)){const T=g;T.resolving&&function bn(l,c){const A=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new lt(-200,`Circular dependency in DI detected for ${l}${A}`)}(jt(w[A]));const O=Fd(T.canSeeViewProviders);T.resolving=!0;const Q=T.injectImpl?Fi(T.injectImpl):null;LA(l,d,er.Default);try{g=l[A]=T.factory(void 0,w,l,d),c.firstCreatePass&&A>=d.directiveStart&&function Xf(l,c,A){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:w}=c.type.prototype;if(d){const T=Gu(c);(A.preOrderHooks||(A.preOrderHooks=[])).push(l,T),(A.preOrderCheckHooks||(A.preOrderCheckHooks=[])).push(l,T)}g&&(A.preOrderHooks||(A.preOrderHooks=[])).push(0-l,g),w&&((A.preOrderHooks||(A.preOrderHooks=[])).push(l,w),(A.preOrderCheckHooks||(A.preOrderCheckHooks=[])).push(l,w))}(A,w[A],c)}finally{null!==Q&&Fi(Q),Fd(O),T.resolving=!1,iu()}}return g}function Nd(l,c,A){return!!(A[c+(l>>5)]&1<<l)}function Pd(l,c){return!(l&er.Self||l&er.Host&&c)}class eA{constructor(c,A){this._tNode=c,this._lView=A}get(c,A,d){return ol(this._tNode,this._lView,c,d,A)}}function ll(l){return ai(()=>{const c=l.prototype.constructor,A=c[Ht]||jA(c),d=Object.prototype;let g=Object.getPrototypeOf(l.prototype).constructor;for(;g&&g!==d;){const w=g[Ht]||jA(g);if(w&&w!==A)return w;g=Object.getPrototypeOf(g)}return w=>new w})}function jA(l){return Ne(l)?()=>{const c=jA(fe(l));return c&&c()}:Fo(l)}function Lh(l){return function tp(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const A=l.attrs;if(A){const d=A.length;let g=0;for(;g<d;){const w=A[g];if(No(w))break;if(0===w)g+=2;else if("number"==typeof w)for(g++;g<d&&"string"==typeof A[g];)g++;else{if(w===c)return A[g+1];g+=2}}}return null}(hs(),l)}const lu="__annotations__",KA="__parameters__",GA="__prop__metadata__";function tA(l,c,A,d,g){return ai(()=>{const w=cu(c);function T(...O){if(this instanceof T)return w.call(this,...O),this;const Q=new T(...O);return function(J){return g&&g(J,...O),(J.hasOwnProperty(lu)?J[lu]:Object.defineProperty(J,lu,{value:[]})[lu]).push(Q),d&&d(J),J}}return A&&(T.prototype=Object.create(A.prototype)),T.prototype.ngMetadataName=l,T.annotationCls=T,T})}function cu(l){return function(...A){if(l){const d=l(...A);for(const g in d)this[g]=d[g]}}}function WA(l,c,A){return ai(()=>{const d=cu(c);function g(...w){if(this instanceof g)return d.apply(this,w),this;const T=new g(...w);return O.annotation=T,O;function O(Q,q,J){const Te=Q.hasOwnProperty(KA)?Q[KA]:Object.defineProperty(Q,KA,{value:[]})[KA];for(;Te.length<=J;)Te.push(null);return(Te[J]=Te[J]||[]).push(T),Q}}return A&&(g.prototype=Object.create(A.prototype)),g.prototype.ngMetadataName=l,g.annotationCls=g,g})}const rp=WA("Attribute",l=>({attributeName:l,__NG_ELEMENT_ID__:()=>Lh(l)}));class Cs{constructor(c,A){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof A?this.__NG_ELEMENT_ID__=A:void 0!==A&&(this.\u0275prov=jr({token:this,providedIn:A.providedIn||"root",factory:A.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ip=new Cs("AnalyzeForEntryComponents");function es(l){const c=Pr.ng;if(c&&c.\u0275compilerFacade)return c.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const zA=Function;function Ic(l){return"function"==typeof l}function fs(l,c){void 0===c&&(c=l);for(let A=0;A<l.length;A++){let d=l[A];Array.isArray(d)?(c===l&&(c=l.slice(0,A)),fs(d,c)):c!==l&&c.push(d)}return c}function Si(l,c){l.forEach(A=>Array.isArray(A)?Si(A,c):c(A))}function qs(l,c,A){c>=l.length?l.push(A):l.splice(c,0,A)}function Ld(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function nA(l,c){const A=[];for(let d=0;d<l;d++)A.push(c);return A}function Ua(l,c,A){let d=uu(l,c);return d>=0?l[1|d]=A:(d=~d,function op(l,c,A,d){let g=l.length;if(g==c)l.push(A,d);else if(1===g)l.push(d,l[0]),l[0]=A;else{for(g--,l.push(l[g-1],l[g]);g>c;)l[g]=l[g-2],g--;l[c]=A,l[c+1]=d}}(l,d,c,A)),d}function ap(l,c){const A=uu(l,c);if(A>=0)return l[1|A]}function uu(l,c){return function bg(l,c,A){let d=0,g=l.length>>A;for(;g!==d;){const w=d+(g-d>>1),T=l[w<<A];if(c===T)return w<<A;T>c?g=w:d=w+1}return~(g<<A)}(l,c,1)}const Ym=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,ss=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,xw=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Zm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Cg{constructor(c){this._reflect=c||Pr.Reflect}isReflectionEnabled(){return!0}factory(c){return(...A)=>new c(...A)}_zipTypesAndAnnotations(c,A){let d;d=nA(void 0===c?A.length:c.length);for(let g=0;g<d.length;g++)d[g]=void 0===c?[]:c[g]&&c[g]!=Object?[c[g]]:[],A&&null!=A[g]&&(d[g]=d[g].concat(A[g]));return d}_ownParameters(c,A){if(function Xm(l){return Ym.test(l)||Zm.test(l)||ss.test(l)&&!xw.test(l)}(c.toString()))return null;if(c.parameters&&c.parameters!==A.parameters)return c.parameters;const g=c.ctorParameters;if(g&&g!==A.ctorParameters){const O="function"==typeof g?g():g,Q=O.map(J=>J&&J.type),q=O.map(J=>J&&Rh(J.decorators));return this._zipTypesAndAnnotations(Q,q)}const w=c.hasOwnProperty(KA)&&c[KA],T=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",c);return T||w?this._zipTypesAndAnnotations(T,w):nA(c.length)}parameters(c){if(!Ic(c))return[];const A=lp(c);let d=this._ownParameters(c,A);return!d&&A!==Object&&(d=this.parameters(A)),d||[]}_ownAnnotations(c,A){if(c.annotations&&c.annotations!==A.annotations){let d=c.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return c.decorators&&c.decorators!==A.decorators?Rh(c.decorators):c.hasOwnProperty(lu)?c[lu]:null}annotations(c){if(!Ic(c))return[];const A=lp(c),d=this._ownAnnotations(c,A)||[];return(A!==Object?this.annotations(A):[]).concat(d)}_ownPropMetadata(c,A){if(c.propMetadata&&c.propMetadata!==A.propMetadata){let d=c.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(c.propDecorators&&c.propDecorators!==A.propDecorators){const d=c.propDecorators,g={};return Object.keys(d).forEach(w=>{g[w]=Rh(d[w])}),g}return c.hasOwnProperty(GA)?c[GA]:null}propMetadata(c){if(!Ic(c))return{};const A=lp(c),d={};if(A!==Object){const w=this.propMetadata(A);Object.keys(w).forEach(T=>{d[T]=w[T]})}const g=this._ownPropMetadata(c,A);return g&&Object.keys(g).forEach(w=>{const T=[];d.hasOwnProperty(w)&&T.push(...d[w]),T.push(...g[w]),d[w]=T}),d}ownPropMetadata(c){return Ic(c)&&this._ownPropMetadata(c,lp(c))||{}}hasLifecycleHook(c,A){return c instanceof zA&&A in c.prototype}guards(c){return{}}getter(c){return new Function("o","return o."+c+";")}setter(c){return new Function("o","v","return o."+c+" = v;")}method(c){return new Function("o","args",`if (!o.${c}) throw new Error('"${c}" is undefined');\n        return o.${c}.apply(o, args);`)}importUri(c){return"object"==typeof c&&c.filePath?c.filePath:`./${Z(c)}`}resourceUri(c){return`./${Z(c)}`}resolveIdentifier(c,A,d,g){return g}resolveEnum(c,A){return c[A]}}function Rh(l){return l?l.map(c=>new(0,c.type.annotationCls)(...c.args?c.args:[])):[]}function lp(l){const c=l.prototype?Object.getPrototypeOf(l.prototype):null;return(c?c.constructor:null)||Object}const Au={},cp="__NG_DI_FLAG__",Rd="ngTempTokenPath",qA=/\n/gm,Mn="__source",ov=Ae({provide:String,useValue:Ae});let iA;function kd(l){const c=iA;return iA=l,c}function hu(l,c=er.Default){if(void 0===iA)throw new lt(203,"");return null===iA?us(l,void 0,c):iA.get(l,c&er.Optional?null:void 0,c)}function ia(l,c=er.Default){return(function oi(){return cs}()||hu)(fe(l),c)}const $A=ia;function YA(l){const c=[];for(let A=0;A<l.length;A++){const d=fe(l[A]);if(Array.isArray(d)){if(0===d.length)throw new lt(900,"");let g,w=er.Default;for(let T=0;T<d.length;T++){const O=d[T],Q=ey(O);"number"==typeof Q?-1===Q?g=O.token:w|=Q:g=O}c.push(ia(g,w))}else c.push(ia(d))}return c}function ZA(l,c){return l[cp]=c,l.prototype[cp]=c,l}function ey(l){return l[cp]}const sc=ZA(WA("Inject",l=>({token:l})),-1),du=ZA(WA("Optional"),8),Eg=ZA(WA("Self"),2),Ud=ZA(WA("SkipSelf"),4),av=ZA(WA("Host"),1);let hp=null;function kh(l){return Hi(function gr(){return hp=hp||new Cg}().parameters(l))}function Hi(l){return l.map(c=>function Qd(l){const c={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(l)&&l.length>0)for(let A=0;A<l.length;A++){const d=l[A];if(void 0===d)continue;const g=Object.getPrototypeOf(d);if(d instanceof du||"Optional"===g.ngMetadataName)c.optional=!0;else if(d instanceof Ud||"SkipSelf"===g.ngMetadataName)c.skipSelf=!0;else if(d instanceof Eg||"Self"===g.ngMetadataName)c.self=!0;else if(d instanceof av||"Host"===g.ngMetadataName)c.host=!0;else if(d instanceof sc)c.token=d.token;else if(d instanceof rp){if(void 0===d.attributeName)throw new Error("Attribute name must be defined.");c.attribute=d.attributeName}else c.token=d}else c.token=void 0===l||Array.isArray(l)&&0===l.length?null:l;return c}(c))}var Tl=(()=>((Tl=Tl||{})[Tl.Important=1]="Important",Tl[Tl.DashCase=2]="DashCase",Tl))();const fp="__ngContext__";function Ps(l,c){l[fp]=c}function Uh(l){const c=function Ml(l){return l[fp]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function Sc(l,c){return undefined(l,c)}function Qa(l){const c=l[3];return Ja(c)?c[3]:c}function jd(l){return Gr(l[13])}function gs(l){return Gr(l[4])}function Gr(l){for(;null!==l&&!Ja(l);)l=l[4];return l}function Kd(l,c,A,d,g){if(null!=d){let w,T=!1;Ja(d)?w=d:po(d)&&(T=!0,d=d[0]);const O=Qi(d);0===l&&null!==A?null==g?nh(c,A,O):Nl(c,A,O,g||null,!0):1===l&&null!==A?Nl(c,A,O,g||null,!0):2===l?function Zd(l,c,A){const d=Pl(l,c);d&&function yu(l,c,A,d){Ui(l)?l.removeChild(c,A,d):c.removeChild(A)}(l,d,c,A)}(c,O,T):3===l&&c.destroyNode(O),null!=w&&function Av(l,c,A,d,g){const w=A[7];w!==Qi(A)&&Kd(c,l,d,w,g);for(let O=10;O<A.length;O++){const Q=A[O];Dc(Q[1],Q,l,c,d,w)}}(c,l,w,A,g)}}function Wd(l,c,A){if(Ui(l))return l.createElement(c,A);{const d=null!==A?function zu(l){const c=l.toLowerCase();return"svg"===c?"http://www.w3.org/2000/svg":"math"===c?"http://www.w3.org/1998/MathML/":null}(A):null;return null===d?l.createElement(c):l.createElementNS(d,c)}}function Fg(l,c){const A=l[9],d=A.indexOf(c),g=c[3];1024&c[2]&&(c[2]&=-1025,Dh(g,-1)),A.splice(d,1)}function eh(l,c){if(l.length<=10)return;const A=10+c,d=l[A];if(d){const g=d[17];null!==g&&g!==l&&Fg(g,d),c>0&&(l[A-1][4]=d[4]);const w=Ld(l,10+c);!function cv(l,c){Dc(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(d[1],d);const T=w[19];null!==T&&T.detachView(w[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function cl(l,c){if(!(256&c[2])){const A=c[11];Ui(A)&&A.destroyNode&&Dc(l,c,A,3,null,null),function sy(l){let c=l[13];if(!c)return mu(l[1],l);for(;c;){let A=null;if(po(c))A=c[13];else{const d=c[10];d&&(A=d)}if(!A){for(;c&&!c[4]&&c!==l;)po(c)&&mu(c[1],c),c=c[3];null===c&&(c=l),po(c)&&mu(c[1],c),A=c&&c[4]}c=A}}(c)}}function mu(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function aA(l,c){let A;if(null!=l&&null!=(A=l.destroyHooks))for(let d=0;d<A.length;d+=2){const g=c[A[d]];if(!(g instanceof _e)){const w=A[d+1];if(Array.isArray(w))for(let T=0;T<w.length;T+=2){const O=g[w[T]],Q=w[T+1];try{Q.call(O)}finally{}}else try{w.call(g)}finally{}}}}(l,c),function th(l,c){const A=l.cleanup,d=c[7];let g=-1;if(null!==A)for(let w=0;w<A.length-1;w+=2)if("string"==typeof A[w]){const T=A[w+1],O="function"==typeof T?T(c):Qi(c[T]),Q=d[g=A[w+2]],q=A[w+3];"boolean"==typeof q?O.removeEventListener(A[w],Q,q):q>=0?d[g=q]():d[g=-q].unsubscribe(),w+=2}else{const T=d[g=A[w+1]];A[w].call(T)}if(null!==d){for(let w=g+1;w<d.length;w++)d[w]();c[7]=null}}(l,c),1===c[1].type&&Ui(c[11])&&c[11].destroy();const A=c[17];if(null!==A&&Ja(c[3])){A!==c[3]&&Fg(A,c);const d=c[19];null!==d&&d.detachView(l)}}}function qd(l,c,A){return function so(l,c,A){let d=c;for(;null!==d&&40&d.type;)d=(c=d).parent;if(null===d)return A[0];if(2&d.flags){const g=l.data[d.directiveStart].encapsulation;if(g===Nr.None||g===Nr.Emulated)return null}return Go(d,A)}(l,c.parent,A)}function Nl(l,c,A,d,g){Ui(l)?l.insertBefore(c,A,d,g):c.insertBefore(A,d,g)}function nh(l,c,A){Ui(l)?l.appendChild(c,A):c.appendChild(A)}function lA(l,c,A,d,g){null!==d?Nl(l,c,A,d,g):nh(l,c,A)}function Pl(l,c){return Ui(l)?l.parentNode(c):c.parentNode}let oy=function Vh(l,c,A){return 40&l.type?Go(l,A):null};function vu(l,c,A,d){const g=qd(l,d,c),w=c[11],O=function Hn(l,c,A){return oy(l,c,A)}(d.parent||c[6],d,c);if(null!=g)if(Array.isArray(A))for(let Q=0;Q<A.length;Q++)lA(w,g,A[Q],O,!1);else lA(w,g,A,O,!1)}function rh(l,c){if(null!==c){const A=c.type;if(3&A)return Go(c,l);if(4&A)return Ng(-1,l[c.index]);if(8&A){const d=c.child;if(null!==d)return rh(l,d);{const g=l[c.index];return Ja(g)?Ng(-1,g):Qi(g)}}if(32&A)return Sc(c,l)()||Qi(l[c.index]);{const d=yp(l,c);return null!==d?Array.isArray(d)?d[0]:rh(Qa(l[16]),d):rh(l,c.next)}}return null}function yp(l,c){return null!==c?l[16][6].projection[c.projection]:null}function Ng(l,c){const A=10+l+1;if(A<c.length){const d=c[A],g=d[1].firstChild;if(null!==g)return rh(d,g)}return c[7]}function _u(l,c,A,d,g,w,T){for(;null!=A;){const O=d[A.index],Q=A.type;if(T&&0===c&&(O&&Ps(Qi(O),d),A.flags|=4),64!=(64&A.flags))if(8&Q)_u(l,c,A.child,d,g,w,!1),Kd(c,l,g,O,w);else if(32&Q){const q=Sc(A,d);let J;for(;J=q();)Kd(c,l,g,J,w);Kd(c,l,g,O,w)}else 16&Q?jh(l,c,d,A,g,w):Kd(c,l,g,O,w);A=T?A.projectionNext:A.next}}function Dc(l,c,A,d,g,w){_u(A,d,l.firstChild,c,g,w,!1)}function jh(l,c,A,d,g,w){const T=A[16],Q=T[6].projection[d.projection];if(Array.isArray(Q))for(let q=0;q<Q.length;q++)Kd(c,l,g,Q[q],w);else _u(l,c,Q,T[3],g,w,!0)}function ly(l,c,A){Ui(l)?l.setAttribute(c,"style",A):c.style.cssText=A}function vp(l,c,A){Ui(l)?""===A?l.removeAttribute(c,"class"):l.setAttribute(c,"class",A):c.className=A}class bp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Cu(l){return l instanceof bp?l.changingThisBreaksApplicationSecurity:l}const hA=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Es=(()=>((Es=Es||{})[Es.NONE=0]="NONE",Es[Es.HTML=1]="HTML",Es[Es.STYLE=2]="STYLE",Es[Es.SCRIPT=3]="SCRIPT",Es[Es.URL=4]="URL",Es[Es.RESOURCE_URL=5]="RESOURCE_URL",Es))();function Su(l){const c=function Bp(){const l=Lt();return l&&l[12]}();return c?c.sanitize(Es.URL,l)||"":function mi(l,c){const A=function AA(l){return l instanceof bp&&l.getTypeName()||null}(l);if(null!=A&&A!==c){if("ResourceURL"===A&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${A} (see https://g.co/ng/security#xss)`)}return A===c}(l,"URL")?Cu(l):function Iu(l){return(l=String(l)).match(hA)||l.match(cy)?l:"unsafe:"+l}(ct(l))}function dv(l){return l.ngOriginalError}function rE(l,...c){l.error(...c)}class fv{constructor(){this._console=console}handleError(c){const A=this._findOriginalError(c),d=function D2(l){return l&&l.ngErrorLogger||rE}(c);d(this._console,"ERROR",c),A&&d(this._console,"ORIGINAL ERROR",A)}_findOriginalError(c){let A=c&&dv(c);for(;A&&dv(A);)A=dv(A);return A||null}}const Pw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pr))();function oc(l){return l instanceof Function?l():l}function sf(l,c,A){let d=l.length;for(;;){const g=l.indexOf(c,A);if(-1===g)return g;if(0===g||l.charCodeAt(g-1)<=32){const w=c.length;if(g+w===d||l.charCodeAt(g+w)<=32)return g}A=g+1}}const cE="ng-template";function Ea(l,c,A){let d=0;for(;d<l.length;){let g=l[d++];if(A&&"class"===g){if(g=l[d],-1!==sf(g.toLowerCase(),c,0))return!0}else if(1===g){for(;d<l.length&&"string"==typeof(g=l[d++]);)if(g.toLowerCase()===c)return!0;return!1}}return!1}function Rw(l){return 4===l.type&&l.value!==cE}function uE(l,c,A){return c===(4!==l.type||A?l.value:cE)}function $o(l,c,A){let d=4;const g=l.attrs||[],w=function hE(l){for(let c=0;c<l.length;c++)if(No(l[c]))return c;return l.length}(g);let T=!1;for(let O=0;O<c.length;O++){const Q=c[O];if("number"!=typeof Q){if(!T)if(4&d){if(d=2|1&d,""!==Q&&!uE(l,Q,A)||""===Q&&1===c.length){if(bo(d))return!1;T=!0}}else{const q=8&d?Q:c[++O];if(8&d&&null!==l.attrs){if(!Ea(l.attrs,q,A)){if(bo(d))return!1;T=!0}continue}const Te=kw(8&d?"class":Q,g,Rw(l),A);if(-1===Te){if(bo(d))return!1;T=!0;continue}if(""!==q){let $e;$e=Te>w?"":g[Te+1].toLowerCase();const dt=8&d?$e:null;if(dt&&-1!==sf(dt,q,0)||2&d&&q!==$e){if(bo(d))return!1;T=!0}}}}else{if(!T&&!bo(d)&&!bo(Q))return!1;if(T&&bo(Q))continue;T=!1,d=Q|1&d}}return bo(d)||T}function bo(l){return 0==(1&l)}function kw(l,c,A,d){if(null===c)return-1;let g=0;if(d||!A){let w=!1;for(;g<c.length;){const T=c[g];if(T===l)return g;if(3===T||6===T)w=!0;else{if(1===T||2===T){let O=c[++g];for(;"string"==typeof O;)O=c[++g];continue}if(4===T)break;if(0===T){g+=4;continue}}g+=w?1:2}return-1}return function Uw(l,c){let A=l.indexOf(4);if(A>-1)for(A++;A<l.length;){const d=l[A];if("number"==typeof d)return-1;if(d===c)return A;A++}return-1}(c,l)}function Kg(l,c,A=!1){for(let d=0;d<c.length;d++)if($o(l,c[d],A))return!0;return!1}function Qw(l,c){return l?":not("+c.trim()+")":c}function xp(l){let c=l[0],A=1,d=2,g="",w=!1;for(;A<l.length;){let T=l[A];if("string"==typeof T)if(2&d){const O=l[++A];g+="["+T+(O.length>0?'="'+O+'"':"")+"]"}else 8&d?g+="."+T:4&d&&(g+=" "+T);else""!==g&&!bo(T)&&(c+=Qw(w,g),g=""),d=T,w=w||!bo(d);A++}return""!==g&&(c+=Qw(w,g)),c}const Fr={};function Wh(l){zh(li(),Lt(),Ns()+l,!1)}function zh(l,c,A,d){if(!d)if(3==(3&c[2])){const w=l.preOrderCheckHooks;null!==w&&sl(c,w,A)}else{const w=l.preOrderHooks;null!==w&&su(c,w,0,A)}tc(A)}function dA(l,c){return l<<17|c<<2}function E(l){return l>>17&32767}function B(l){return 2|l}function k(l){return(131068&l)>>2}function G(l,c){return-131069&l|c<<2}function Ie(l){return 1|l}function Fp(l,c){const A=l.contentQueries;if(null!==A)for(let d=0;d<A.length;d+=2){const g=A[d],w=A[d+1];if(-1!==w){const T=l.data[w];Ws(g),T.contentQueries(2,c[w],w)}}}function dy(l,c,A,d,g,w,T,O,Q,q){const J=c.blueprint.slice();return J[0]=g,J[2]=140|d,bc(J),J[3]=J[15]=l,J[8]=A,J[10]=T||l&&l[10],J[11]=O||l&&l[11],J[12]=Q||l&&l[12]||null,J[9]=q||l&&l[9]||null,J[6]=w,J[16]=2==c.type?l[16]:J,J}function fy(l,c,A,d,g){let w=l.data[c];if(null===w)w=function py(l,c,A,d,g){const w=El(),T=Il(),Q=l.data[c]=function IN(l,c,A,d,g,w){return{type:A,index:d,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?w:w&&w.parent,A,c,d,g);return null===l.firstChild&&(l.firstChild=Q),null!==w&&(T?null==w.child&&null!==Q.parent&&(w.child=Q):null===w.next&&(w.next=Q)),Q}(l,c,A,d,g),function Yu(){return vr.lFrame.inI18n}()&&(w.flags|=64);else if(64&w.type){w.type=A,w.value=d,w.attrs=g;const T=function Wo(){const l=vr.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();w.injectorIndex=null===T?-1:T.injectorIndex}return ka(w,!0),w}function Yh(l,c,A,d){if(0===A)return-1;const g=c.length;for(let w=0;w<A;w++)c.push(d),l.blueprint.push(d),l.data.push(null);return g}function gy(l,c,A){nu(c);try{const d=l.viewQuery;null!==d&&Zh(1,d,A);const g=l.template;null!==g&&Kw(l,c,g,1,A),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Fp(l,c),l.staticViewQueries&&Zh(2,l.viewQuery,A);const w=l.components;null!==w&&function M2(l,c){for(let A=0;A<c.length;A++)Xw(l,c[A])}(c,w)}catch(d){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),d}finally{c[2]&=-5,zs()}}function lf(l,c,A,d){const g=c[2];if(256!=(256&g)){nu(c);try{bc(c),function Sd(l){return vr.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==A&&Kw(l,c,A,2,d);const T=3==(3&g);if(T){const q=l.preOrderCheckHooks;null!==q&&sl(c,q,null)}else{const q=l.preOrderHooks;null!==q&&su(c,q,0,null),Dd(c,0)}if(function TN(l){for(let c=jd(l);null!==c;c=gs(c)){if(!c[2])continue;const A=c[9];for(let d=0;d<A.length;d++){const g=A[d],w=g[3];0==(1024&g[2])&&Dh(w,1),g[2]|=1024}}}(c),function DN(l){for(let c=jd(l);null!==c;c=gs(c))for(let A=10;A<c.length;A++){const d=c[A],g=d[1];Cl(d)&&lf(g,d,g.template,d[8])}}(c),null!==l.contentQueries&&Fp(l,c),T){const q=l.contentCheckHooks;null!==q&&sl(c,q)}else{const q=l.contentHooks;null!==q&&su(c,q,1),Dd(c,1)}!function wN(l,c){const A=l.hostBindingOpCodes;if(null!==A)try{for(let d=0;d<A.length;d++){const g=A[d];if(g<0)tc(~g);else{const w=g,T=A[++d],O=A[++d];Nh(T,w),O(2,c[w])}}}finally{tc(-1)}}(l,c);const O=l.components;null!==O&&function bN(l,c){for(let A=0;A<c.length;A++)FN(l,c[A])}(c,O);const Q=l.viewQuery;if(null!==Q&&Zh(2,Q,d),T){const q=l.viewCheckHooks;null!==q&&sl(c,q)}else{const q=l.viewHooks;null!==q&&su(c,q,2),Dd(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-73,1024&c[2]&&(c[2]&=-1025,Dh(c[3],-1))}finally{zs()}}}function CN(l,c,A,d){const g=c[10],T=Jc(c);try{!T&&g.begin&&g.begin(),T&&gy(l,c,d),lf(l,c,A,d)}finally{!T&&g.end&&g.end()}}function Kw(l,c,A,d,g){const w=Ns(),T=2&d;try{tc(-1),T&&c.length>20&&zh(l,c,20,!1),A(d,g)}finally{tc(w)}}function Gw(l,c,A){!Bd()||(function pE(l,c,A,d){const g=A.directiveStart,w=A.directiveEnd;l.firstCreatePass||yo(A,c),Ps(d,c);const T=A.initialInputs;for(let O=g;O<w;O++){const Q=l.data[O],q=el(Q);q&&$w(c,A,Q);const J=al(c,l,O,A);Ps(J,c),null!==T&&G2(0,O-g,J,Q,0,T),q&&(ea(A.index,c)[8]=J)}}(l,c,A,Go(A,c)),128==(128&A.flags)&&function H2(l,c,A){const d=A.directiveStart,g=A.directiveEnd,T=A.index,O=function Zf(){return vr.lFrame.currentDirectiveIndex}();try{tc(T);for(let Q=d;Q<g;Q++){const q=l.data[Q],J=c[Q];mo(Q),(null!==q.hostBindings||0!==q.hostVars||null!==q.hostAttrs)&&qw(q,J)}}finally{tc(-1),mo(O)}}(l,c,A))}function Ww(l,c,A=Go){const d=c.localNames;if(null!==d){let g=c.index+1;for(let w=0;w<d.length;w+=2){const T=d[w+1],O=-1===T?A(c,l):l[T];l[g++]=O}}}function N2(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=zw(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function zw(l,c,A,d,g,w,T,O,Q,q){const J=20+d,Te=J+g,$e=function EN(l,c){const A=[];for(let d=0;d<c;d++)A.push(d<l?null:Fr);return A}(J,Te),dt="function"==typeof q?q():q;return $e[1]={type:l,blueprint:$e,template:A,queries:null,viewQuery:O,declTNode:c,data:$e.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:Q,consts:dt,incompleteFirstPass:!1}}function O2(l,c,A,d){const g=Y2(c);null===A?g.push(d):(g.push(A),l.firstCreatePass&&Z2(l).push(d,g.length-1))}function L2(l,c,A){for(let d in l)if(l.hasOwnProperty(d)){const g=l[d];(A=null===A?{}:A).hasOwnProperty(d)?A[d].push(c,g):A[d]=[c,g]}return A}function fE(l,c,A,d){let g=!1;if(Bd()){const w=function gE(l,c,A){const d=l.directiveRegistry;let g=null;if(d)for(let w=0;w<d.length;w++){const T=d[w];Kg(A,T.selectors,!1)&&(g||(g=[]),Md(yo(A,c),l,T.type),el(T)?(V2(l,A),g.unshift(T)):g.push(T))}return g}(l,c,A),T=null===d?null:{"":-1};if(null!==w){g=!0,j2(A,l.data.length,w.length);for(let J=0;J<w.length;J++){const Te=w[J];Te.providersResolver&&Te.providersResolver(Te)}let O=!1,Q=!1,q=Yh(l,c,w.length,null);for(let J=0;J<w.length;J++){const Te=w[J];A.mergedAttrs=ou(A.mergedAttrs,Te.hostAttrs),K2(l,A,c,q,Te),xN(q,Te,T),null!==Te.contentQueries&&(A.flags|=8),(null!==Te.hostBindings||null!==Te.hostAttrs||0!==Te.hostVars)&&(A.flags|=128);const $e=Te.type.prototype;!O&&($e.ngOnChanges||$e.ngOnInit||$e.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(A.index),O=!0),!Q&&($e.ngOnChanges||$e.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(A.index),Q=!0),q++}!function R2(l,c){const d=c.directiveEnd,g=l.data,w=c.attrs,T=[];let O=null,Q=null;for(let q=c.directiveStart;q<d;q++){const J=g[q],Te=J.inputs,$e=null===w||Rw(c)?null:W2(Te,w);T.push($e),O=L2(Te,q,O),Q=L2(J.outputs,q,Q)}null!==O&&(O.hasOwnProperty("class")&&(c.flags|=16),O.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=T,c.inputs=O,c.outputs=Q}(l,A)}T&&function bv(l,c,A){if(c){const d=l.localNames=[];for(let g=0;g<c.length;g+=2){const w=A[c[g+1]];if(null==w)throw new lt(-301,!1);d.push(c[g],w)}}}(A,d,T)}return A.mergedAttrs=ou(A.mergedAttrs,A.attrs),g}function wv(l,c,A,d,g,w){const T=w.hostBindings;if(T){let O=l.hostBindingOpCodes;null===O&&(O=l.hostBindingOpCodes=[]);const Q=~c.index;(function Q2(l){let c=l.length;for(;c>0;){const A=l[--c];if("number"==typeof A&&A<0)return A}return 0})(O)!=Q&&O.push(Q),O.push(d,g,T)}}function qw(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function V2(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function xN(l,c,A){if(A){if(c.exportAs)for(let d=0;d<c.exportAs.length;d++)A[c.exportAs[d]]=l;el(c)&&(A[""]=l)}}function j2(l,c,A){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+A,l.providerIndexes=c}function K2(l,c,A,d,g){l.data[d]=g;const w=g.factory||(g.factory=Fo(g.type)),T=new _e(w,el(g),null);l.blueprint[d]=T,A[d]=T,wv(l,c,0,d,Yh(l,A,g.hostVars,Fr),g)}function $w(l,c,A){const d=Go(c,l),g=N2(A),w=l[10],T=yy(l,dy(l,g,null,A.onPush?64:16,d,c,w,w.createRenderer(d,A),null,null));l[c.index]=T}function Pc(l,c,A,d,g,w){const T=Go(l,c);!function Cv(l,c,A,d,g,w,T){if(null==w)Ui(l)?l.removeAttribute(c,g,A):c.removeAttribute(g);else{const O=null==T?ct(w):T(w,d||"",g);Ui(l)?l.setAttribute(c,g,O,A):A?c.setAttributeNS(A,g,O):c.setAttribute(g,O)}}(c[11],T,w,l.value,A,d,g)}function G2(l,c,A,d,g,w){const T=w[c];if(null!==T){const O=d.setInput;for(let Q=0;Q<T.length;){const q=T[Q++],J=T[Q++],Te=T[Q++];null!==O?d.setInput(A,Te,q,J):A[J]=Te}}}function W2(l,c){let A=null,d=0;for(;d<c.length;){const g=c[d];if(0!==g)if(5!==g){if("number"==typeof g)break;l.hasOwnProperty(g)&&(null===A&&(A=[]),A.push(g,l[g],c[d+1])),d+=2}else d+=2;else d+=4}return A}function Yw(l,c,A,d){return new Array(l,!0,!1,c,null,0,d,A,null,null)}function FN(l,c){const A=ea(c,l);if(Cl(A)){const d=A[1];80&A[2]?lf(d,A,d.template,A[8]):A[5]>0&&Zw(A)}}function Zw(l){for(let d=jd(l);null!==d;d=gs(d))for(let g=10;g<d.length;g++){const w=d[g];if(1024&w[2]){const T=w[1];lf(T,w,T.template,w[8])}else w[5]>0&&Zw(w)}const A=l[1].components;if(null!==A)for(let d=0;d<A.length;d++){const g=ea(A[d],l);Cl(g)&&g[5]>0&&Zw(g)}}function Xw(l,c){const A=ea(c,l),d=A[1];(function MN(l,c){for(let A=c.length;A<l.blueprint.length;A++)c.push(l.blueprint[A])})(d,A),gy(d,A,A[8])}function yy(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function mE(l){for(;l;){l[2]|=64;const c=Qa(l);if(_c(l)&&!c)return l;l=c}return null}function q2(l){!function Jw(l){for(let c=0;c<l.components.length;c++){const A=l.components[c],d=Uh(A),g=d[1];CN(g,d,g.template,A)}}(l[8])}function Zh(l,c,A){Ws(0),c(l,A)}const Wg=(()=>Promise.resolve(null))();function Y2(l){return l[7]||(l[7]=[])}function Z2(l){return l.cleanup||(l.cleanup=[])}function J2(l,c){const A=l[9],d=A?A.get(fv,null):null;d&&d.handleError(c)}function vy(l,c,A,d,g){for(let w=0;w<A.length;){const T=A[w++],O=A[w++],Q=c[T],q=l.data[T];null!==q.setInput?q.setInput(Q,g,d,O):Q[O]=g}}function xu(l,c,A){const d=qu(c,l);!function Gd(l,c,A){Ui(l)?l.setValue(c,A):c.textContent=A}(l[11],d,A)}function eb(l,c,A){let d=A?l.styles:null,g=A?l.classes:null,w=0;if(null!==c)for(let T=0;T<c.length;T++){const O=c[T];"number"==typeof O?w=O:1==w?g=ae(g,O):2==w&&(d=ae(d,O+": "+c[++T]+";"))}A?l.styles=d:l.stylesWithoutHost=d,A?l.classes=g:l.classesWithoutHost=g}const Iv=new Cs("INJECTOR",-1);class _E{get(c,A=Au){if(A===Au){const d=new Error(`NullInjectorError: No provider for ${Z(c)}!`);throw d.name="NullInjectorError",d}return A}}const wE=new Cs("Set Injector scope."),Bv={},bE={};let Oc;function CE(){return void 0===Oc&&(Oc=new _E),Oc}function EE(l,c=null,A=null,d){const g=Sv(l,c,A,d);return g._resolveInjectorDefTypes(),g}function Sv(l,c=null,A=null,d){return new tb(l,A,c||CE(),d)}class tb{constructor(c,A,d,g=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const w=[];A&&Si(A,O=>this.processProvider(O,c,A)),Si([c],O=>this.processInjectorType(O,[],w)),this.records.set(Iv,uf(void 0,this));const T=this.records.get(wE);this.scope=null!=T?T.value:null,this.source=g||("object"==typeof c?null:Z(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,A=Au,d=er.Default){this.assertNotDestroyed();const g=kd(this),w=Fi(void 0);try{if(!(d&er.SkipSelf)){let O=this.records.get(c);if(void 0===O){const Q=function LN(l){return"function"==typeof l||"object"==typeof l&&l instanceof Cs}(c)&&Cr(c);O=Q&&this.injectableDefInScope(Q)?uf(IE(c),Bv):null,this.records.set(c,O)}if(null!=O)return this.hydrate(c,O)}return(d&er.Self?CE():this.parent).get(c,A=d&er.Optional&&A===Au?null:A)}catch(T){if("NullInjectorError"===T.name){if((T[Rd]=T[Rd]||[]).unshift(Z(c)),g)throw T;return function Ap(l,c,A,d){const g=l[Rd];throw c[Mn]&&g.unshift(c[Mn]),l.message=function Bc(l,c,A,d=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let g=Z(c);if(Array.isArray(c))g=c.map(Z).join(" -> ");else if("object"==typeof c){let w=[];for(let T in c)if(c.hasOwnProperty(T)){let O=c[T];w.push(T+":"+("string"==typeof O?JSON.stringify(O):Z(O)))}g=`{${w.join(", ")}}`}return`${A}${d?"("+d+")":""}[${g}]: ${l.replace(qA,"\n  ")}`}("\n"+l.message,g,A,d),l.ngTokenPath=g,l[Rd]=null,l}(T,c,"R3InjectorError",this.source)}throw T}finally{Fi(w),kd(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((d,g)=>c.push(Z(g))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processInjectorType(c,A,d){if(!(c=fe(c)))return!1;let g=hi(c);const w=null==g&&c.ngModule||void 0,T=void 0===w?c:w,O=-1!==d.indexOf(T);if(void 0!==w&&(g=hi(w)),null==g)return!1;if(null!=g.imports&&!O){let J;d.push(T);try{Si(g.imports,Te=>{this.processInjectorType(Te,A,d)&&(void 0===J&&(J=[]),J.push(Te))})}finally{}if(void 0!==J)for(let Te=0;Te<J.length;Te++){const{ngModule:$e,providers:dt}=J[Te];Si(dt,Vt=>this.processProvider(Vt,$e,dt||Yn))}}this.injectorDefTypes.add(T);const Q=Fo(T)||(()=>new T);this.records.set(T,uf(Q,Bv));const q=g.providers;if(null!=q&&!O){const J=c;Si(q,Te=>this.processProvider(Te,J,q))}return void 0!==w&&void 0!==c.providers}processProvider(c,A,d){let g=zg(c=fe(c))?c:fe(c&&c.provide);const w=function PN(l,c,A){return BE(l)?uf(void 0,l.useValue):uf(ex(l),Bv)}(c);if(zg(c)||!0!==c.multi)this.records.get(g);else{let T=this.records.get(g);T||(T=uf(void 0,Bv,!0),T.factory=()=>YA(T.multi),this.records.set(g,T)),g=c,T.multi.push(c)}this.records.set(g,w)}hydrate(c,A){return A.value===Bv&&(A.value=bE,A.value=A.factory()),"object"==typeof A.value&&A.value&&function ON(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(A.value)&&this.onDestroy.add(A.value),A.value}injectableDefInScope(c){if(!c.providedIn)return!1;const A=fe(c.providedIn);return"string"==typeof A?"any"===A||A===this.scope:this.injectorDefTypes.has(A)}}function IE(l){const c=Cr(l),A=null!==c?c.factory:Fo(l);if(null!==A)return A;if(l instanceof Cs)throw new lt(204,!1);if(l instanceof Function)return function NN(l){const c=l.length;if(c>0)throw nA(c,"?"),new lt(204,!1);const A=function Na(l){const c=l&&(l[Qs]||l[Vi]);if(c){const A=function Ds(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${A}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${A}" class.`),c}return null}(l);return null!==A?()=>A.factory(l):()=>new l}(l);throw new lt(204,!1)}function ex(l,c,A){let d;if(zg(l)){const g=fe(l);return Fo(g)||IE(g)}if(BE(l))d=()=>fe(l.useValue);else if(function nb(l){return!(!l||!l.useFactory)}(l))d=()=>l.useFactory(...YA(l.deps||[]));else if(function tx(l){return!(!l||!l.useExisting)}(l))d=()=>ia(fe(l.useExisting));else{const g=fe(l&&(l.useClass||l.provide));if(!function nx(l){return!!l.deps}(l))return Fo(g)||IE(g);d=()=>new g(...YA(l.deps))}return d}function uf(l,c,A=!1){return{factory:l,value:c,multi:A?[]:void 0}}function BE(l){return null!==l&&"object"==typeof l&&ov in l}function zg(l){return"function"==typeof l}let Xh=(()=>{class l{static create(A,d){var g;if(Array.isArray(A))return EE({name:""},d,A,"");{const w=null!==(g=A.name)&&void 0!==g?g:"";return EE({name:w},A.parent,A.providers,w)}}}return l.THROW_IF_NOT_FOUND=Au,l.NULL=new _E,l.\u0275prov=jr({token:l,providedIn:"any",factory:()=>ia(Iv)}),l.__NG_ELEMENT_ID__=-1,l})();function VN(l,c){RA(Uh(l)[1],hs())}function hx(l){let c=function TE(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),A=!0;const d=[l];for(;c;){let g;if(el(l))g=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new lt(903,"");g=c.\u0275dir}if(g){if(A){d.push(g);const T=l;T.inputs=ab(l.inputs),T.declaredInputs=ab(l.declaredInputs),T.outputs=ab(l.outputs);const O=g.hostBindings;O&&jN(l,O);const Q=g.viewQuery,q=g.contentQueries;if(Q&&fx(l,Q),q&&px(l,q),pe(l.inputs,g.inputs),pe(l.declaredInputs,g.declaredInputs),pe(l.outputs,g.outputs),el(g)&&g.data.animation){const J=l.data;J.animation=(J.animation||[]).concat(g.data.animation)}}const w=g.features;if(w)for(let T=0;T<w.length;T++){const O=w[T];O&&O.ngInherit&&O(l),O===hx&&(A=!1)}}c=Object.getPrototypeOf(c)}!function dx(l){let c=0,A=null;for(let d=l.length-1;d>=0;d--){const g=l[d];g.hostVars=c+=g.hostVars,g.hostAttrs=ou(g.hostAttrs,A=ou(A,g.hostAttrs))}}(d)}function ab(l){return l===Ii?{}:l===Yn?[]:l}function fx(l,c){const A=l.viewQuery;l.viewQuery=A?(d,g)=>{c(d,g),A(d,g)}:c}function px(l,c){const A=l.contentQueries;l.contentQueries=A?(d,g,w)=>{c(d,g,w),A(d,g,w)}:c}function jN(l,c){const A=l.hostBindings;l.hostBindings=A?(d,g)=>{c(d,g),A(d,g)}:c}let Tv=null;function _y(){if(!Tv){const l=Pr.Symbol;if(l&&l.iterator)Tv=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let A=0;A<c.length;++A){const d=c[A];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Tv=d)}}}return Tv}function Fv(l){return!!Mv(l)&&(Array.isArray(l)||!(l instanceof Map)&&_y()in l)}function Mv(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Rl(l,c,A){return!Object.is(l[c],A)&&(l[c]=A,!0)}function ME(l,c,A,d){const g=Lt();return Rl(g,Bl(),c)&&(li(),Pc(is(),g,l,c,A,d)),ME}function RE(l,c,A,d,g,w,T,O){const Q=Lt(),q=li(),J=l+20,Te=q.firstCreatePass?function YN(l,c,A,d,g,w,T,O,Q){const q=c.consts,J=fy(c,l,4,T||null,Zl(q,O));fE(c,A,J,Zl(q,Q)),RA(c,J);const Te=J.tViews=zw(2,J,d,g,w,c.directiveRegistry,c.pipeRegistry,null,c.schemas,q);return null!==c.queries&&(c.queries.template(c,J),Te.queries=c.queries.embeddedTView(J)),J}(J,q,Q,c,A,d,g,w,T):q.data[J];ka(Te,!1);const $e=Q[11].createComment("");vu(q,Q,$e,Te),Ps($e,Q),yy(Q,Q[J]=Yw($e,Q,$e,Te)),$c(Te)&&Gw(q,Q,Te),null!=T&&Ww(Q,Te,O)}const yx={\u0275\u0275defineInjectable:jr,\u0275\u0275defineInjector:wr,\u0275\u0275inject:ia,\u0275\u0275invalidFactoryDep:function up(l){throw new Error("invalid")},resolveForwardRef:fe};const JN=Ae({provide:String,useValue:Ae});function _x(l){return void 0!==l.useClass}function ub(l){return void 0!==l.useFactory}const wx=tA("Injectable",void 0,void 0,void 0,(l,c)=>function vx(l,c){let A=null,d=null;l.hasOwnProperty(Qs)||Object.defineProperty(l,Qs,{get:()=>(null===A&&(A=es().compileInjectable(yx,`ng:///${l.name}/\u0275prov.js`,function nP(l,c){const A=c||{providedIn:null},d={name:l.name,type:l,typeArgumentCount:0,providedIn:A.providedIn};return(_x(A)||ub(A))&&void 0!==A.deps&&(d.deps=Hi(A.deps)),_x(A)?d.useClass=A.useClass:function eP(l){return JN in l}(A)?d.useValue=A.useValue:ub(A)?d.useFactory=A.useFactory:function tP(l){return void 0!==l.useExisting}(A)&&(d.useExisting=A.useExisting),d}(l,c))),A)}),l.hasOwnProperty(Ht)||Object.defineProperty(l,Ht,{get:()=>{if(null===d){const g=es();d=g.compileFactory(yx,`ng:///${l.name}/\u0275fac.js`,{name:l.name,type:l,typeArgumentCount:0,deps:kh(l),target:g.FactoryTarget.Injectable})}return d},configurable:!0})}(l,c));function By(l,c=er.Default){const A=Lt();return null===A?ia(l,c):ol(hs(),A,fe(l),c)}function fb(){throw new Error("invalid")}function pb(l,c,A){const d=Lt();return Rl(d,Bl(),c)&&function ac(l,c,A,d,g,w,T,O){const Q=Go(c,A);let J,q=c.inputs;!O&&null!=q&&(J=q[d])?(vy(l,A,J,d,g),gd(c)&&function cf(l,c){const A=ea(c,l);16&A[2]||(A[2]|=64)}(A,c.index)):3&c.type&&(d=function dE(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(d),g=null!=T?T(g,c.value||"",d):g,Ui(w)?w.setProperty(Q,d,g):zo(d)||(Q.setProperty?Q.setProperty(d,g):Q[d]=g))}(li(),is(),d,l,c,d[11],A,!1),pb}function Ov(l,c,A,d,g){const T=g?"class":"style";vy(l,A,c.inputs[T],T,d)}function Lv(l,c,A,d){const g=Lt(),w=li(),T=20+l,O=g[11],Q=g[T]=Wd(O,c,function Wm(){return vr.lFrame.currentNamespace}()),q=w.firstCreatePass?function Mx(l,c,A,d,g,w,T){const O=c.consts,q=fy(c,l,2,g,Zl(O,w));return fE(c,A,q,Zl(O,T)),null!==q.attrs&&eb(q,q.attrs,!1),null!==q.mergedAttrs&&eb(q,q.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,q),q}(T,w,g,0,c,A,d):w.data[T];ka(q,!0);const J=q.mergedAttrs;null!==J&&gi(O,Q,J);const Te=q.classes;null!==Te&&vp(O,Q,Te);const $e=q.styles;return null!==$e&&ly(O,Q,$e),64!=(64&q.flags)&&vu(w,g,Q,q),0===function PA(){return vr.lFrame.elementDepthCount}()&&Ps(Q,g),function Id(){vr.lFrame.elementDepthCount++}(),$c(q)&&(Gw(w,g,q),function yv(l,c,A){if(FA(c)){const g=c.directiveEnd;for(let w=c.directiveStart;w<g;w++){const T=l.data[w];T.contentQueries&&T.contentQueries(1,A[w],w)}}}(w,q,g)),null!==d&&Ww(g,q),Lv}function Rv(){let l=hs();Il()?function ds(){vr.lFrame.isParent=!1}():(l=l.parent,ka(l,!1));const c=l;!function Fh(){vr.lFrame.elementDepthCount--}();const A=li();return A.firstCreatePass&&(RA(A,l),FA(l)&&A.queries.elementEnd(l)),null!=c.classesWithoutHost&&function na(l){return 0!=(16&l.flags)}(c)&&Ov(A,c,Lt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function di(l){return 0!=(32&l.flags)}(c)&&Ov(A,c,Lt(),c.stylesWithoutHost,!1),Rv}function kv(l,c,A,d){return Lv(l,c,A,d),Rv(),kv}function Ul(){return Lt()}function yb(l){return!!l&&"function"==typeof l.then}function lP(l){return!!l&&"function"==typeof l.subscribe}const cP=lP;function vb(l,c,A,d){const g=Lt(),w=li(),T=hs();return function Uv(l,c,A,d,g,w,T,O){const Q=$c(d),J=l.firstCreatePass&&Z2(l),Te=c[8],$e=Y2(c);let dt=!0;if(3&d.type||O){const dn=Go(d,c),qn=O?O(dn):dn,Yt=$e.length,Ar=O?_i=>O(Qi(_i[d.index])):d.index;if(Ui(A)){let _i=null;if(!O&&Q&&(_i=function GE(l,c,A,d){const g=l.cleanup;if(null!=g)for(let w=0;w<g.length-1;w+=2){const T=g[w];if(T===A&&g[w+1]===d){const O=c[7],Q=g[w+2];return O.length>Q?O[Q]:null}"string"==typeof T&&(w+=2)}return null}(l,c,g,d.index)),null!==_i)(_i.__ngLastListenerFn__||_i).__ngNextListenerFn__=w,_i.__ngLastListenerFn__=w,dt=!1;else{w=Qv(d,c,Te,w,!1);const ei=A.listen(qn,g,w);$e.push(w,ei),J&&J.push(g,Ar,Yt,Yt+1)}}else w=Qv(d,c,Te,w,!0),qn.addEventListener(g,w,T),$e.push(w),J&&J.push(g,Ar,Yt,T)}else w=Qv(d,c,Te,w,!1);const Vt=d.outputs;let hn;if(dt&&null!==Vt&&(hn=Vt[g])){const dn=hn.length;if(dn)for(let qn=0;qn<dn;qn+=2){const Qc=c[hn[qn]][hn[qn+1]].subscribe(w),um=$e.length;$e.push(w,Qc),J&&J.push(g,d.index,um,-(um+1))}}}(w,g,g[11],T,l,c,!!A,d),vb}function Px(l,c,A,d){try{return!1!==A(d)}catch(g){return J2(l,g),!1}}function Qv(l,c,A,d,g){return function w(T){if(T===Function)return d;const O=2&l.flags?ea(l.index,c):c;0==(32&c[2])&&mE(O);let Q=Px(c,0,d,T),q=w.__ngNextListenerFn__;for(;q;)Q=Px(c,0,q,T)&&Q,q=q.__ngNextListenerFn__;return g&&!1===Q&&(T.preventDefault(),T.returnValue=!1),Q}}function Ox(l=1){return function gg(l){return(vr.lFrame.contextLView=function mg(l,c){for(;l>0;)c=c[15],l--;return c}(l,vr.lFrame.contextLView))[8]}(l)}function wb(l,c,A,d,g){const w=l[A+1],T=null===c;let O=d?E(w):k(w),Q=!1;for(;0!==O&&(!1===Q||T);){const J=l[O+1];bb(l[O],c)&&(Q=!0,l[O+1]=d?Ie(J):B(J)),O=d?E(J):k(J)}Q&&(l[A+1]=d?B(w):Ie(w))}function bb(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&uu(l,c)>=0}function Vv(l,c){return function uh(l,c,A,d){const g=Lt(),w=li(),T=function Sl(l){const c=vr.lFrame,A=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,A}(2);w.firstUpdatePass&&function Ib(l,c,A,d){const g=l.data;if(null===g[A+1]){const w=g[Ns()],T=function YE(l,c){return c>=l.expandoStartIndex}(l,A);(function Ty(l,c){return 0!=(l.flags&(c?16:32))})(w,d)&&null===c&&!T&&(c=!1),c=function zx(l,c,A,d){const g=function ec(l){const c=vr.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}(l);let w=d?c.residualClasses:c.residualStyles;if(null===g)0===(d?c.classBindings:c.styleBindings)&&(A=Dy(A=xb(null,l,c,A,d),c.attrs,d),w=null);else{const T=c.directiveStylingLast;if(-1===T||l[T]!==g)if(A=xb(g,l,c,A,d),null===w){let Q=function Bb(l,c,A){const d=A?c.classBindings:c.styleBindings;if(0!==k(d))return l[E(d)]}(l,c,d);void 0!==Q&&Array.isArray(Q)&&(Q=xb(null,l,c,Q[1],d),Q=Dy(Q,c.attrs,d),function ZE(l,c,A,d){l[E(A?c.classBindings:c.styleBindings)]=d}(l,c,d,Q))}else w=function Sb(l,c,A){let d;const g=c.directiveEnd;for(let w=1+c.directiveStylingLast;w<g;w++)d=Dy(d,l[w].hostAttrs,A);return Dy(d,c.attrs,A)}(l,c,d)}return void 0!==w&&(d?c.residualClasses=w:c.residualStyles=w),A}(g,w,c,d),function _b(l,c,A,d,g,w){let T=w?c.classBindings:c.styleBindings,O=E(T),Q=k(T);l[d]=A;let J,q=!1;if(Array.isArray(A)){const Te=A;J=Te[1],(null===J||uu(Te,J)>0)&&(q=!0)}else J=A;if(g)if(0!==Q){const $e=E(l[O+1]);l[d+1]=dA($e,O),0!==$e&&(l[$e+1]=G(l[$e+1],d)),l[O+1]=function S(l,c){return 131071&l|c<<17}(l[O+1],d)}else l[d+1]=dA(O,0),0!==O&&(l[O+1]=G(l[O+1],d)),O=d;else l[d+1]=dA(Q,0),0===O?O=d:l[Q+1]=G(l[Q+1],d),Q=d;q&&(l[d+1]=B(l[d+1])),wb(l,J,d,!0),wb(l,J,d,!1),function hP(l,c,A,d,g){const w=g?l.residualClasses:l.residualStyles;null!=w&&"string"==typeof c&&uu(w,c)>=0&&(A[d+1]=Ie(A[d+1]))}(c,J,l,d,w),T=dA(O,Q),w?c.classBindings=T:c.styleBindings=T}(g,w,c,A,T,d)}}(w,l,T,d),c!==Fr&&Rl(g,T,c)&&function Db(l,c,A,d,g,w,T,O){if(!(3&c.type))return;const Q=l.data,q=Q[O+1];Kv(function ee(l){return 1==(1&l)}(q)?jv(Q,c,A,g,k(q),T):void 0)||(Kv(w)||function b(l){return 2==(2&l)}(q)&&(w=jv(Q,null,A,g,O,T)),function ay(l,c,A,d,g){const w=Ui(l);if(c)g?w?l.addClass(A,d):A.classList.add(d):w?l.removeClass(A,d):A.classList.remove(d);else{let T=-1===d.indexOf("-")?void 0:Tl.DashCase;if(null==g)w?l.removeStyle(A,d,T):A.style.removeProperty(d);else{const O="string"==typeof g&&g.endsWith("!important");O&&(g=g.slice(0,-10),T|=Tl.Important),w?l.setStyle(A,d,g,T):A.style.setProperty(d,g,O?"important":"")}}}(d,T,qu(Ns(),A),g,w))}(w,w.data[Ns()],g,g[11],l,g[T+1]=function mP(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Z(Cu(l)))),l}(c,A),d,T)}(l,c,null,!0),Vv}function xb(l,c,A,d,g){let w=null;const T=A.directiveEnd;let O=A.directiveStylingLast;for(-1===O?O=A.directiveStart:O++;O<T&&(w=c[O],d=Dy(d,w.hostAttrs,g),w!==l);)O++;return null!==l&&(A.directiveStylingLast=O),d}function Dy(l,c,A){const d=A?1:2;let g=-1;if(null!==c)for(let w=0;w<c.length;w++){const T=c[w];"number"==typeof T?g=T:g===d&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ua(l,T,!!A||c[++w]))}return void 0===l?null:l}function jv(l,c,A,d,g,w){const T=null===c;let O;for(;g>0;){const Q=l[g],q=Array.isArray(Q),J=q?Q[1]:Q,Te=null===J;let $e=A[g+1];$e===Fr&&($e=Te?Yn:void 0);let dt=Te?ap($e,d):J===d?$e:void 0;if(q&&!Kv(dt)&&(dt=ap(Q,d)),Kv(dt)&&(O=dt,T))return O;const Vt=l[g+1];g=T?E(Vt):k(Vt)}if(null!==c){let Q=w?c.residualClasses:c.residualStyles;null!=Q&&(O=ap(Q,d))}return O}function Kv(l){return void 0!==l}function Tb(l,c=""){const A=Lt(),d=li(),g=l+20,w=d.firstCreatePass?fy(d,g,1,c,null):d.data[g],T=A[g]=function gu(l,c){return Ui(l)?l.createText(c):l.createTextNode(c)}(A[11],c);vu(d,A,T,w),ka(w,!1)}function Fb(l){return eI("",l,""),Fb}function eI(l,c,A){const d=Lt(),g=function Yo(l,c,A,d){return Rl(l,Bl(),A)?c+ct(A)+d:Fr}(d,l,c,A);return g!==Fr&&xu(d,Ns(),g),eI}const Zg=void 0;var cI=["en",[["a","p"],["AM","PM"],Zg],[["AM","PM"],Zg,Zg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zg,"{1} 'at' {0}",Zg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rH(l){const A=Math.floor(Math.abs(l)),d=l.toString().replace(/^[^.]*\.?/,"").length;return 1===A&&0===d?1:5}];let Fy={};function uI(l){const c=function cD(l){return l.toLowerCase().replace(/_/g,"-")}(l);let A=lD(c);if(A)return A;const d=c.split("-")[0];if(A=lD(d),A)return A;if("en"===d)return cI;throw new Error(`Missing locale data for the locale "${l}".`)}function Op(l){return uI(l)[Ir.PluralCase]}function lD(l){return l in Fy||(Fy[l]=Pr.ng&&Pr.ng.common&&Pr.ng.common.locales&&Pr.ng.common.locales[l]),Fy[l]}var Ir=(()=>((Ir=Ir||{})[Ir.LocaleId=0]="LocaleId",Ir[Ir.DayPeriodsFormat=1]="DayPeriodsFormat",Ir[Ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ir[Ir.DaysFormat=3]="DaysFormat",Ir[Ir.DaysStandalone=4]="DaysStandalone",Ir[Ir.MonthsFormat=5]="MonthsFormat",Ir[Ir.MonthsStandalone=6]="MonthsStandalone",Ir[Ir.Eras=7]="Eras",Ir[Ir.FirstDayOfWeek=8]="FirstDayOfWeek",Ir[Ir.WeekendRange=9]="WeekendRange",Ir[Ir.DateFormat=10]="DateFormat",Ir[Ir.TimeFormat=11]="TimeFormat",Ir[Ir.DateTimeFormat=12]="DateTimeFormat",Ir[Ir.NumberSymbols=13]="NumberSymbols",Ir[Ir.NumberFormats=14]="NumberFormats",Ir[Ir.CurrencyCode=15]="CurrencyCode",Ir[Ir.CurrencySymbol=16]="CurrencySymbol",Ir[Ir.CurrencyName=17]="CurrencyName",Ir[Ir.Currencies=18]="Currencies",Ir[Ir.Directionality=19]="Directionality",Ir[Ir.PluralCase=20]="PluralCase",Ir[Ir.ExtraData=21]="ExtraData",Ir))();const My="en-US";let AD=My;function vI(l,c,A,d,g){if(l=fe(l),Array.isArray(l))for(let w=0;w<l.length;w++)vI(l[w],c,A,d,g);else{const w=li(),T=Lt();let O=zg(l)?l:fe(l.provide),Q=ex(l);const q=hs(),J=1048575&q.providerIndexes,Te=q.directiveStart,$e=q.providerIndexes>>20;if(zg(l)||!l.multi){const dt=new _e(Q,g,By),Vt=_I(O,c,g?J:J+$e,Te);-1===Vt?(Md(yo(q,T),w,O),Hb(w,l,c.length),c.push(O),q.directiveStart++,q.directiveEnd++,g&&(q.providerIndexes+=1048576),A.push(dt),T.push(dt)):(A[Vt]=dt,T[Vt]=dt)}else{const dt=_I(O,c,J+$e,Te),Vt=_I(O,c,J,J+$e),hn=dt>=0&&A[dt],dn=Vt>=0&&A[Vt];if(g&&!dn||!g&&!hn){Md(yo(q,T),w,O);const qn=function kD(l,c,A,d,g){const w=new _e(l,A,By);return w.multi=[],w.index=c,w.componentProviders=0,LD(w,g,d&&!A),w}(g?RD:JP,A.length,g,d,Q);!g&&dn&&(A[Vt].providerFactory=qn),Hb(w,l,c.length,0),c.push(O),q.directiveStart++,q.directiveEnd++,g&&(q.providerIndexes+=1048576),A.push(qn),T.push(qn)}else Hb(w,l,dt>-1?dt:Vt,LD(A[g?Vt:dt],Q,!g&&d));!g&&d&&dn&&A[Vt].componentProviders++}}}function Hb(l,c,A,d){const g=zg(c),w=function xv(l){return!!l.useClass}(c);if(g||w){const Q=(w?fe(c.useClass):c).prototype.ngOnDestroy;if(Q){const q=l.destroyHooks||(l.destroyHooks=[]);if(!g&&c.multi){const J=q.indexOf(A);-1===J?q.push(A,[d,Q]):q[J+1].push(d,Q)}else q.push(A,Q)}}}function LD(l,c,A){return A&&l.componentProviders++,l.multi.push(c)-1}function _I(l,c,A,d){for(let g=A;g<d;g++)if(c[g]===l)return g;return-1}function JP(l,c,A,d){return Vb(this.multi,[])}function RD(l,c,A,d){const g=this.multi;let w;if(this.providerFactory){const T=this.providerFactory.componentProviders,O=al(A,A[1],this.providerFactory.index,d);w=O.slice(0,T),Vb(g,w);for(let Q=T;Q<O.length;Q++)w.push(O[Q])}else w=[],Vb(g,w);return w}function Vb(l,c){for(let A=0;A<l.length;A++)c.push((0,l[A])());return c}function UD(l,c=[]){return A=>{A.providersResolver=(d,g)=>function XP(l,c,A){const d=li();if(d.firstCreatePass){const g=el(l);vI(A,d.data,d.blueprint,g,!0),vI(c,d.data,d.blueprint,g,!1)}}(d,g?g(l):l,c)}}class QD{}class VD{resolveComponentFactory(c){throw function tO(l){const c=Error(`No component factory found for ${Z(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let jb=(()=>{class l{}return l.NULL=new VD,l})();function rO(){return Vy(hs(),Lt())}function Vy(l,c){return new gA(Go(l,c))}let gA=(()=>{class l{constructor(A){this.nativeElement=A}}return l.__NG_ELEMENT_ID__=rO,l})();function wI(l){return l instanceof gA?l.nativeElement:l}class jD{}let Kb=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function KD(){const l=Lt(),A=ea(hs().index,l);return function jy(l){return l[11]}(po(A)?A:l)}(),l})(),iO=(()=>{class l{}return l.\u0275prov=jr({token:l,providedIn:"root",factory:()=>null}),l})();class GD{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const sO=new GD("13.3.12"),bI={};function Ky(l,c,A,d,g=!1){for(;null!==A;){const w=c[A.index];if(null!==w&&d.push(Qi(w)),Ja(w))for(let O=10;O<w.length;O++){const Q=w[O],q=Q[1].firstChild;null!==q&&Ky(Q[1],Q,q,d)}const T=A.type;if(8&T)Ky(l,c,A.child,d);else if(32&T){const O=Sc(A,c);let Q;for(;Q=O();)d.push(Q)}else if(16&T){const O=yp(c,A);if(Array.isArray(O))d.push(...O);else{const Q=Qa(c[16]);Ky(Q[1],Q,O,d,!0)}}A=g?A.projectionNext:A.next}return d}class Gy{constructor(c,A){this._lView=c,this._cdRefInjectingView=A,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,A=c[1];return Ky(A,c,A.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Ja(c)){const A=c[8],d=A?A.indexOf(this):-1;d>-1&&(eh(c,d),Ld(A,d))}this._attachedToViewContainer=!1}cl(this._lView[1],this._lView)}onDestroy(c){O2(this._lView[1],this._lView,null,c)}markForCheck(){mE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function yE(l,c,A){const d=c[10];d.begin&&d.begin();try{lf(l,c,l.template,A)}catch(g){throw J2(c,g),g}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uv(l,c){Dc(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new lt(902,"");this._appRef=c}}class oO extends Gy{constructor(c){super(c),this._view=c}detectChanges(){q2(this._view)}checkNoChanges(){}get context(){return null}}class CI extends jb{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const A=Nt(c);return new Gb(A,this.ngModule)}}function WD(l){const c=[];for(let A in l)l.hasOwnProperty(A)&&c.push({propName:l[A],templateName:A});return c}class Gb extends QD{constructor(c,A){super(),this.componentDef=c,this.ngModule=A,this.componentType=c.type,this.selector=function la(l){return l.map(xp).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!A}get inputs(){return WD(this.componentDef.inputs)}get outputs(){return WD(this.componentDef.outputs)}create(c,A,d,g){const w=(g=g||this.ngModule)?function qD(l,c){return{get:(A,d,g)=>{const w=l.get(A,bI,g);return w!==bI||d===bI?w:c.get(A,d,g)}}}(c,g.injector):c,T=w.get(jD,Bh),O=w.get(iO,null),Q=T.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",J=d?function P2(l,c,A){if(Ui(l))return l.selectRootElement(c,A===Nr.ShadowDom);let d="string"==typeof c?l.querySelector(c):c;return d.textContent="",d}(Q,d,this.componentDef.encapsulation):Wd(T.createRenderer(null,this.componentDef),q,function zD(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(q)),Te=this.componentDef.onPush?576:528,$e=function Ax(l,c){return{components:[],scheduler:l||Pw,clean:Wg,playerHandler:c||null,flags:0}}(),dt=zw(0,null,null,1,0,null,null,null,null,null),Vt=dy(null,dt,$e,Te,null,null,T,Q,O,w);let hn,dn;nu(Vt);try{const qn=function cx(l,c,A,d,g,w){const T=A[1];A[20]=l;const Q=fy(T,20,2,"#host",null),q=Q.mergedAttrs=c.hostAttrs;null!==q&&(eb(Q,q,!0),null!==l&&(gi(g,l,q),null!==Q.classes&&vp(g,l,Q.classes),null!==Q.styles&&ly(g,l,Q.styles)));const J=d.createRenderer(l,c),Te=dy(A,N2(c),null,c.onPush?64:16,A[20],Q,d,J,w||null,null);return T.firstCreatePass&&(Md(yo(Q,A),T,c.type),V2(T,Q),j2(Q,A.length,1)),yy(A,Te),A[20]=Te}(J,this.componentDef,Vt,T,Q);if(J)if(d)gi(Q,J,["ng-version",sO.full]);else{const{attrs:Yt,classes:Ar}=function Hw(l){const c=[],A=[];let d=1,g=2;for(;d<l.length;){let w=l[d];if("string"==typeof w)2===g?""!==w&&c.push(w,l[++d]):8===g&&A.push(w);else{if(!bo(g))break;g=w}d++}return{attrs:c,classes:A}}(this.componentDef.selectors[0]);Yt&&gi(Q,J,Yt),Ar&&Ar.length>0&&vp(Q,J,Ar.join(" "))}if(dn=$u(dt,20),void 0!==A){const Yt=dn.projection=[];for(let Ar=0;Ar<this.ngContentSelectors.length;Ar++){const _i=A[Ar];Yt.push(null!=_i?Array.from(_i):null)}}hn=function ux(l,c,A,d,g){const w=A[1],T=function U2(l,c,A){const d=hs();l.firstCreatePass&&(A.providersResolver&&A.providersResolver(A),K2(l,d,c,Yh(l,c,1,null),A));const g=al(c,l,d.directiveStart,d);Ps(g,c);const w=Go(d,c);return w&&Ps(w,c),g}(w,A,c);if(d.components.push(T),l[8]=T,g&&g.forEach(Q=>Q(T,c)),c.contentQueries){const Q=hs();c.contentQueries(1,T,Q.directiveStart)}const O=hs();return!w.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(tc(O.index),wv(A[1],O,0,O.directiveStart,O.directiveEnd,c),qw(c,T)),T}(qn,this.componentDef,Vt,$e,[VN]),gy(dt,Vt,null)}finally{zs()}return new YD(this.componentType,hn,Vy(dn,Vt),Vt,dn)}}class YD extends class eO{}{constructor(c,A,d,g,w){super(),this.location=d,this._rootLView=g,this._tNode=w,this.instance=A,this.hostView=this.changeDetectorRef=new oO(g),this.componentType=c}get injector(){return new eA(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}class em{}class $v{}const tm=new Map;class Wb extends em{constructor(c,A){super(),this._parent=A,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new CI(this);const d=un(c);this._bootstrapComponents=oc(d.bootstrap),this._r3Injector=Sv(c,A,[{provide:em,useValue:this},{provide:jb,useValue:this.componentFactoryResolver}],Z(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,A=Xh.THROW_IF_NOT_FOUND,d=er.Default){return c===Xh||c===em||c===Iv?this:this._r3Injector.get(c,A,d)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(A=>A()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class EI extends $v{constructor(c){super(),this.moduleType=c,null!==un(c)&&function Ki(l){const c=new Set;!function A(d){const g=un(d,!0),w=g.id;null!==w&&(function $i(l,c,A){if(c&&c!==A)throw new Error(`Duplicate module registered for ${l} - ${Z(c)} vs ${Z(c.name)}`)}(w,tm.get(w),d),tm.set(w,d));const T=oc(g.imports);for(const O of T)c.has(O)||(c.add(O),A(O))}(l)}(c)}create(c){return new Wb(this.moduleType,c)}}function $b(l){return c=>{setTimeout(l,void 0,c)}}const Ba=class qb extends p.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,A,d){var g,w,T;let O=c,Q=A||(()=>null),q=d;if(c&&"object"==typeof c){const Te=c;O=null===(g=Te.next)||void 0===g?void 0:g.bind(Te),Q=null===(w=Te.error)||void 0===w?void 0:w.bind(Te),q=null===(T=Te.complete)||void 0===T?void 0:T.bind(Te)}this.__isAsync&&(Q=$b(Q),O&&(O=$b(O)),q&&(q=$b(q)));const J=super.subscribe({next:O,error:Q,complete:q});return c instanceof Ee.w&&c.add(J),J}};function Yb(){return this._results[_y()]()}class Mu{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const A=_y(),d=Mu.prototype;d[A]||(d[A]=Yb)}get changes(){return this._changes||(this._changes=new Ba)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,A){return this._results.reduce(c,A)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,A){const d=this;d.dirty=!1;const g=fs(c);(this._changesDetected=!function Sw(l,c,A){if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++){let g=l[d],w=c[d];if(A&&(g=A(g),w=A(w)),w!==g)return!1}return!0}(d._results,g,A))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xv=(()=>{class l{}return l.__NG_ELEMENT_ID__=SI,l})();const Uc=Xv,fO=class extends Uc{constructor(c,A,d){super(),this._declarationLView=c,this._declarationTContainer=A,this.elementRef=d}createEmbeddedView(c){const A=this._declarationTContainer.tViews,d=dy(this._declarationLView,A,c,16,null,A.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(d[19]=w.createEmbeddedView(A)),gy(A,d,c),new Gy(d)}};function SI(){return zy(hs(),Lt())}function zy(l,c){return 4&l.type?new fO(c,l,Vy(l,c)):null}let Zb=(()=>{class l{}return l.__NG_ELEMENT_ID__=nT,l})();function nT(){return DI(hs(),Lt())}const rT=Zb,xI=class extends rT{constructor(c,A,d){super(),this._lContainer=c,this._hostTNode=A,this._hostLView=d}get element(){return Vy(this._hostTNode,this._hostLView)}get injector(){return new eA(this._hostTNode,this._hostLView)}get parentInjector(){const c=Ju(this._hostTNode,this._hostLView);if(ra(c)){const A=rc(c,this._hostLView),d=UA(c);return new eA(A[1].data[d+8],A)}return new eA(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const A=rm(this._lContainer);return null!==A&&A[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,A,d){const g=c.createEmbeddedView(A||{});return this.insert(g,d),g}createComponent(c,A,d,g,w){const T=c&&!Ic(c);let O;if(T)O=A;else{const Te=A||{};O=Te.index,d=Te.injector,g=Te.projectableNodes,w=Te.ngModuleRef}const Q=T?c:new Gb(Nt(c)),q=d||this.parentInjector;if(!w&&null==Q.ngModule){const $e=(T?q:this.parentInjector).get(em,null);$e&&(w=$e)}const J=Q.create(q,g,void 0,w);return this.insert(J.hostView,O),J}insert(c,A){const d=c._lView,g=d[1];if(function xh(l){return Ja(l[3])}(d)){const J=this.indexOf(c);if(-1!==J)this.detach(J);else{const Te=d[3],$e=new xI(Te,Te[6],Te[3]);$e.detach($e.indexOf(c))}}const w=this._adjustIndex(A),T=this._lContainer;!function zd(l,c,A,d){const g=10+d,w=A.length;d>0&&(A[g-1][4]=c),d<w-10?(c[4]=A[g],qs(A,10+d,c)):(A.push(c),c[4]=null),c[3]=A;const T=c[17];null!==T&&A!==T&&function xc(l,c){const A=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===A?l[9]=[c]:A.push(c)}(T,c);const O=c[19];null!==O&&O.insertView(l),c[2]|=128}(g,d,T,w);const O=Ng(w,T),Q=d[11],q=Pl(Q,T[7]);return null!==q&&function Tg(l,c,A,d,g,w){d[0]=g,d[6]=c,Dc(l,d,A,1,g,w)}(g,T[6],Q,d,q,O),c.attachToViewContainerRef(),qs(Xb(T),w,c),c}move(c,A){return this.insert(c,A)}indexOf(c){const A=rm(this._lContainer);return null!==A?A.indexOf(c):-1}remove(c){const A=this._adjustIndex(c,-1),d=eh(this._lContainer,A);d&&(Ld(Xb(this._lContainer),A),cl(d[1],d))}detach(c){const A=this._adjustIndex(c,-1),d=eh(this._lContainer,A);return d&&null!=Ld(Xb(this._lContainer),A)?new Gy(d):null}_adjustIndex(c,A=0){return null==c?this.length+A:c}};function rm(l){return l[8]}function Xb(l){return l[8]||(l[8]=[])}function DI(l,c){let A;const d=c[l.index];if(Ja(d))A=d;else{let g;if(8&l.type)g=Qi(d);else{const w=c[11];g=w.createComment("");const T=Go(l,c);Nl(w,Pl(w,T),g,function $d(l,c){return Ui(l)?l.nextSibling(c):c.nextSibling}(w,T),!1)}c[l.index]=A=Yw(d,c,g,l),yy(c,A)}return new xI(A,l,c)}class vs{constructor(c){this.queryList=c,this.matches=null}clone(){return new vs(this.queryList)}setDirty(){this.queryList.setDirty()}}class TI{constructor(c=[]){this.queries=c}createEmbeddedView(c){const A=c.queries;if(null!==A){const d=null!==c.contentQueries?c.contentQueries[0]:A.length,g=[];for(let w=0;w<d;w++){const T=A.getByIndex(w);g.push(this.queries[T.indexInDeclarationView].clone())}return new TI(g)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let A=0;A<this.queries.length;A++)null!==Yy(c,A).matches&&this.queries[A].setDirty()}}class iT{constructor(c,A,d=null){this.predicate=c,this.flags=A,this.read=d}}class qy{constructor(c=[]){this.queries=c}elementStart(c,A){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(c,A)}elementEnd(c){for(let A=0;A<this.queries.length;A++)this.queries[A].elementEnd(c)}embeddedTView(c){let A=null;for(let d=0;d<this.length;d++){const g=null!==A?A.length:0,w=this.getByIndex(d).embeddedTView(c,g);w&&(w.indexInDeclarationView=d,null!==A?A.push(w):A=[w])}return null!==A?new qy(A):null}template(c,A){for(let d=0;d<this.queries.length;d++)this.queries[d].template(c,A)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Jv{constructor(c,A=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=A}elementStart(c,A){this.isApplyingToNode(A)&&this.matchTNode(c,A)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,A){this.elementStart(c,A)}embeddedTView(c,A){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,A),new Jv(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const A=this._declarationNodeIndex;let d=c.parent;for(;null!==d&&8&d.type&&d.index!==A;)d=d.parent;return A===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(c,A){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const w=d[g];this.matchTNodeWithReadOption(c,A,$y(A,w)),this.matchTNodeWithReadOption(c,A,VA(A,c,w,!1,!1))}else d===Xv?4&A.type&&this.matchTNodeWithReadOption(c,A,-1):this.matchTNodeWithReadOption(c,A,VA(A,c,d,!1,!1))}matchTNodeWithReadOption(c,A,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===gA||g===Zb||g===Xv&&4&A.type)this.addMatch(A.index,-2);else{const w=VA(A,c,g,!1,!1);null!==w&&this.addMatch(A.index,w)}else this.addMatch(A.index,d)}}addMatch(c,A){null===this.matches?this.matches=[c,A]:this.matches.push(c,A)}}function $y(l,c){const A=l.localNames;if(null!==A)for(let d=0;d<A.length;d+=2)if(A[d]===c)return A[d+1];return null}function e_(l,c,A,d){return-1===A?function yf(l,c){return 11&l.type?Vy(l,c):4&l.type?zy(l,c):null}(c,l):-2===A?function zr(l,c,A){return A===gA?Vy(c,l):A===Xv?zy(c,l):A===Zb?DI(c,l):void 0}(l,c,d):al(l,l[1],A,c)}function sT(l,c,A,d){const g=c[19].queries[d];if(null===g.matches){const w=l.data,T=A.matches,O=[];for(let Q=0;Q<T.length;Q+=2){const q=T[Q];O.push(q<0?null:e_(c,w[q],T[Q+1],A.metadata.read))}g.matches=O}return g.matches}function im(l,c,A,d){const g=l.queries.getByIndex(A),w=g.matches;if(null!==w){const T=sT(l,c,g,A);for(let O=0;O<w.length;O+=2){const Q=w[O];if(Q>0)d.push(T[O/2]);else{const q=w[O+1],J=c[-Q];for(let Te=10;Te<J.length;Te++){const $e=J[Te];$e[17]===$e[3]&&im($e[1],$e,q,d)}if(null!==J[9]){const Te=J[9];for(let $e=0;$e<Te.length;$e++){const dt=Te[$e];im(dt[1],dt,q,d)}}}}}return d}function oT(l){const c=Lt(),A=li(),d=il();Ws(d+1);const g=Yy(A,d);if(l.dirty&&Jc(c)===(2==(2&g.metadata.flags))){if(null===g.matches)l.reset([]);else{const w=g.crossesNgTemplate?im(A,c,d,[]):sT(A,c,g,d);l.reset(w,wI),l.notifyOnChanges()}return!0}return!1}function Jb(l,c,A,d){const g=li();if(g.firstCreatePass){const w=hs();(function sm(l,c,A){null===l.queries&&(l.queries=new qy),l.queries.track(new Jv(c,A))})(g,new iT(c,A,d),w.index),function t_(l,c){const A=l.contentQueries||(l.contentQueries=[]);c!==(A.length?A[A.length-1]:-1)&&A.push(l.queries.length-1,c)}(g,l),2==(2&A)&&(g.staticContentQueries=!0)}!function MI(l,c,A){const d=new Mu(4==(4&A));O2(l,c,d,d.destroy),null===c[19]&&(c[19]=new TI),c[19].queries.push(new vs(d))}(g,Lt(),A)}function aT(){return function FI(l,c){return l[19].queries[c].queryList}(Lt(),il())}function Yy(l,c){return l.queries.getByIndex(c)}function u_(...l){}const h1=new Cs("Application Initializer");let jp=(()=>{class l{constructor(A){this.appInits=A,this.resolve=u_,this.reject=u_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,g)=>{this.resolve=d,this.reject=g})}runInitializers(){if(this.initialized)return;const A=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const w=this.appInits[g]();if(yb(w))A.push(w);else if(cP(w)){const T=new Promise((O,Q)=>{w.subscribe({complete:O,error:Q})});A.push(T)}}Promise.all(A).then(()=>{d()}).catch(g=>{this.reject(g)}),0===A.length&&d(),this.initialized=!0}}return l.\u0275fac=function(A){return new(A||l)(ia(h1,8))},l.\u0275prov=jr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const QI=new Cs("AppId",{providedIn:"root",factory:function A_(){return`${HI()}${HI()}${HI()}`}});function HI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pT=new Cs("Platform Initializer"),IO=new Cs("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gT=new Cs("appBootstrapListener");let BO=(()=>{class l{log(A){console.log(A)}warn(A){console.warn(A)}}return l.\u0275fac=function(A){return new(A||l)},l.\u0275prov=jr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const d1=new Cs("LocaleId",{providedIn:"root",factory:()=>$A(d1,er.Optional|er.SkipSelf)||function mT(){return"undefined"!=typeof $localize&&$localize.locale||My}()}),SO=new Cs("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xO{constructor(c,A){this.ngModuleFactory=c,this.componentFactories=A}}let DO=(()=>{class l{compileModuleSync(A){return new EI(A)}compileModuleAsync(A){return Promise.resolve(this.compileModuleSync(A))}compileModuleAndAllComponentsSync(A){const d=this.compileModuleSync(A),w=oc(un(A).declarations).reduce((T,O)=>{const Q=Nt(O);return Q&&T.push(new Gb(Q)),T},[]);return new xO(d,w)}compileModuleAndAllComponentsAsync(A){return Promise.resolve(this.compileModuleAndAllComponentsSync(A))}clearCache(){}clearCacheFor(A){}getModuleId(A){}}return l.\u0275fac=function(A){return new(A||l)},l.\u0275prov=jr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const vT=(()=>Promise.resolve(0))();function t0(l){"undefined"==typeof Zone?vT.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Nu{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:A=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&A,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function TO(){let l=Pr.requestAnimationFrame,c=Pr.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const A=l[Zone.__symbol__("OriginalDelegate")];A&&(l=A);const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function MO(l){const c=()=>{!function FO(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Pr,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,g1(l),l.isCheckStableRunning=!0,p1(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),g1(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(A,d,g,w,T,O)=>{try{return m1(l),A.invokeTask(g,w,T,O)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||l.shouldCoalesceRunChangeDetection)&&c(),wT(l)}},onInvoke:(A,d,g,w,T,O,Q)=>{try{return m1(l),A.invoke(g,w,T,O,Q)}finally{l.shouldCoalesceRunChangeDetection&&c(),wT(l)}},onHasTask:(A,d,g,w)=>{A.hasTask(g,w),d===g&&("microTask"==w.change?(l._hasPendingMicrotasks=w.microTask,g1(l),p1(l)):"macroTask"==w.change&&(l.hasPendingMacrotasks=w.macroTask))},onHandleError:(A,d,g,w)=>(A.handleError(g,w),l.runOutsideAngular(()=>l.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,A,d){return this._inner.run(c,A,d)}runTask(c,A,d,g){const w=this._inner,T=w.scheduleEventTask("NgZoneEvent: "+g,c,_T,u_,u_);try{return w.runTask(T,A,d)}finally{w.cancelTask(T)}}runGuarded(c,A,d){return this._inner.runGuarded(c,A,d)}runOutsideAngular(c){return this._outer.run(c)}}const _T={};function p1(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function g1(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function m1(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function wT(l){l._nesting--,p1(l)}class NO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(c,A,d){return c.apply(A,d)}runGuarded(c,A,d){return c.apply(A,d)}runOutsideAngular(c){return c()}runTask(c,A,d,g){return c.apply(A,d)}}let bT=(()=>{class l{constructor(A){this._ngZone=A,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),A.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nu.assertNotInAngularZone(),t0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())t0(()=>{for(;0!==this._callbacks.length;){let A=this._callbacks.pop();clearTimeout(A.timeoutId),A.doneCb(this._didWork)}this._didWork=!1});else{let A=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(A)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(A=>({source:A.source,creationLocation:A.creationLocation,data:A.data})):[]}addCallback(A,d,g){let w=-1;d&&d>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==w),A(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:A,timeoutId:w,updateCb:g})}whenStable(A,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(A,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(A,d,g){return[]}}return l.\u0275fac=function(A){return new(A||l)(ia(Nu))},l.\u0275prov=jr({token:l,factory:l.\u0275fac}),l})(),PO=(()=>{class l{constructor(){this._applications=new Map,h_.addToWindow(this)}registerApplication(A,d){this._applications.set(A,d)}unregisterApplication(A){this._applications.delete(A)}unregisterAllApplications(){this._applications.clear()}getTestability(A){return this._applications.get(A)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(A,d=!0){return h_.findTestabilityInTree(this,A,d)}}return l.\u0275fac=function(A){return new(A||l)},l.\u0275prov=jr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();class CT{addToWindow(c){}findTestabilityInTree(c,A,d){return null}}function y1(l){h_=l}let h_=new CT,Kp=null;const ET=new Cs("AllowMultipleToken"),VI=new Cs("PlatformOnDestroy");class LO{constructor(c,A){this.name=c,this.token=A}}function IT(l,c,A=[]){const d=`Platform: ${c}`,g=new Cs(d);return(w=[])=>{let T=KI();if(!T||T.injector.get(ET,!1)){const O=[...A,...w,{provide:g,useValue:!0}];l?l(O):function RO(l){if(Kp&&!Kp.get(ET,!1))throw new lt(400,"");Kp=l;const c=l.get(GI),A=l.get(pT,null);A&&A.forEach(d=>d())}(function UO(l=[],c){return Xh.create({name:c,providers:[{provide:wE,useValue:"platform"},{provide:VI,useValue:()=>Kp=null},...l]})}(O,d))}return function kO(l){const c=KI();if(!c)throw new lt(401,"");return c}()}}function KI(){var l;return null!==(l=null==Kp?void 0:Kp.get(GI))&&void 0!==l?l:null}let GI=(()=>{class l{constructor(A){this._injector=A,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(A,d){const O=function BT(l,c){let A;return A="noop"===l?new NO:("zone.js"===l?void 0:l)||new Nu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),A}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),Q=[{provide:Nu,useValue:O}];return O.run(()=>{const q=Xh.create({providers:Q,parent:this.injector,name:A.moduleType.name}),J=A.create(q),Te=J.injector.get(fv,null);if(!Te)throw new lt(402,"");return O.runOutsideAngular(()=>{const $e=O.onError.subscribe({next:dt=>{Te.handleError(dt)}});J.onDestroy(()=>{v1(this._modules,J),$e.unsubscribe()})}),function HO(l,c,A){try{const d=A();return yb(d)?d.catch(g=>{throw c.runOutsideAngular(()=>l.handleError(g)),g}):d}catch(d){throw c.runOutsideAngular(()=>l.handleError(d)),d}}(Te,O,()=>{const $e=J.injector.get(jp);return $e.runInitializers(),$e.donePromise.then(()=>(function hD(l){ur(l,"Expected localeId to be defined"),"string"==typeof l&&(AD=l.toLowerCase().replace(/_/g,"-"))}(J.injector.get(d1,My)||My),this._moduleDoBootstrap(J),J))})})}bootstrapModule(A,d=[]){const g=WI({},d);return function jI(l,c,A){const d=new EI(A);return Promise.resolve(d)}(0,0,A).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(A){const d=A.injector.get(n0);if(A._bootstrapComponents.length>0)A._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!A.instance.ngDoBootstrap)throw new lt(403,"");A.instance.ngDoBootstrap(d)}this._modules.push(A)}onDestroy(A){this._destroyListeners.push(A)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const A=this._injector.get(VI,null);null==A||A(),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(A){return new(A||l)(ia(Xh))},l.\u0275prov=jr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function WI(l,c){return Array.isArray(c)?c.reduce(WI,l):Object.assign(Object.assign({},l),c)}let n0=(()=>{class l{constructor(A,d,g,w){this._zone=A,this._injector=d,this._exceptionHandler=g,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new ce.y(Q=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Q.next(this._stable),Q.complete()})}),O=new ce.y(Q=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Nu.assertNotInAngularZone(),t0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Q.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{Nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Q.next(!1)}))});return()=>{q.unsubscribe(),J.unsubscribe()}});this.isStable=(0,De.T)(T,O.pipe((0,xe.B)()))}bootstrap(A,d){if(!this._initStatus.done)throw new lt(405,"");let g;g=A instanceof QD?A:this._injector.get(jb).resolveComponentFactory(A),this.componentTypes.push(g.componentType);const w=function OO(l){return l.isBoundToModule}(g)?void 0:this._injector.get(em),O=g.create(Xh.NULL,[],d||g.selector,w),Q=O.location.nativeElement,q=O.injector.get(bT,null),J=q&&O.injector.get(PO);return q&&J&&J.registerApplication(Q,q),O.onDestroy(()=>{this.detachView(O.hostView),v1(this.components,O),J&&J.unregisterApplication(Q)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new lt(101,"");try{this._runningTick=!0;for(let A of this._views)A.detectChanges()}catch(A){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(A))}finally{this._runningTick=!1}}attachView(A){const d=A;this._views.push(d),d.attachToAppRef(this)}detachView(A){const d=A;v1(this._views,d),d.detachFromAppRef()}_loadComponent(A){this.attachView(A.hostView),this.tick(),this.components.push(A),this._injector.get(gT,[]).concat(this._bootstrapListeners).forEach(g=>g(A))}ngOnDestroy(){this._views.slice().forEach(A=>A.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(A){return new(A||l)(ia(Nu),ia(Xh),ia(fv),ia(jp))},l.\u0275prov=jr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function v1(l,c){const A=l.indexOf(c);A>-1&&l.splice(A,1)}let xT=!0,_1=!1;function DT(){return _1=!0,xT}function jO(){if(_1)throw new Error("Cannot enable prod mode after platform setup.");xT=!1}let TT=(()=>{class l{}return l.__NG_ELEMENT_ID__=FT,l})();function FT(l){return function Gp(l,c,A){if(gd(l)&&!A){const d=ea(l.index,c);return new Gy(d,d)}return 47&l.type?new Gy(c[16],c):null}(hs(),Lt(),16==(16&l))}class ZI{constructor(){}supports(c){return Fv(c)}create(c){return new w1(c)}}const p_=(l,c)=>c;class w1{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||p_}forEachItem(c){let A;for(A=this._itHead;null!==A;A=A._next)c(A)}forEachOperation(c){let A=this._itHead,d=this._removalsHead,g=0,w=null;for(;A||d;){const T=!d||A&&A.currentIndex<OT(d,g,w)?A:d,O=OT(T,g,w),Q=T.currentIndex;if(T===d)g--,d=d._nextRemoved;else if(A=A._next,null==T.previousIndex)g++;else{w||(w=[]);const q=O-g,J=Q-g;if(q!=J){for(let $e=0;$e<q;$e++){const dt=$e<w.length?w[$e]:w[$e]=0,Vt=dt+$e;J<=Vt&&Vt<q&&(w[$e]=dt+1)}w[T.previousIndex]=J-q}}O!==Q&&c(T,O,Q)}}forEachPreviousItem(c){let A;for(A=this._previousItHead;null!==A;A=A._nextPrevious)c(A)}forEachAddedItem(c){let A;for(A=this._additionsHead;null!==A;A=A._nextAdded)c(A)}forEachMovedItem(c){let A;for(A=this._movesHead;null!==A;A=A._nextMoved)c(A)}forEachRemovedItem(c){let A;for(A=this._removalsHead;null!==A;A=A._nextRemoved)c(A)}forEachIdentityChange(c){let A;for(A=this._identityChangesHead;null!==A;A=A._nextIdentityChange)c(A)}diff(c){if(null==c&&(c=[]),!Fv(c))throw new lt(900,"");return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let g,w,T,A=this._itHead,d=!1;if(Array.isArray(c)){this.length=c.length;for(let O=0;O<this.length;O++)w=c[O],T=this._trackByFn(O,w),null!==A&&Object.is(A.trackById,T)?(d&&(A=this._verifyReinsertion(A,w,T,O)),Object.is(A.item,w)||this._addIdentityChange(A,w)):(A=this._mismatch(A,w,T,O),d=!0),A=A._next}else g=0,function qN(l,c){if(Array.isArray(l))for(let A=0;A<l.length;A++)c(l[A]);else{const A=l[_y()]();let d;for(;!(d=A.next()).done;)c(d.value)}}(c,O=>{T=this._trackByFn(g,O),null!==A&&Object.is(A.trackById,T)?(d&&(A=this._verifyReinsertion(A,O,T,g)),Object.is(A.item,O)||this._addIdentityChange(A,O)):(A=this._mismatch(A,O,T,g),d=!0),A=A._next,g++}),this.length=g;return this._truncate(A),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,A,d,g){let w;return null===c?w=this._itTail:(w=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(c.item,A)||this._addIdentityChange(c,A),this._reinsertAfter(c,w,g)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(c.item,A)||this._addIdentityChange(c,A),this._moveAfter(c,w,g)):c=this._addAfter(new XI(A,d),w,g),c}_verifyReinsertion(c,A,d,g){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==w?c=this._reinsertAfter(w,c._prev,g):c.currentIndex!=g&&(c.currentIndex=g,this._addToMoves(c,g)),c}_truncate(c){for(;null!==c;){const A=c._next;this._addToRemovals(this._unlink(c)),c=A}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,A,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const g=c._prevRemoved,w=c._nextRemoved;return null===g?this._removalsHead=w:g._nextRemoved=w,null===w?this._removalsTail=g:w._prevRemoved=g,this._insertAfter(c,A,d),this._addToMoves(c,d),c}_moveAfter(c,A,d){return this._unlink(c),this._insertAfter(c,A,d),this._addToMoves(c,d),c}_addAfter(c,A,d){return this._insertAfter(c,A,d),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,A,d){const g=null===A?this._itHead:A._next;return c._next=g,c._prev=A,null===g?this._itTail=c:g._prev=c,null===A?this._itHead=c:A._next=c,null===this._linkedRecords&&(this._linkedRecords=new b1),this._linkedRecords.put(c),c.currentIndex=d,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const A=c._prev,d=c._next;return null===A?this._itHead=d:A._next=d,null===d?this._itTail=A:d._prev=A,c}_addToMoves(c,A){return c.previousIndex===A||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b1),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,A){return c.item=A,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class XI{constructor(c,A){this.item=c,this.trackById=A,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JI{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,A){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===A||A<=d.currentIndex)&&Object.is(d.trackById,c))return d;return null}remove(c){const A=c._prevDup,d=c._nextDup;return null===A?this._head=d:A._nextDup=d,null===d?this._tail=A:d._prevDup=A,null===this._head}}class b1{constructor(){this.map=new Map}put(c){const A=c.trackById;let d=this.map.get(A);d||(d=new JI,this.map.set(A,d)),d.add(c)}get(c,A){const g=this.map.get(c);return g?g.get(c,A):null}remove(c){const A=c.trackById;return this.map.get(A).remove(c)&&this.map.delete(A),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OT(l,c,A){const d=l.previousIndex;if(null===d)return d;let g=0;return A&&d<A.length&&(g=A[d]),d+c+g}class a0{constructor(){}supports(c){return c instanceof Map||Mv(c)}create(){return new qO}}class qO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let A;for(A=this._mapHead;null!==A;A=A._next)c(A)}forEachPreviousItem(c){let A;for(A=this._previousMapHead;null!==A;A=A._nextPrevious)c(A)}forEachChangedItem(c){let A;for(A=this._changesHead;null!==A;A=A._nextChanged)c(A)}forEachAddedItem(c){let A;for(A=this._additionsHead;null!==A;A=A._nextAdded)c(A)}forEachRemovedItem(c){let A;for(A=this._removalsHead;null!==A;A=A._nextRemoved)c(A)}diff(c){if(c){if(!(c instanceof Map||Mv(c)))throw new lt(900,"")}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let A=this._mapHead;if(this._appendAfter=null,this._forEach(c,(d,g)=>{if(A&&A.key===g)this._maybeAddToChanges(A,d),this._appendAfter=A,A=A._next;else{const w=this._getOrCreateRecordForKey(g,d);A=this._insertBeforeOrAppend(A,w)}}),A){A._prev&&(A._prev._next=null),this._removalsHead=A;for(let d=A;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,A){if(c){const d=c._prev;return A._next=c,A._prev=d,c._prev=A,d&&(d._next=A),c===this._mapHead&&(this._mapHead=A),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=A,A._prev=this._appendAfter):this._mapHead=A,this._appendAfter=A,null}_getOrCreateRecordForKey(c,A){if(this._records.has(c)){const g=this._records.get(c);this._maybeAddToChanges(g,A);const w=g._prev,T=g._next;return w&&(w._next=T),T&&(T._prev=w),g._next=null,g._prev=null,g}const d=new $O(c);return this._records.set(c,d),d.currentValue=A,this._addToAdditions(d),d}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,A){Object.is(A,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=A,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,A){c instanceof Map?c.forEach(A):Object.keys(c).forEach(d=>A(c[d],d))}}class $O{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LT(){return new g_([new ZI])}let g_=(()=>{class l{constructor(A){this.factories=A}static create(A,d){if(null!=d){const g=d.factories.slice();A=A.concat(g)}return new l(A)}static extend(A){return{provide:l,useFactory:d=>l.create(A,d||LT()),deps:[[l,new Ud,new du]]}}find(A){const d=this.factories.find(g=>g.supports(A));if(null!=d)return d;throw new lt(901,"")}}return l.\u0275prov=jr({token:l,providedIn:"root",factory:LT}),l})();function kT(){return new C1([new a0])}let C1=(()=>{class l{constructor(A){this.factories=A}static create(A,d){if(d){const g=d.factories.slice();A=A.concat(g)}return new l(A)}static extend(A){return{provide:l,useFactory:d=>l.create(A,d||kT()),deps:[[l,new Ud,new du]]}}find(A){const d=this.factories.find(w=>w.supports(A));if(d)return d;throw new lt(901,"")}}return l.\u0275prov=jr({token:l,providedIn:"root",factory:kT}),l})();const eB=IT(null,"core",[]);let tB=(()=>{class l{constructor(A){}}return l.\u0275fac=function(A){return new(A||l)(ia(n0))},l.\u0275mod=he({type:l}),l.\u0275inj=wr({}),l})()},579:(Kt,Qe,U)=>{"use strict";U.d(Qe,{EI:()=>Ht,Gb:()=>Yn,Iv:()=>To,Kz:()=>or,Xd:()=>rs,lT:()=>yr,xP:()=>_n});var p=U(5861),Ee=U(9681),ce=U(1877),De=U(2090),xe=U(4859);U(2833);const pe="analytics",Z="firebase_id",ie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fe="https://www.googletagmanager.com/gtag/js",Ne=new ce.Yd("@firebase/analytics");function We(de){return Promise.all(de.map(he=>he.catch(ne=>ne)))}function lt(de,he){const ne=document.createElement("script");ne.src=`${fe}?l=${de}&id=${he}`,ne.async=!0,document.head.appendChild(ne)}function ct(de,he,ne,Fe,Ye,_t){return jt.apply(this,arguments)}function jt(){return(jt=(0,p.Z)(function*(de,he,ne,Fe,Ye,_t){const Nt=Fe[Ye];try{if(Nt)yield he[Nt];else{const an=(yield We(ne)).find(un=>un.measurementId===Ye);an&&(yield he[an.appId])}}catch(sn){Ne.error(sn)}de("config",Ye,_t)})).apply(this,arguments)}function bn(de,he,ne,Fe,Ye){return nr.apply(this,arguments)}function nr(){return(nr=(0,p.Z)(function*(de,he,ne,Fe,Ye){try{let _t=[];if(Ye&&Ye.send_to){let Nt=Ye.send_to;Array.isArray(Nt)||(Nt=[Nt]);const sn=yield We(ne);for(const an of Nt){const un=sn.find(Ur=>Ur.measurementId===an),zn=un&&he[un.appId];if(!zn){_t=[];break}_t.push(zn)}}0===_t.length&&(_t=Object.values(he)),yield Promise.all(_t),de("event",Fe,Ye||{})}catch(_t){Ne.error(_t)}})).apply(this,arguments)}function Dr(de){const he=window.document.getElementsByTagName("script");for(const ne of Object.values(he))if(ne.src&&ne.src.includes(fe)&&ne.src.includes(de))return ne;return null}const On=new De.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wt=new class it{constructor(he={},ne=1e3){this.throttleMetadata=he,this.intervalMillis=ne}getThrottleMetadata(he){return this.throttleMetadata[he]}setThrottleMetadata(he,ne){this.throttleMetadata[he]=ne}deleteThrottleMetadata(he){delete this.throttleMetadata[he]}};function ft(de){return new Headers({Accept:"application/json","x-goog-api-key":de})}function kt(de){return xt.apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(de){var he;const{appId:ne,apiKey:Fe}=de,Ye={method:"GET",headers:ft(Fe)},_t=ie.replace("{app-id}",ne),Nt=yield fetch(_t,Ye);if(200!==Nt.status&&304!==Nt.status){let sn="";try{const an=yield Nt.json();(null===(he=an.error)||void 0===he?void 0:he.message)&&(sn=an.error.message)}catch(an){}throw On.create("config-fetch-failed",{httpStatus:Nt.status,responseMessage:sn})}return Nt.json()})).apply(this,arguments)}function Jt(de){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(de,he=wt,ne){const{appId:Fe,apiKey:Ye,measurementId:_t}=de.options;if(!Fe)throw On.create("no-app-id");if(!Ye){if(_t)return{measurementId:_t,appId:Fe};throw On.create("no-api-key")}const Nt=he.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sn=new qi;return setTimeout((0,p.Z)(function*(){sn.abort()}),void 0!==ne?ne:6e4),Or({appId:Fe,apiKey:Ye,measurementId:_t},Nt,sn,he)})).apply(this,arguments)}function Or(de,he,ne){return ur.apply(this,arguments)}function ur(){return(ur=(0,p.Z)(function*(de,{throttleEndTimeMillis:he,backoffCount:ne},Fe,Ye=wt){var _t;const{appId:Nt,measurementId:sn}=de;try{yield mn(Fe,he)}catch(an){if(sn)return Ne.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${null==an?void 0:an.message}]`),{appId:Nt,measurementId:sn};throw an}try{const an=yield kt(de);return Ye.deleteThrottleMetadata(Nt),an}catch(an){const un=an;if(!Zr(un)){if(Ye.deleteThrottleMetadata(Nt),sn)return Ne.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${null==un?void 0:un.message}]`),{appId:Nt,measurementId:sn};throw an}const zn=503===Number(null===(_t=null==un?void 0:un.customData)||void 0===_t?void 0:_t.httpStatus)?(0,De.$s)(ne,Ye.intervalMillis,30):(0,De.$s)(ne,Ye.intervalMillis),Ur={throttleEndTimeMillis:Date.now()+zn,backoffCount:ne+1};return Ye.setThrottleMetadata(Nt,Ur),Ne.debug(`Calling attemptFetch again in ${zn} millis`),Or(de,Ur,Fe,Ye)}})).apply(this,arguments)}function mn(de,he){return new Promise((ne,Fe)=>{const Ye=Math.max(he-Date.now(),0),_t=setTimeout(ne,Ye);de.addEventListener(()=>{clearTimeout(_t),Fe(On.create("fetch-throttle",{throttleEndTimeMillis:he}))})})}function Zr(de){if(!(de instanceof De.ZR&&de.customData))return!1;const he=Number(de.customData.httpStatus);return 429===he||500===he||503===he||504===he}class qi{constructor(){this.listeners=[]}addEventListener(he){this.listeners.push(he)}abort(){this.listeners.forEach(he=>he())}}let si,Vi;function ns(){return(ns=(0,p.Z)(function*(de,he,ne,Fe,Ye){if(Ye&&Ye.global)de("event",ne,Fe);else{const _t=yield he;de("event",ne,Object.assign(Object.assign({},Fe),{send_to:_t}))}})).apply(this,arguments)}function Cr(){return(Cr=(0,p.Z)(function*(de,he,ne,Fe){if(Fe&&Fe.global)return de("set",{screen_name:ne}),Promise.resolve();de("config",yield he,{update:!0,screen_name:ne})})).apply(this,arguments)}function Na(){return(Na=(0,p.Z)(function*(de,he,ne,Fe){if(Fe&&Fe.global)return de("set",{user_id:ne}),Promise.resolve();de("config",yield he,{update:!0,user_id:ne})})).apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(de,he,ne,Fe){if(Fe&&Fe.global){const Ye={};for(const _t of Object.keys(ne))Ye[`user_properties.${_t}`]=ne[_t];return de("set",Ye),Promise.resolve()}de("config",yield he,{update:!0,user_properties:ne})})).apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(de,he){const ne=yield de;window[`ga-disable-${ne}`]=!he})).apply(this,arguments)}function Hs(de){Vi=de}function er(de){si=de}function cs(){return oi.apply(this,arguments)}function oi(){return(oi=(0,p.Z)(function*(){if(!(0,De.hl)())return Ne.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,De.eu)()}catch(de){return Ne.warn(On.create("indexeddb-unavailable",{errorInfo:null==de?void 0:de.toString()}).message),!1}return!0})).apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(de,he,ne,Fe,Ye,_t,Nt){var sn;const an=Jt(de);an.then(js=>{ne[js.measurementId]=js.appId,de.options.measurementId&&js.measurementId!==de.options.measurementId&&Ne.warn(`The measurement ID in the local Firebase config (${de.options.measurementId}) does not match the measurement ID fetched from the server (${js.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(js=>Ne.error(js)),he.push(an);const un=cs().then(js=>{if(js)return Fe.getId()}),[zn,Ur]=yield Promise.all([an,un]);Dr(_t)||lt(_t,zn.measurementId),Vi&&(Ye("consent","default",Vi),Hs(void 0)),Ye("js",new Date);const Ms=null!==(sn=null==Nt?void 0:Nt.config)&&void 0!==sn?sn:{};return Ms.origin="firebase",Ms.update=!0,null!=Ur&&(Ms[Z]=Ur),Ye("config",zn.measurementId,Ms),si&&(Ye("set",si),er(void 0)),zn.measurementId})).apply(this,arguments)}class Js{constructor(he){this.app=he}_delete(){return delete ai[this.app.options.appId],Promise.resolve()}}let ai={},ki=[];const eo={};let Dn,Fn,Ts="dataLayer",Nr="gtag",Kr=!1;function rs(de){if(Kr)throw On.create("already-initialized");de.dataLayerName&&(Ts=de.dataLayerName),de.gtagName&&(Nr=de.gtagName)}function As(de,he,ne){!function Pr(){const de=[];if((0,De.ru)()&&de.push("This is a browser extension environment."),(0,De.zI)()||de.push("Cookies are not available."),de.length>0){const he=de.map((Fe,Ye)=>`(${Ye+1}) ${Fe}`).join(" "),ne=On.create("invalid-analytics-context",{errorInfo:he});Ne.warn(ne.message)}}();const Fe=de.options.appId;if(!Fe)throw On.create("no-app-id");if(!de.options.apiKey){if(!de.options.measurementId)throw On.create("no-api-key");Ne.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${de.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ai[Fe])throw On.create("already-exists",{id:Fe});if(!Kr){!function Pt(de){let he=[];Array.isArray(window[de])?he=window[de]:window[de]=he}(Ts);const{wrappedGtag:_t,gtagCore:Nt}=function cr(de,he,ne,Fe,Ye){let _t=function(...Nt){window[Fe].push(arguments)};return window[Ye]&&"function"==typeof window[Ye]&&(_t=window[Ye]),window[Ye]=function ar(de,he,ne,Fe){function _t(){return(_t=(0,p.Z)(function*(Nt,sn,an){try{"event"===Nt?yield bn(de,he,ne,sn,an):"config"===Nt?yield ct(de,he,ne,Fe,sn,an):"consent"===Nt?de("consent","update",an):de("set",sn)}catch(un){Ne.error(un)}})).apply(this,arguments)}return function Ye(Nt,sn,an){return _t.apply(this,arguments)}}(_t,de,he,ne),{gtagCore:_t,wrappedGtag:window[Ye]}}(ai,ki,eo,Ts,Nr);Fn=_t,Dn=Nt,Kr=!0}return ai[Fe]=function Fi(de,he,ne,Fe,Ye,_t,Nt){return us.apply(this,arguments)}(de,ki,eo,he,Dn,Ts,ne),new Js(de)}function Yn(){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,p.Z)(function*(){if((0,De.ru)()||!(0,De.zI)()||!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch(de){return!1}})).apply(this,arguments)}function yr(de,he,ne){de=(0,De.m9)(de),function wr(de,he,ne,Fe){return Cr.apply(this,arguments)}(Fn,ai[de.app.options.appId],he,ne).catch(Fe=>Ne.error(Fe))}function To(de,he,ne){de=(0,De.m9)(de),function bs(de,he,ne,Fe){return Na.apply(this,arguments)}(Fn,ai[de.app.options.appId],he,ne).catch(Fe=>Ne.error(Fe))}function _n(de,he,ne){de=(0,De.m9)(de),function Ds(de,he,ne,Fe){return hi.apply(this,arguments)}(Fn,ai[de.app.options.appId],he,ne).catch(Fe=>Ne.error(Fe))}function Ht(de,he){de=(0,De.m9)(de),function Qs(de,he){return ls.apply(this,arguments)}(ai[de.app.options.appId],he).catch(ne=>Ne.error(ne))}function or(de,he,ne,Fe){de=(0,De.m9)(de),function jr(de,he,ne,Fe,Ye){return ns.apply(this,arguments)}(Fn,ai[de.app.options.appId],he,ne,Fe).catch(Ye=>Ne.error(Ye))}const Sr="@firebase/analytics";!function Re(){(0,Ee._registerComponent)(new xe.wA(pe,(he,{options:ne})=>As(he.getProvider("app").getImmediate(),he.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,Ee._registerComponent)(new xe.wA("analytics-internal",function de(he){try{const ne=he.getProvider(pe).getImmediate();return{logEvent:(Fe,Ye,_t)=>or(ne,Fe,Ye,_t)}}catch(ne){throw On.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,Ee.registerVersion)(Sr,"0.9.3"),(0,Ee.registerVersion)(Sr,"0.9.3","esm2017")}()},3942:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Z:()=>lt});var p=U(2090),Ee=U(4859),ce=U(9681),De=U(1877);class xe{constructor(ct,jt){this._delegate=ct,this.firebase=jt,(0,ce._addComponent)(ct,new Ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ct.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this._delegate.automaticDataCollectionEnabled=ct}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ct=>{this._delegate.checkDestroyed(),ct()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ce.deleteApp)(this._delegate)))}_getService(ct,jt=ce._DEFAULT_ENTRY_NAME){var bn;this._delegate.checkDestroyed();const nr=this._delegate.container.getProvider(ct);return!nr.isInitialized()&&"EXPLICIT"===(null===(bn=nr.getComponent())||void 0===bn?void 0:bn.instantiationMode)&&nr.initialize(),nr.getImmediate({identifier:jt})}_removeServiceInstance(ct,jt=ce._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ct).clearInstance(jt)}_addComponent(ct){(0,ce._addComponent)(this._delegate,ct)}_addOrOverwriteComponent(ct){(0,ce._addOrOverwriteComponent)(this._delegate,ct)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function ae(){const Pt=function Z(Pt){const ct={},jt={__esModule:!0,initializeApp:function ar(On,tt={}){const zt=ce.initializeApp(On,tt);if((0,p.r3)(ct,zt.name))return ct[zt.name];const it=new Pt(zt,jt);return ct[zt.name]=it,it},app:nr,registerVersion:ce.registerVersion,setLogLevel:ce.setLogLevel,onLog:ce.onLog,apps:null,SDK_VERSION:ce.SDK_VERSION,INTERNAL:{registerComponent:function Dr(On){const tt=On.name,zt=tt.replace("-compat","");if(ce._registerComponent(On)&&"PUBLIC"===On.type){const it=(wt=nr())=>{if("function"!=typeof wt[zt])throw pe.create("invalid-app-argument",{appName:tt});return wt[zt]()};void 0!==On.serviceProps&&(0,p.ZB)(it,On.serviceProps),jt[zt]=it,Pt.prototype[zt]=function(...wt){return this._getService.bind(this,tt).apply(this,On.multipleInstances?wt:[])}}return"PUBLIC"===On.type?jt[zt]:null},removeApp:function bn(On){delete ct[On]},useAsService:function Tr(On,tt){return"serverAuth"===tt?null:tt},modularAPIs:ce}};function nr(On){if(!(0,p.r3)(ct,On=On||ce._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:On});return ct[On]}return jt.default=jt,Object.defineProperty(jt,"apps",{get:function cr(){return Object.keys(ct).map(On=>ct[On])}}),nr.App=Pt,jt}(xe);return Pt.INTERNAL=Object.assign(Object.assign({},Pt.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function ct(jt){(0,p.ZB)(Pt,jt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Pt}(),ie=new De.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pt=self.firebase.SDK_VERSION;Pt&&Pt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=X;!function We(Pt){(0,ce.registerVersion)("@firebase/app-compat","0.2.3",Pt)}()},9681:(Kt,Qe,U)=>{"use strict";U.r(Qe),U.d(Qe,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>Qs,_DEFAULT_ENTRY_NAME:()=>ur,_addComponent:()=>si,_addOrOverwriteComponent:()=>jr,_apps:()=>Zr,_clearComponents:()=>bs,_components:()=>qi,_getProvider:()=>wr,_registerComponent:()=>ns,_removeServiceInstance:()=>Cr,deleteApp:()=>er,getApp:()=>Vi,getApps:()=>Hs,initializeApp:()=>ls,onLog:()=>Fi,registerVersion:()=>oi,setLogLevel:()=>us});var p=U(5861),Ee=U(4859),ce=U(1877),De=U(2090),xe=U(8766);class Ae{constructor(Ht){this.container=Ht}getPlatformInfoString(){return this.container.getProviders().map(yn=>{if(function pe(_n){const Ht=_n.getComponent();return"VERSION"===(null==Ht?void 0:Ht.type)}(yn)){const or=yn.getImmediate();return`${or.library}/${or.version}`}return null}).filter(yn=>yn).join(" ")}}const Z="@firebase/app",X=new ce.Yd("@firebase/app"),ur="[DEFAULT]",mn={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zr=new Map,qi=new Map;function si(_n,Ht){try{_n.container.addComponent(Ht)}catch(yn){X.debug(`Component ${Ht.name} failed to register with FirebaseApp ${_n.name}`,yn)}}function jr(_n,Ht){_n.container.addOrOverwriteComponent(Ht)}function ns(_n){const Ht=_n.name;if(qi.has(Ht))return X.debug(`There were multiple attempts to register component ${Ht}.`),!1;qi.set(Ht,_n);for(const yn of Zr.values())si(yn,_n);return!0}function wr(_n,Ht){const yn=_n.container.getProvider("heartbeat").getImmediate({optional:!0});return yn&&yn.triggerHeartbeat(),_n.container.getProvider(Ht)}function Cr(_n,Ht,yn=ur){wr(_n,Ht).clearInstance(yn)}function bs(){qi.clear()}const Ds=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hi{constructor(Ht,yn,or){this._isDeleted=!1,this._options=Object.assign({},Ht),this._config=Object.assign({},yn),this._name=yn.name,this._automaticDataCollectionEnabled=yn.automaticDataCollectionEnabled,this._container=or,this.container.addComponent(new Ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ht){this._isDeleted=Ht}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const Qs="9.17.1";function ls(_n,Ht={}){let yn=_n;"object"!=typeof Ht&&(Ht={name:Ht});const or=Object.assign({name:ur,automaticDataCollectionEnabled:!1},Ht),fr=or.name;if("string"!=typeof fr||!fr)throw Ds.create("bad-app-name",{appName:String(fr)});if(yn||(yn=(0,De.aH)()),!yn)throw Ds.create("no-options");const Sr=Zr.get(fr);if(Sr){if((0,De.vZ)(yn,Sr.options)&&(0,De.vZ)(or,Sr.config))return Sr;throw Ds.create("duplicate-app",{appName:fr})}const He=new Ee.H0(fr);for(const de of qi.values())He.addComponent(de);const Re=new hi(yn,or,He);return Zr.set(fr,Re),Re}function Vi(_n=ur){const Ht=Zr.get(_n);if(!Ht&&_n===ur)return ls();if(!Ht)throw Ds.create("no-app",{appName:_n});return Ht}function Hs(){return Array.from(Zr.values())}function er(_n){return cs.apply(this,arguments)}function cs(){return(cs=(0,p.Z)(function*(_n){const Ht=_n.name;Zr.has(Ht)&&(Zr.delete(Ht),yield Promise.all(_n.container.getProviders().map(yn=>yn.delete())),_n.isDeleted=!0)})).apply(this,arguments)}function oi(_n,Ht,yn){var or;let fr=null!==(or=mn[_n])&&void 0!==or?or:_n;yn&&(fr+=`-${yn}`);const Sr=fr.match(/\s|\//),He=Ht.match(/\s|\//);if(Sr||He){const Re=[`Unable to register library "${fr}" with version "${Ht}":`];return Sr&&Re.push(`library name "${fr}" contains illegal characters (whitespace or "/")`),Sr&&He&&Re.push("and"),He&&Re.push(`version name "${Ht}" contains illegal characters (whitespace or "/")`),void X.warn(Re.join(" "))}ns(new Ee.wA(`${fr}-version`,()=>({library:fr,version:Ht}),"VERSION"))}function Fi(_n,Ht){if(null!==_n&&"function"!=typeof _n)throw Ds.create("invalid-log-argument");(0,ce.Am)(_n,Ht)}function us(_n){(0,ce.Ub)(_n)}const ki="firebase-heartbeat-store";let eo=null;function Ts(){return eo||(eo=(0,xe.X3)("firebase-heartbeat-database",1,{upgrade:(_n,Ht)=>{0===Ht&&_n.createObjectStore(ki)}}).catch(_n=>{throw Ds.create("idb-open",{originalErrorMessage:_n.message})})),eo}function Dn(){return(Dn=(0,p.Z)(function*(_n){try{return(yield Ts()).transaction(ki).objectStore(ki).get(rs(_n))}catch(Ht){if(Ht instanceof De.ZR)X.warn(Ht.message);else{const yn=Ds.create("idb-get",{originalErrorMessage:null==Ht?void 0:Ht.message});X.warn(yn.message)}}})).apply(this,arguments)}function Fn(_n,Ht){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(_n,Ht){try{const or=(yield Ts()).transaction(ki,"readwrite");return yield or.objectStore(ki).put(Ht,rs(_n)),or.done}catch(yn){if(yn instanceof De.ZR)X.warn(yn.message);else{const or=Ds.create("idb-set",{originalErrorMessage:null==yn?void 0:yn.message});X.warn(or.message)}}})).apply(this,arguments)}function rs(_n){return`${_n.name}!${_n.options.appId}`}class Fs{constructor(Ht){this.container=Ht,this._heartbeatsCache=null;const yn=this.container.getProvider("app").getImmediate();this._storage=new Vs(yn),this._heartbeatsCachePromise=this._storage.read().then(or=>(this._heartbeatsCache=or,or))}triggerHeartbeat(){var Ht=this;return(0,p.Z)(function*(){const or=Ht.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fr=Ii();if(null===Ht._heartbeatsCache&&(Ht._heartbeatsCache=yield Ht._heartbeatsCachePromise),Ht._heartbeatsCache.lastSentHeartbeatDate!==fr&&!Ht._heartbeatsCache.heartbeats.some(Sr=>Sr.date===fr))return Ht._heartbeatsCache.heartbeats.push({date:fr,agent:or}),Ht._heartbeatsCache.heartbeats=Ht._heartbeatsCache.heartbeats.filter(Sr=>{const He=new Date(Sr.date).valueOf();return Date.now()-He<=2592e6}),Ht._storage.overwrite(Ht._heartbeatsCache)})()}getHeartbeatsHeader(){var Ht=this;return(0,p.Z)(function*(){if(null===Ht._heartbeatsCache&&(yield Ht._heartbeatsCachePromise),null===Ht._heartbeatsCache||0===Ht._heartbeatsCache.heartbeats.length)return"";const yn=Ii(),{heartbeatsToSend:or,unsentEntries:fr}=function Yn(_n,Ht=1024){const yn=[];let or=_n.slice();for(const fr of _n){const Sr=yn.find(He=>He.agent===fr.agent);if(Sr){if(Sr.dates.push(fr.date),yr(yn)>Ht){Sr.dates.pop();break}}else if(yn.push({agent:fr.agent,dates:[fr.date]}),yr(yn)>Ht){yn.pop();break}or=or.slice(1)}return{heartbeatsToSend:yn,unsentEntries:or}}(Ht._heartbeatsCache.heartbeats),Sr=(0,De.L)(JSON.stringify({version:2,heartbeats:or}));return Ht._heartbeatsCache.lastSentHeartbeatDate=yn,fr.length>0?(Ht._heartbeatsCache.heartbeats=fr,yield Ht._storage.overwrite(Ht._heartbeatsCache)):(Ht._heartbeatsCache.heartbeats=[],Ht._storage.overwrite(Ht._heartbeatsCache)),Sr})()}}function Ii(){return(new Date).toISOString().substring(0,10)}class Vs{constructor(Ht){this.app=Ht,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ht=this;return(0,p.Z)(function*(){return(yield Ht._canUseIndexedDBPromise)&&(yield function Nr(_n){return Dn.apply(this,arguments)}(Ht.app))||{heartbeats:[]}})()}overwrite(Ht){var yn=this;return(0,p.Z)(function*(){var or;if(yield yn._canUseIndexedDBPromise){const Sr=yield yn.read();return Fn(yn.app,{lastSentHeartbeatDate:null!==(or=Ht.lastSentHeartbeatDate)&&void 0!==or?or:Sr.lastSentHeartbeatDate,heartbeats:Ht.heartbeats})}})()}add(Ht){var yn=this;return(0,p.Z)(function*(){var or;if(yield yn._canUseIndexedDBPromise){const Sr=yield yn.read();return Fn(yn.app,{lastSentHeartbeatDate:null!==(or=Ht.lastSentHeartbeatDate)&&void 0!==or?or:Sr.lastSentHeartbeatDate,heartbeats:[...Sr.heartbeats,...Ht.heartbeats]})}})()}}function yr(_n){return(0,De.L)(JSON.stringify({version:2,heartbeats:_n})).length}!function To(_n){ns(new Ee.wA("platform-logger",Ht=>new Ae(Ht),"PRIVATE")),ns(new Ee.wA("heartbeat",Ht=>new Fs(Ht),"PRIVATE")),oi(Z,"0.9.3",_n),oi(Z,"0.9.3","esm2017"),oi("fire-js","")}("")},4859:(Kt,Qe,U)=>{"use strict";U.d(Qe,{H0:()=>Z,wA:()=>ce,zt:()=>xe});var p=U(5861),Ee=U(2090);class ce{constructor(X,ie,fe){this.name=X,this.instanceFactory=ie,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const De="[DEFAULT]";class xe{constructor(X,ie){this.name=X,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ie=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ie)){const fe=new Ee.BH;if(this.instancesDeferred.set(ie,fe),this.isInitialized(ie)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:ie});Ne&&fe.resolve(Ne)}catch(Ne){}}return this.instancesDeferred.get(ie).promise}getImmediate(X){var ie;const fe=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),Ne=null!==(ie=null==X?void 0:X.optional)&&void 0!==ie&&ie;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(We){if(Ne)return null;throw We}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function pe(ae){return"EAGER"===ae.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:De})}catch(ie){}for(const[ie,fe]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(ie);try{const We=this.getOrInitializeService({instanceIdentifier:Ne});fe.resolve(We)}catch(We){}}}}clearInstance(X=De){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,p.Z)(function*(){const ie=Array.from(X.instances.values());yield Promise.all([...ie.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ie.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=De){return this.instances.has(X)}getOptions(X=De){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ie={}}=X,fe=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:fe,options:ie});for(const[We,lt]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(We)&&lt.resolve(Ne);return Ne}onInit(X,ie){var fe;const Ne=this.normalizeInstanceIdentifier(ie),We=null!==(fe=this.onInitCallbacks.get(Ne))&&void 0!==fe?fe:new Set;We.add(X),this.onInitCallbacks.set(Ne,We);const lt=this.instances.get(Ne);return lt&&X(lt,Ne),()=>{We.delete(X)}}invokeOnInitCallbacks(X,ie){const fe=this.onInitCallbacks.get(ie);if(fe)for(const Ne of fe)try{Ne(X,ie)}catch(We){}}getOrInitializeService({instanceIdentifier:X,options:ie={}}){let fe=this.instances.get(X);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=X,ae===De?void 0:ae),options:ie}),this.instances.set(X,fe),this.instancesOptions.set(X,ie),this.invokeOnInitCallbacks(fe,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,fe)}catch(Ne){}var ae;return fe||null}normalizeInstanceIdentifier(X=De){return this.component?this.component.multipleInstances?X:De:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ie=this.getProvider(X.name);if(ie.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ie.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ie=new xe(X,this);return this.providers.set(X,ie),ie}getProviders(){return Array.from(this.providers.values())}}},2833:(Kt,Qe,U)=>{"use strict";var p=U(5861),Ee=U(9681),ce=U(4859),De=U(2090),xe=U(8766);const Ae="@firebase/installations",ae="w:0.6.3",X="FIS_v2",Pt=new De.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(je){return je instanceof De.ZR&&je.code.includes("request-failed")}function jt({projectId:je}){return`https://firebaseinstallations.googleapis.com/v1/projects/${je}/installations`}function bn(je){return{token:je.token,requestStatus:2,expiresIn:tt(je.expiresIn),creationTime:Date.now()}}function nr(je,St){return ar.apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(je,St){const Qn=(yield St.json()).error;return Pt.create("request-failed",{requestName:je,serverCode:Qn.code,serverMessage:Qn.message,serverStatus:Qn.status})})).apply(this,arguments)}function cr({apiKey:je}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":je})}function Dr(je,{refreshToken:St}){const $t=cr(je);return $t.append("Authorization",function zt(je){return`${X} ${je}`}(St)),$t}function Tr(je){return On.apply(this,arguments)}function On(){return(On=(0,p.Z)(function*(je){const St=yield je();return St.status>=500&&St.status<600?je():St})).apply(this,arguments)}function tt(je){return Number(je.replace("s","000"))}function it(je,St){return wt.apply(this,arguments)}function wt(){return(wt=(0,p.Z)(function*({appConfig:je,heartbeatServiceProvider:St},{fid:$t}){const Qn=jt(je),Rr=cr(je),Vr=St.getImmediate({optional:!0});if(Vr){const ir=yield Vr.getHeartbeatsHeader();ir&&Rr.append("x-firebase-client",ir)}const Bi={method:"POST",headers:Rr,body:JSON.stringify({fid:$t,authVersion:X,appId:je.appId,sdkVersion:ae})},jo=yield Tr(()=>fetch(Qn,Bi));if(jo.ok){const ir=yield jo.json();return{fid:ir.fid||$t,registrationStatus:2,refreshToken:ir.refreshToken,authToken:bn(ir.authToken)}}throw yield nr("Create Installation",jo)})).apply(this,arguments)}function ft(je){return new Promise(St=>{setTimeout(St,je)})}const xt=/^[cdef][\w-]{21}$/;function Ln(){try{const je=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(je),je[0]=112+je[0]%16;const $t=function Or(je){return function kt(je){return btoa(String.fromCharCode(...je)).replace(/\+/g,"-").replace(/\//g,"_")}(je).substr(0,22)}(je);return xt.test($t)?$t:""}catch(je){return""}}function ur(je){return`${je.appName}!${je.appId}`}const mn=new Map;function Zr(je,St){const $t=ur(je);jr($t,St),function ns(je,St){const $t=function Cr(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=je=>{jr(je.data.key,je.data.fid)}),wr}();$t&&$t.postMessage({key:je,fid:St}),function bs(){0===mn.size&&wr&&(wr.close(),wr=null)}()}($t,St)}function jr(je,St){const $t=mn.get(je);if($t)for(const Qn of $t)Qn(St)}let wr=null;const hi="firebase-installations-store";let Qs=null;function ls(){return Qs||(Qs=(0,xe.X3)("firebase-installations-database",1,{upgrade:(je,St)=>{0===St&&je.createObjectStore(hi)}})),Qs}function Vi(je,St){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(je,St){const $t=ur(je),Rr=(yield ls()).transaction(hi,"readwrite"),Vr=Rr.objectStore(hi),Qr=yield Vr.get($t);return yield Vr.put(St,$t),yield Rr.done,(!Qr||Qr.fid!==St.fid)&&Zr(je,St.fid),St})).apply(this,arguments)}function er(je){return cs.apply(this,arguments)}function cs(){return(cs=(0,p.Z)(function*(je){const St=ur(je),Qn=(yield ls()).transaction(hi,"readwrite");yield Qn.objectStore(hi).delete(St),yield Qn.done})).apply(this,arguments)}function oi(je,St){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(je,St){const $t=ur(je),Rr=(yield ls()).transaction(hi,"readwrite"),Vr=Rr.objectStore(hi),Qr=yield Vr.get($t),Bi=St(Qr);return void 0===Bi?yield Vr.delete($t):yield Vr.put(Bi,$t),yield Rr.done,Bi&&(!Qr||Qr.fid!==Bi.fid)&&Zr(je,Bi.fid),Bi})).apply(this,arguments)}function us(je){return Js.apply(this,arguments)}function Js(){return(Js=(0,p.Z)(function*(je){let St;const $t=yield oi(je.appConfig,Qn=>{const Rr=ai(Qn),Vr=ki(je,Rr);return St=Vr.registrationPromise,Vr.installationEntry});return""===$t.fid?{installationEntry:yield St}:{installationEntry:$t,registrationPromise:St}})).apply(this,arguments)}function ai(je){return Kr(je||{fid:Ln(),registrationStatus:0})}function ki(je,St){if(0===St.registrationStatus){if(!navigator.onLine)return{installationEntry:St,registrationPromise:Promise.reject(Pt.create("app-offline"))};const $t={fid:St.fid,registrationStatus:1,registrationTime:Date.now()},Qn=function eo(je,St){return Ts.apply(this,arguments)}(je,$t);return{installationEntry:$t,registrationPromise:Qn}}return 1===St.registrationStatus?{installationEntry:St,registrationPromise:Nr(je)}:{installationEntry:St}}function Ts(){return(Ts=(0,p.Z)(function*(je,St){try{const $t=yield it(je,St);return Vi(je.appConfig,$t)}catch($t){throw ct($t)&&409===$t.customData.serverCode?yield er(je.appConfig):yield Vi(je.appConfig,{fid:St.fid,registrationStatus:0}),$t}})).apply(this,arguments)}function Nr(je){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,p.Z)(function*(je){let St=yield Fn(je.appConfig);for(;1===St.registrationStatus;)yield ft(100),St=yield Fn(je.appConfig);if(0===St.registrationStatus){const{installationEntry:$t,registrationPromise:Qn}=yield us(je);return Qn||$t}return St})).apply(this,arguments)}function Fn(je){return oi(je,St=>{if(!St)throw Pt.create("installation-not-found");return Kr(St)})}function Kr(je){return function rs(je){return 1===je.registrationStatus&&je.registrationTime+1e4<Date.now()}(je)?{fid:je.fid,registrationStatus:0}:je}function Pr(je,St){return As.apply(this,arguments)}function As(){return(As=(0,p.Z)(function*({appConfig:je,heartbeatServiceProvider:St},$t){const Qn=Fs(je,$t),Rr=Dr(je,$t),Vr=St.getImmediate({optional:!0});if(Vr){const ir=yield Vr.getHeartbeatsHeader();ir&&Rr.append("x-firebase-client",ir)}const Bi={method:"POST",headers:Rr,body:JSON.stringify({installation:{sdkVersion:ae,appId:je.appId}})},jo=yield Tr(()=>fetch(Qn,Bi));if(jo.ok)return bn(yield jo.json());throw yield nr("Generate Auth Token",jo)})).apply(this,arguments)}function Fs(je,{fid:St}){return`${jt(je)}/${St}/authTokens:generate`}function Ii(je){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(je,St=!1){let $t;const Qn=yield oi(je.appConfig,Vr=>{if(!yn(Vr))throw Pt.create("not-registered");const Qr=Vr.authToken;if(!St&&or(Qr))return Vr;if(1===Qr.requestStatus)return $t=Vs(je,St),Vr;{if(!navigator.onLine)throw Pt.create("app-offline");const Bi=Sr(Vr);return $t=_n(je,Bi),Bi}});return $t?yield $t:Qn.authToken})).apply(this,arguments)}function Vs(je,St){return yr.apply(this,arguments)}function yr(){return(yr=(0,p.Z)(function*(je,St){let $t=yield To(je.appConfig);for(;1===$t.authToken.requestStatus;)yield ft(100),$t=yield To(je.appConfig);const Qn=$t.authToken;return 0===Qn.requestStatus?Ii(je,St):Qn})).apply(this,arguments)}function To(je){return oi(je,St=>{if(!yn(St))throw Pt.create("not-registered");return function He(je){return 1===je.requestStatus&&je.requestTime+1e4<Date.now()}(St.authToken)?Object.assign(Object.assign({},St),{authToken:{requestStatus:0}}):St})}function _n(je,St){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(je,St){try{const $t=yield Pr(je,St),Qn=Object.assign(Object.assign({},St),{authToken:$t});return yield Vi(je.appConfig,Qn),$t}catch($t){if(!ct($t)||401!==$t.customData.serverCode&&404!==$t.customData.serverCode){const Qn=Object.assign(Object.assign({},St),{authToken:{requestStatus:0}});yield Vi(je.appConfig,Qn)}else yield er(je.appConfig);throw $t}})).apply(this,arguments)}function yn(je){return void 0!==je&&2===je.registrationStatus}function or(je){return 2===je.requestStatus&&!function fr(je){const St=Date.now();return St<je.creationTime||je.creationTime+je.expiresIn<St+36e5}(je)}function Sr(je){const St={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},je),{authToken:St})}function de(){return(de=(0,p.Z)(function*(je){const St=je,{installationEntry:$t,registrationPromise:Qn}=yield us(St);return Qn?Qn.catch(console.error):Ii(St).catch(console.error),$t.fid})).apply(this,arguments)}function ne(){return(ne=(0,p.Z)(function*(je,St=!1){const $t=je;return yield Fe($t),(yield Ii($t,St)).token})).apply(this,arguments)}function Fe(je){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(je){const{registrationPromise:St}=yield us(je);St&&(yield St)})).apply(this,arguments)}function js(je){return Pt.create("missing-app-config-values",{valueName:je})}const Vo="installations",Hu=je=>{const St=je.getProvider("app").getImmediate(),$t=function Ms(je){if(!je||!je.options)throw js("App Configuration");if(!je.name)throw js("App Name");const St=["projectId","apiKey","appId"];for(const $t of St)if(!je.options[$t])throw js($t);return{appName:je.name,projectId:je.options.projectId,apiKey:je.options.apiKey,appId:je.options.appId}}(St);return{app:St,appConfig:$t,heartbeatServiceProvider:(0,Ee._getProvider)(St,"heartbeat"),_delete:()=>Promise.resolve()}},Xo=je=>{const St=je.getProvider("app").getImmediate(),$t=(0,Ee._getProvider)(St,Vo).getImmediate();return{getId:()=>function Re(je){return de.apply(this,arguments)}($t),getToken:Rr=>function he(je){return ne.apply(this,arguments)}($t,Rr)}};(function Cn(){(0,Ee._registerComponent)(new ce.wA(Vo,Hu,"PUBLIC")),(0,Ee._registerComponent)(new ce.wA("installations-internal",Xo,"PRIVATE"))})(),(0,Ee.registerVersion)(Ae,"0.6.3"),(0,Ee.registerVersion)(Ae,"0.6.3","esm2017")},1877:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Am:()=>ae,Ub:()=>Z,Yd:()=>pe,in:()=>Ee});const p=[];var Ee=(()=>{return(X=Ee||(Ee={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",Ee;var X})();const ce={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},De=Ee.INFO,xe={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Ae=(X,ie,...fe)=>{if(ie<X.logLevel)return;const Ne=(new Date).toISOString(),We=xe[ie];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[We](`[${Ne}]  ${X.name}:`,...fe)};class pe{constructor(ie){this.name=ie,this._logLevel=De,this._logHandler=Ae,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in Ee))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?ce[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...ie),this._logHandler(this,Ee.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...ie),this._logHandler(this,Ee.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...ie),this._logHandler(this,Ee.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...ie),this._logHandler(this,Ee.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...ie),this._logHandler(this,Ee.ERROR,...ie)}}function Z(X){p.forEach(ie=>{ie.setLogLevel(X)})}function ae(X,ie){for(const fe of p){let Ne=null;ie&&ie.level&&(Ne=ce[ie.level]),fe.userLogHandler=null===X?null:(We,lt,...Pt)=>{const ct=Pt.map(jt=>{if(null==jt)return null;if("string"==typeof jt)return jt;if("number"==typeof jt||"boolean"==typeof jt)return jt.toString();if(jt instanceof Error)return jt.message;try{return JSON.stringify(jt)}catch(bn){return null}}).filter(jt=>jt).join(" ");lt>=(null!=Ne?Ne:We.logLevel)&&X({level:Ee[lt].toLowerCase(),message:ct,args:Pt,type:We.name})}}}},9260:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Z:()=>p.Z});var p=U(3942);p.Z.registerVersion("firebase","9.17.1","app-compat")},407:(Kt,Qe,U)=>{"use strict";U.r(Qe);var p=U(5861),Ee=U(3942),ce=U(2090),De=U(9681),xe=U(1877),Ae=U(655),pe=U(4859);const lt=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pt=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bn=new xe.Yd("@firebase/auth");function nr(D,...m){bn.logLevel<=xe.in.ERROR&&bn.error(`Auth (${De.SDK_VERSION}): ${D}`,...m)}function ar(D,...m){throw On(D,...m)}function cr(D,...m){return On(D,...m)}function Dr(D,m,_){const M=Object.assign(Object.assign({},Pt()),{[m]:_});return new ce.LL("auth","Firebase",M).create(m,{appName:D.name})}function Tr(D,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&ar(D,"argument-error"),Dr(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function On(D,...m){if("string"!=typeof D){const _=m[0],M=[...m.slice(1)];return M[0]&&(M[0].appName=D.name),D._errorFactory.create(_,...M)}return ct.create(D,...m)}function tt(D,m,..._){if(!D)throw On(m,..._)}function zt(D){const m="INTERNAL ASSERTION FAILED: "+D;throw nr(m),new Error(m)}function it(D,m){D||zt(m)}const wt=new Map;function ft(D){it(D instanceof Function,"Expected a class definition");let m=wt.get(D);return m?(it(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,wt.set(D,m),m)}function Jt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Ln(){return"http:"===Or()||"https:"===Or()}function Or(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Zr{constructor(m,_){this.shortDelay=m,this.longDelay=_,it(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function ur(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ln()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qi(D,m){it(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class si{static initialize(m,_,M){this.fetchImpl=m,_&&(this.headersImpl=_),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ns=new Zr(3e4,6e4);function wr(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function Cr(D,m,_,M){return bs.apply(this,arguments)}function bs(){return(bs=(0,p.Z)(function*(D,m,_,M,W={}){return Na(D,W,(0,p.Z)(function*(){let le={},Ue={};M&&("GET"===m?Ue=M:le={body:JSON.stringify(M)});const Ot=(0,ce.xO)(Object.assign({key:D.config.apiKey},Ue)).slice(1),on=yield D._getAdditionalHeaders();return on["Content-Type"]="application/json",D.languageCode&&(on["X-Firebase-Locale"]=D.languageCode),si.fetch()(ls(D,D.config.apiHost,_,Ot),Object.assign({method:m,headers:on,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Na(D,m,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(D,m,_){D._canInitEmulator=!1;const M=Object.assign(Object.assign({},jr),m);try{const W=new Vi(D),le=yield Promise.race([_(),W.promise]);W.clearNetworkTimeout();const Ue=yield le.json();if("needConfirmation"in Ue)throw Hs(D,"account-exists-with-different-credential",Ue);if(le.ok&&!("errorMessage"in Ue))return Ue;{const Ot=le.ok?Ue.errorMessage:Ue.error.message,[on,wn]=Ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===on)throw Hs(D,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===on)throw Hs(D,"email-already-in-use",Ue);if("USER_DISABLED"===on)throw Hs(D,"user-disabled",Ue);const en=M[on]||on.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw Dr(D,en,wn);ar(D,en)}}catch(W){if(W instanceof ce.ZR)throw W;ar(D,"network-request-failed")}})).apply(this,arguments)}function hi(D,m,_,M){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(D,m,_,M,W={}){const le=yield Cr(D,m,_,M,W);return"mfaPendingCredential"in le&&ar(D,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function ls(D,m,_,M){const W=`${m}${_}?${M}`;return D.config.emulator?qi(D.config,W):`${D.config.apiScheme}://${W}`}class Vi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,M)=>{this.timer=setTimeout(()=>M(cr(this.auth,"network-request-failed")),ns.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hs(D,m,_){const M={appName:D.name};_.email&&(M.email=_.email),_.phoneNumber&&(M.phoneNumber=_.phoneNumber);const W=cr(D,m,M);return W.customData._tokenResponse=_,W}function cs(){return(cs=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function oi(D,m){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function us(D,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ai(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Ts(){return(Ts=(0,p.Z)(function*(D,m=!1){const _=(0,ce.m9)(D),M=yield _.getIdToken(m),W=Dn(M);tt(W&&W.exp&&W.auth_time&&W.iat,_.auth,"internal-error");const le="object"==typeof W.firebase?W.firebase:void 0,Ue=null==le?void 0:le.sign_in_provider;return{claims:W,token:M,authTime:ai(Nr(W.auth_time)),issuedAtTime:ai(Nr(W.iat)),expirationTime:ai(Nr(W.exp)),signInProvider:Ue||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function Nr(D){return 1e3*Number(D)}function Dn(D){const[m,_,M]=D.split(".");if(void 0===m||void 0===_||void 0===M)return nr("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,ce.tV)(_);return W?JSON.parse(W):(nr("Failed to decode base64 JWT payload"),null)}catch(W){return nr("Caught error parsing JWT payload as JSON",null==W?void 0:W.toString()),null}}function Kr(D,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(D,m,_=!1){if(_)return m;try{return yield m}catch(M){throw M instanceof ce.ZR&&Pr(M)&&D.auth.currentUser===D&&(yield D.auth.signOut()),M}})).apply(this,arguments)}function Pr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class As{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const W=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const M=this.getInterval(m);this.timerId=setTimeout((0,p.Z)(function*(){yield _.iteration()}),M)}iteration(){var m=this;return(0,p.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Fs{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ai(this.lastLoginAt),this.creationTime=ai(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ii(D){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(D){var m;const _=D.auth,M=yield D.getIdToken(),W=yield Kr(D,us(_,{idToken:M}));tt(null==W?void 0:W.users.length,_,"internal-error");const le=W.users[0];D._notifyReloadListener(le);const Ue=(null===(m=le.providerUserInfo)||void 0===m?void 0:m.length)?_n(le.providerUserInfo):[],Ot=To(D.providerData,Ue),en=!!D.isAnonymous&&!(D.email&&le.passwordHash||(null==Ot?void 0:Ot.length)),sr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:Ot,metadata:new Fs(le.createdAt,le.lastLoginAt),isAnonymous:en};Object.assign(D,sr)})).apply(this,arguments)}function yr(){return(yr=(0,p.Z)(function*(D){const m=(0,ce.m9)(D);yield Ii(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function To(D,m){return[...D.filter(M=>!m.some(W=>W.providerId===M.providerId)),...m]}function _n(D){return D.map(m=>{var{providerId:_}=m,M=(0,Ae._T)(m,["providerId"]);return{providerId:_,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function yn(){return(yn=(0,p.Z)(function*(D,m){const _=yield Na(D,{},(0,p.Z)(function*(){const M=(0,ce.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:W,apiKey:le}=D.config,Ue=ls(D,W,"/v1/token",`key=${le}`),Ot=yield D._getAdditionalHeaders();return Ot["Content-Type"]="application/x-www-form-urlencoded",si.fetch()(Ue,{method:"POST",headers:Ot,body:M})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class or{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){tt(m.idToken,"internal-error"),tt(void 0!==m.idToken,"internal-error"),tt(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function Fn(D){const m=Dn(D);return tt(m,"internal-error"),tt(void 0!==m.exp,"internal-error"),tt(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var M=this;return(0,p.Z)(function*(){return tt(!M.accessToken||M.refreshToken,m,"user-token-expired"),_||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(m,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var M=this;return(0,p.Z)(function*(){const{accessToken:W,refreshToken:le,expiresIn:Ue}=yield function Ht(D,m){return yn.apply(this,arguments)}(m,_);M.updateTokensAndExpiration(W,le,Number(Ue))})()}updateTokensAndExpiration(m,_,M){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(m,_){const{refreshToken:M,accessToken:W,expirationTime:le}=_,Ue=new or;return M&&(tt("string"==typeof M,"internal-error",{appName:m}),Ue.refreshToken=M),W&&(tt("string"==typeof W,"internal-error",{appName:m}),Ue.accessToken=W),le&&(tt("number"==typeof le,"internal-error",{appName:m}),Ue.expirationTime=le),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new or,this.toJSON())}_performRefresh(){return zt("not implemented")}}function fr(D,m){tt("string"==typeof D||void 0===D,"internal-error",{appName:m})}class Sr{constructor(m){var{uid:_,auth:M,stsTokenManager:W}=m,le=(0,Ae._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new As(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=M,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Fs(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,p.Z)(function*(){const M=yield Kr(_,_.stsTokenManager.getToken(_.auth,m));return tt(M,_.auth,"internal-error"),_.accessToken!==M&&(_.accessToken=M,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),M})()}getIdTokenResult(m){return function eo(D){return Ts.apply(this,arguments)}(this,m)}reload(){return function Vs(D){return yr.apply(this,arguments)}(this)}_assign(m){this!==m&&(tt(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Sr(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var M=this;return(0,p.Z)(function*(){let W=!1;m.idToken&&m.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(m),W=!0),_&&(yield Ii(M)),yield M.auth._persistUserIfCurrent(M),W&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var m=this;return(0,p.Z)(function*(){const _=yield m.getIdToken();return yield Kr(m,function er(D,m){return cs.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var M,W,le,Ue,Ot,on,wn,en;const sr=null!==(M=_.displayName)&&void 0!==M?M:void 0,oo=null!==(W=_.email)&&void 0!==W?W:void 0,ao=null!==(le=_.phoneNumber)&&void 0!==le?le:void 0,Ep=null!==(Ue=_.photoURL)&&void 0!==Ue?Ue:void 0,kg=null!==(Ot=_.tenantId)&&void 0!==Ot?Ot:void 0,Ug=null!==(on=_._redirectEventId)&&void 0!==on?on:void 0,Ay=null!==(wn=_.createdAt)&&void 0!==wn?wn:void 0,Ip=null!==(en=_.lastLoginAt)&&void 0!==en?en:void 0,{uid:sh,emailVerified:Bu,isAnonymous:tf,providerData:Qg,stsTokenManager:Es}=_;tt(sh&&Es,m,"internal-error");const hy=or.fromJSON(this.name,Es);tt("string"==typeof sh,m,"internal-error"),fr(sr,m.name),fr(oo,m.name),tt("boolean"==typeof Bu,m,"internal-error"),tt("boolean"==typeof tf,m,"internal-error"),fr(ao,m.name),fr(Ep,m.name),fr(kg,m.name),fr(Ug,m.name),fr(Ay,m.name),fr(Ip,m.name);const En=new Sr({uid:sh,auth:m,email:oo,emailVerified:Bu,displayName:sr,isAnonymous:tf,photoURL:Ep,phoneNumber:ao,tenantId:kg,stsTokenManager:hy,createdAt:Ay,lastLoginAt:Ip});return Qg&&Array.isArray(Qg)&&(En.providerData=Qg.map(Su=>Object.assign({},Su))),Ug&&(En._redirectEventId=Ug),En}static _fromIdTokenResponse(m,_,M=!1){return(0,p.Z)(function*(){const W=new or;W.updateFromServerResponse(_);const le=new Sr({uid:_.localId,auth:m,stsTokenManager:W,isAnonymous:M});return yield Ii(le),le})()}}const Re=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(_,M){var W=this;return(0,p.Z)(function*(){W.storage[_]=M})()}_get(_){var M=this;return(0,p.Z)(function*(){const W=M.storage[_];return void 0===W?null:W})()}_remove(_){var M=this;return(0,p.Z)(function*(){delete M.storage[_]})()}_addListener(_,M){}_removeListener(_,M){}}return D.type="NONE",D})();function de(D,m,_){return`firebase:${D}:${m}:${_}`}class he{constructor(m,_,M){this.persistence=m,this.auth=_,this.userKey=M;const{config:W,name:le}=this.auth;this.fullUserKey=de(this.userKey,W.apiKey,le),this.fullPersistenceKey=de("persistence",W.apiKey,le),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,p.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Sr._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,p.Z)(function*(){if(_.persistence===m)return;const M=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,M?_.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,M="authUser"){return(0,p.Z)(function*(){if(!_.length)return new he(ft(Re),m,M);const W=(yield Promise.all(_.map(function(){var wn=(0,p.Z)(function*(en){if(yield en._isAvailable())return en});return function(en){return wn.apply(this,arguments)}}()))).filter(wn=>wn);let le=W[0]||ft(Re);const Ue=de(M,m.config.apiKey,m.name);let Ot=null;for(const wn of _)try{const en=yield wn._get(Ue);if(en){const sr=Sr._fromJSON(m,en);wn!==le&&(Ot=sr),le=wn;break}}catch(en){}const on=W.filter(wn=>wn._shouldAllowMigration);return le._shouldAllowMigration&&on.length?(le=on[0],Ot&&(yield le._set(Ue,Ot.toJSON())),yield Promise.all(_.map(function(){var wn=(0,p.Z)(function*(en){if(en!==le)try{yield en._remove(Ue)}catch(sr){}});return function(en){return wn.apply(this,arguments)}}())),new he(le,m,M)):new he(le,m,M)})()}}function ne(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Nt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Fe(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(an(m))return"Blackberry";if(un(m))return"Webos";if(Ye(m))return"Safari";if((m.includes("chrome/")||_t(m))&&!m.includes("edge/"))return"Chrome";if(sn(m))return"Android";{const M=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function Fe(D=(0,ce.z$)()){return/firefox\//i.test(D)}function Ye(D=(0,ce.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function _t(D=(0,ce.z$)()){return/crios\//i.test(D)}function Nt(D=(0,ce.z$)()){return/iemobile/i.test(D)}function sn(D=(0,ce.z$)()){return/android/i.test(D)}function an(D=(0,ce.z$)()){return/blackberry/i.test(D)}function un(D=(0,ce.z$)()){return/webos/i.test(D)}function zn(D=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Vo(D=(0,ce.z$)()){return zn(D)||sn(D)||un(D)||an(D)||/windows phone/i.test(D)||Nt(D)}function Hu(D,m=[]){let _;switch(D){case"Browser":_=ne((0,ce.z$)());break;case"Worker":_=`${ne((0,ce.z$)())}-${D}`;break;default:_=D}const M=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${De.SDK_VERSION}/${M}`}class Xo{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const M=le=>new Promise((Ue,Ot)=>{try{Ue(m(le))}catch(on){Ot(on)}});M.onAbort=_,this.queue.push(M);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,p.Z)(function*(){if(_.auth.currentUser===m)return;const M=[];try{for(const W of _.queue)yield W(m),W.onAbort&&M.push(W.onAbort)}catch(W){M.reverse();for(const le of M)try{le()}catch(Ue){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==W?void 0:W.message})}})()}}class Cn{constructor(m,_,M){this.app=m,this.heartbeatServiceProvider=_,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new St(this),this.idTokenSubscription=new St(this),this.beforeStateQueue=new Xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(m,_){var M=this;return _&&(this._popupRedirectResolver=ft(_)),this._initializationPromise=this.queue((0,p.Z)(function*(){var W,le;if(!M._deleted&&(M.persistenceManager=yield he.create(M,m),!M._deleted)){if(null===(W=M._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(Ue){}yield M.initializeCurrentUser(_),M.lastNotifiedUid=(null===(le=M.currentUser)||void 0===le?void 0:le.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,p.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,p.Z)(function*(){var M;const W=yield _.assertedPersistence.getCurrentUser();let le=W,Ue=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ot=null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId,on=null==le?void 0:le._redirectEventId,wn=yield _.tryRedirectSignIn(m);(!Ot||Ot===on)&&(null==wn?void 0:wn.user)&&(le=wn.user,Ue=!0)}if(!le)return _.directlySetCurrentUser(null);if(!le._redirectEventId){if(Ue)try{yield _.beforeStateQueue.runMiddleware(le)}catch(Ot){le=W,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ot))}return le?_.reloadAndSetCurrentUserOrClear(le):_.directlySetCurrentUser(null)}return tt(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===le._redirectEventId?_.directlySetCurrentUser(le):_.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(m){var _=this;return(0,p.Z)(function*(){let M=null;try{M=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(W){yield _._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,p.Z)(function*(){try{yield Ii(m)}catch(M){if("auth/network-request-failed"!==(null==M?void 0:M.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function mn(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,p.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,p.Z)(function*(){const M=m?(0,ce.m9)(m):null;return M&&tt(M.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(M&&M._clone(_))})()}_updateCurrentUser(m,_=!1){var M=this;return(0,p.Z)(function*(){if(!M._deleted)return m&&tt(M.tenantId===m.tenantId,M,"tenant-id-mismatch"),_||(yield M.beforeStateQueue.runMiddleware(m)),M.queue((0,p.Z)(function*(){yield M.directlySetCurrentUser(m),M.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,p.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,p.Z)(function*(){yield _.assertedPersistence.setPersistence(ft(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new ce.LL("auth","Firebase",m())}onAuthStateChanged(m,_,M){return this.registerStateListener(this.authStateSubscription,m,_,M)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,M){return this.registerStateListener(this.idTokenSubscription,m,_,M)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var M=this;return(0,p.Z)(function*(){const W=yield M.getOrInitRedirectPersistenceManager(_);return null===m?W.removeCurrentUser():W.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,p.Z)(function*(){if(!_.redirectPersistenceManager){const M=m&&ft(m)||_._popupRedirectResolver;tt(M,_,"argument-error"),_.redirectPersistenceManager=yield he.create(_,[ft(M._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,p.Z)(function*(){var M,W;return _._isInitialized&&(yield _.queue((0,p.Z)(function*(){}))),(null===(M=_._currentUser)||void 0===M?void 0:M._redirectEventId)===m?_._currentUser:(null===(W=_.redirectUser)||void 0===W?void 0:W._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,p.Z)(function*(){if(m===_.currentUser)return _.queue((0,p.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,M,W){if(this._deleted)return()=>{};const le="function"==typeof _?_:_.next.bind(_),Ue=this._isInitialized?Promise.resolve():this._initializationPromise;return tt(Ue,this,"internal-error"),Ue.then(()=>le(this.currentUser)),"function"==typeof _?m.addObserver(_,M,W):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,p.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Hu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,p.Z)(function*(){var _;const M={"X-Client-Version":m.clientVersion};m.app.options.appId&&(M["X-Firebase-gmpid"]=m.app.options.appId);const W=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return W&&(M["X-Firebase-Client"]=W),M})()}}function je(D){return(0,ce.m9)(D)}class St{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,ce.ne)(_=>this.observer=_)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qn(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function Vr(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class Bi{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return zt("not implemented")}_getIdTokenResponse(m){return zt("not implemented")}_linkToIdToken(m,_){return zt("not implemented")}_getReauthenticationResolver(m){return zt("not implemented")}}function jo(D,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:resetPassword",wr(D,m))})).apply(this,arguments)}function Za(D,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fd(D,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:update",wr(D,m))})).apply(this,arguments)}function Oa(){return(Oa=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signInWithPassword",wr(D,m))})).apply(this,arguments)}function Jo(D,m){return no.apply(this,arguments)}function no(){return(no=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:sendOobCode",wr(D,m))})).apply(this,arguments)}function ji(D,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(D,m){return Jo(D,m)})).apply(this,arguments)}function pd(D,m){return po.apply(this,arguments)}function po(){return(po=(0,p.Z)(function*(D,m){return Jo(D,m)})).apply(this,arguments)}function Ja(D,m){return FA.apply(this,arguments)}function FA(){return(FA=(0,p.Z)(function*(D,m){return Jo(D,m)})).apply(this,arguments)}function gd(D,m){return $c.apply(this,arguments)}function $c(){return($c=(0,p.Z)(function*(D,m){return Jo(D,m)})).apply(this,arguments)}function _c(){return(_c=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signInWithEmailLink",wr(D,m))})).apply(this,arguments)}function Hf(){return(Hf=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signInWithEmailLink",wr(D,m))})).apply(this,arguments)}class Ko extends Bi{constructor(m,_,M,W=null){super("password",M),this._email=m,this._password=_,this._tenantId=W}static _fromEmailAndPassword(m,_){return new Ko(m,_,"password")}static _fromEmailAndCode(m,_,M=null){return new Ko(m,_,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,p.Z)(function*(){switch(_.signInMethod){case"password":return function to(D,m){return Oa.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function el(D,m){return _c.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:ar(m,"internal-error")}})()}_linkToIdToken(m,_){var M=this;return(0,p.Z)(function*(){switch(M.signInMethod){case"password":return Za(m,{idToken:_,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function md(D,m){return Hf.apply(this,arguments)}(m,{idToken:_,email:M._email,oobCode:M._password});default:ar(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Yl(D,m){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signInWithIdp",wr(D,m))})).apply(this,arguments)}class tl extends Bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new tl(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):ar("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:W}=_,le=(0,Ae._T)(_,["providerId","signInMethod"]);if(!M||!W)return null;const Ue=new tl(M,W);return Ue.idToken=le.idToken||void 0,Ue.accessToken=le.accessToken||void 0,Ue.secret=le.secret,Ue.nonce=le.nonce,Ue.pendingToken=le.pendingToken||null,Ue}_getIdTokenResponse(m){return Yl(m,this.buildRequest())}_linkToIdToken(m,_){const M=this.buildRequest();return M.idToken=_,Yl(m,M)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Yl(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,ce.xO)(_)}return m}}function Vu(D,m){return jf.apply(this,arguments)}function jf(){return(jf=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:sendVerificationCode",wr(D,m))})).apply(this,arguments)}function La(){return(La=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signInWithPhoneNumber",wr(D,m))})).apply(this,arguments)}function Kf(){return(Kf=(0,p.Z)(function*(D,m){const _=yield hi(D,"POST","/v1/accounts:signInWithPhoneNumber",wr(D,m));if(_.temporaryProof)throw Hs(D,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const jm={USER_NOT_FOUND:"user-not-found"};function Gf(){return(Gf=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signInWithPhoneNumber",wr(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),jm)})).apply(this,arguments)}class ju extends Bi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new ju({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new ju({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Vm(D,m){return La.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Ih(D,m){return Kf.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Km(D,m){return Gf.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:M,verificationCode:W}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:M,code:W}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:M,phoneNumber:W,temporaryProof:le}=m;return M||_||W||le?new ju({verificationId:_,verificationCode:M,phoneNumber:W,temporaryProof:le}):null}}class MA{constructor(m){var _,M,W,le,Ue,Ot;const on=(0,ce.zd)((0,ce.pd)(m)),wn=null!==(_=on.apiKey)&&void 0!==_?_:null,en=null!==(M=on.oobCode)&&void 0!==M?M:null,sr=function Wf(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=on.mode)&&void 0!==W?W:null);tt(wn&&en&&sr,"argument-error"),this.apiKey=wn,this.operation=sr,this.code=en,this.continueUrl=null!==(le=on.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(Ue=on.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(Ot=on.tenantId)&&void 0!==Ot?Ot:null}static parseLink(m){const _=function Ra(D){const m=(0,ce.zd)((0,ce.pd)(D)).link,_=m?(0,ce.zd)((0,ce.pd)(m)).deep_link_id:null,M=(0,ce.zd)((0,ce.pd)(D)).deep_link_id;return(M?(0,ce.zd)((0,ce.pd)(M)).link:null)||M||_||m||D}(m);try{return new MA(_)}catch(M){return null}}}let yd=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,M){return Ko._fromEmailAndPassword(_,M)}static credentialWithLink(_,M){const W=MA.parseLink(M);return tt(W,"argument-error"),Ko._fromEmailAndCode(_,W.code,W.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Fo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ku extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class wl extends Ku{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return tt("providerId"in _&&"signInMethod"in _,"argument-error"),tl._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return tt(m.idToken||m.accessToken,"argument-error"),tl._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return wl.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return wl.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:M,oauthTokenSecret:W,pendingToken:le,nonce:Ue,providerId:Ot}=m;if(!M&&!W&&!_&&!le||!Ot)return null;try{return new wl(Ot)._credential({idToken:_,accessToken:M,nonce:Ue,pendingToken:le})}catch(on){return null}}}let Gu=(()=>{class D extends Ku{constructor(){super("facebook.com")}static credential(_){return tl._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch(M){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),vd=(()=>{class D extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(_,M){return tl._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:M})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:M,oauthAccessToken:W}=_;if(!M&&!W)return null;try{return D.credential(M,W)}catch(le){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),zf=(()=>{class D extends Ku{constructor(){super("github.com")}static credential(_){return tl._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch(M){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class wc extends Bi{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Yl(m,this.buildRequest())}_linkToIdToken(m,_){const M=this.buildRequest();return M.idToken=_,Yl(m,M)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Yl(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:W,pendingToken:le}=_;return M&&W&&le&&M===W?new wc(M,le):null}static _create(m,_){return new wc(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wu extends Fo{constructor(m){tt(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Wu.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Wu.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=wc.fromJSON(m);return tt(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:M}=m;if(!_||!M)return null;try{return wc._create(M,_)}catch(W){return null}}}let Yc=(()=>{class D extends Ku{constructor(){super("twitter.com")}static credential(_,M){return tl._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:M})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:M,oauthTokenSecret:W}=_;if(!M||!W)return null;try{return D.credential(M,W)}catch(le){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function va(D,m){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signUp",wr(D,m))})).apply(this,arguments)}class nl{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,M,W=!1){return(0,p.Z)(function*(){const le=yield Sr._fromIdTokenResponse(m,M,W),Ue=_d(M);return new nl({user:le,providerId:Ue,_tokenResponse:M,operationType:_})})()}static _forOperation(m,_,M){return(0,p.Z)(function*(){yield m._updateTokensIfNecessary(M,!0);const W=_d(M);return new nl({user:m,providerId:W,_tokenResponse:M,operationType:_})})()}}function _d(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function zu(){return(zu=(0,p.Z)(function*(D){var m;const _=je(D);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new nl({user:_.currentUser,providerId:null,operationType:"signIn"});const M=yield va(_,{returnSecureToken:!0}),W=yield nl._fromIdTokenResponse(_,"signIn",M,!0);return yield _._updateCurrentUser(W.user),W})).apply(this,arguments)}class Xc extends ce.ZR{constructor(m,_,M,W){var le;super(_.code,_.message),this.operationType=M,this.user=W,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:m.name,tenantId:null!==(le=m.tenantId)&&void 0!==le?le:void 0,_serverResponse:_.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(m,_,M,W){return new Xc(m,_,M,W)}}function bd(D,m,_,M){return("reauthenticate"===m?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Xc._fromErrorAndOperation(D,le,m,M):le})}function rl(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function Ui(){return(Ui=(0,p.Z)(function*(D,m){const _=(0,ce.m9)(D);yield Qi(!0,_,m);const{providerUserInfo:M}=yield oi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),W=rl(M||[]);return _.providerData=_.providerData.filter(le=>W.has(le.providerId)),W.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Bh(D,m){return NA.apply(this,arguments)}function NA(){return(NA=(0,p.Z)(function*(D,m,_=!1){const M=yield Kr(D,m._linkToIdToken(D.auth,yield D.getIdToken()),_);return nl._forOperation(D,"link",M)})).apply(this,arguments)}function Qi(D,m,_){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,p.Z)(function*(D,m,_){yield Ii(m);const W=!1===D?"provider-already-linked":"no-such-provider";tt(rl(m.providerData).has(_)===D,m.auth,W)})).apply(this,arguments)}function Sh(D,m){return qu.apply(this,arguments)}function qu(){return(qu=(0,p.Z)(function*(D,m,_=!1){const{auth:M}=D,W="reauthenticate";try{const le=yield Kr(D,bd(M,W,m,D),_);tt(le.idToken,M,"internal-error");const Ue=Dn(le.idToken);tt(Ue,M,"internal-error");const{sub:Ot}=Ue;return tt(D.uid===Ot,M,"user-mismatch"),nl._forOperation(D,W,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&ar(M,"user-mismatch"),le}})).apply(this,arguments)}function Go(D,m){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,p.Z)(function*(D,m,_=!1){const M="signIn",W=yield bd(D,M,m),le=yield nl._fromIdTokenResponse(D,M,W);return _||(yield D._updateCurrentUser(le.user)),le})).apply(this,arguments)}function $u(D,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,p.Z)(function*(D,m){return Go(je(D),m)})).apply(this,arguments)}function ea(D,m){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,p.Z)(function*(D,m){const _=(0,ce.m9)(D);return yield Qi(!1,_,m.providerId),Bh(_,m)})).apply(this,arguments)}function Cl(D,m){return xh.apply(this,arguments)}function xh(){return(xh=(0,p.Z)(function*(D,m){return Sh((0,ce.m9)(D),m)})).apply(this,arguments)}function Zl(D,m){return bc.apply(this,arguments)}function bc(){return(bc=(0,p.Z)(function*(D,m){return hi(D,"POST","/v1/accounts:signInWithCustomToken",wr(D,m))})).apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(D,m){const _=je(D),M=yield Zl(_,{token:m,returnSecureToken:!0}),W=yield nl._fromIdTokenResponse(_,"signIn",M);return yield _._updateCurrentUser(W.user),W})).apply(this,arguments)}class eu{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Th._fromServerResponse(m,_):ar(m,"internal-error")}}class Th extends eu{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Th(_)}}function PA(D,m,_){var M;tt((null===(M=_.url)||void 0===M?void 0:M.length)>0,D,"invalid-continue-uri"),tt(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(tt(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(tt(_.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Fh(){return(Fh=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D),W={requestType:"PASSWORD_RESET",email:m};_&&PA(M,W,_),yield pd(M,W)})).apply(this,arguments)}function tu(){return(tu=(0,p.Z)(function*(D,m,_){yield jo((0,ce.m9)(D),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Lt(){return(Lt=(0,p.Z)(function*(D,m){yield fd((0,ce.m9)(D),{oobCode:m})})).apply(this,arguments)}function li(D,m){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,p.Z)(function*(D,m){const _=(0,ce.m9)(D),M=yield jo(_,{oobCode:m}),W=M.requestType;switch(tt(W,_,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":tt(M.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":tt(M.mfaInfo,_,"internal-error");default:tt(M.email,_,"internal-error")}let le=null;return M.mfaInfo&&(le=eu._fromServerResponse(je(_),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:le},operation:W}})).apply(this,arguments)}function El(){return(El=(0,p.Z)(function*(D,m){const{data:_}=yield li((0,ce.m9)(D),m);return _.email})).apply(this,arguments)}function ka(){return(ka=(0,p.Z)(function*(D,m,_){const M=je(D),W=yield va(M,{returnSecureToken:!0,email:m,password:_}),le=yield nl._fromIdTokenResponse(M,"signIn",W);return yield M._updateCurrentUser(le.user),le})).apply(this,arguments)}function Mh(){return(Mh=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D),W={requestType:"EMAIL_SIGNIN",email:m};tt(_.handleCodeInApp,M,"argument-error"),_&&PA(M,W,_),yield Ja(M,W)})).apply(this,arguments)}function ta(){return(ta=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D),W=yd.credentialWithLink(m,_||Jt());return tt(W._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),$u(M,W)})).apply(this,arguments)}function Gs(D,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:createAuthUri",wr(D,m))})).apply(this,arguments)}function Bl(){return(Bl=(0,p.Z)(function*(D,m){const M={identifier:m,continueUri:Ln()?Jt():"http://localhost"},{signinMethods:W}=yield Gs((0,ce.m9)(D),M);return W||[]})).apply(this,arguments)}function Yu(){return(Yu=(0,p.Z)(function*(D,m){const _=(0,ce.m9)(D),W={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&PA(_.auth,W,m);const{email:le}=yield ji(_.auth,W);le!==D.email&&(yield D.reload())})).apply(this,arguments)}function Nh(){return(Nh=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};_&&PA(M.auth,le,_);const{email:Ue}=yield gd(M.auth,le);Ue!==D.email&&(yield D.reload())})).apply(this,arguments)}function Zf(D,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,p.Z)(function*(D,m){return Cr(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function il(){return(il=(0,p.Z)(function*(D,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const M=(0,ce.m9)(D),le={idToken:yield M.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Ue=yield Kr(M,Zf(M.auth,le));M.displayName=Ue.displayName||null,M.photoURL=Ue.photoUrl||null;const Ot=M.providerData.find(({providerId:on})=>"password"===on);Ot&&(Ot.displayName=M.displayName,Ot.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Ue)})).apply(this,arguments)}function LA(D,m,_){return nu.apply(this,arguments)}function nu(){return(nu=(0,p.Z)(function*(D,m,_){const{auth:M}=D,le={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(le.email=m),_&&(le.password=_);const Ue=yield Kr(D,Za(M,le));yield D._updateTokensIfNecessary(Ue,!0)})).apply(this,arguments)}class ru{constructor(m,_,M={}){this.isNewUser=m,this.providerId=_,this.profile=M}}class xd extends ru{constructor(m,_,M,W){super(m,_,M),this.username=W}}class iu extends ru{constructor(m,_){super(m,"facebook.com",_)}}class zs extends xd{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class gg extends ru{constructor(m,_){super(m,"google.com",_)}}class mg extends xd{constructor(m,_,M){super(m,"twitter.com",_,M)}}function Ns(D){const{user:m,_tokenResponse:_}=D;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ph(D){var m,_;if(!D)return null;const{providerId:M}=D,W=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},le=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!M&&(null==D?void 0:D.idToken)){const Ue=null===(_=null===(m=Dn(D.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ue)return new ru(le,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!M)return null;switch(M){case"facebook.com":return new iu(le,W);case"github.com":return new zs(le,W);case"google.com":return new gg(le,W);case"twitter.com":return new mg(le,W,D.screenName||null);case"custom":case"anonymous":return new ru(le,null);default:return new ru(le,M,W)}}(_)}class sl{constructor(m,_,M){this.type=m,this.credential=_,this.auth=M}static _fromIdtoken(m,_){return new sl("enroll",m,_)}static _fromMfaPendingCredential(m){return new sl("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,M;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return sl._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(M=m.multiFactorSession)||void 0===M?void 0:M.idToken)return sl._fromIdtoken(m.multiFactorSession.idToken)}return null}}class su{constructor(m,_,M){this.session=m,this.hints=_,this.signInResolver=M}static _fromError(m,_){const M=je(m),W=_.customData._serverResponse,le=(W.mfaInfo||[]).map(Ot=>eu._fromServerResponse(M,Ot));tt(W.mfaPendingCredential,M,"internal-error");const Ue=sl._fromMfaPendingCredential(W.mfaPendingCredential);return new su(Ue,le,function(){var Ot=(0,p.Z)(function*(on){const wn=yield on._process(M,Ue);delete W.mfaInfo,delete W.mfaPendingCredential;const en=Object.assign(Object.assign({},W),{idToken:wn.idToken,refreshToken:wn.refreshToken});switch(_.operationType){case"signIn":const sr=yield nl._fromIdTokenResponse(M,_.operationType,en);return yield M._updateCurrentUser(sr.user),sr;case"reauthenticate":return tt(_.user,M,"internal-error"),nl._forOperation(_.user,_.operationType,en);default:ar(M,"internal-error")}});return function(on){return Ot.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,p.Z)(function*(){return _.signInResolver(m)})()}}function we(D,m){return Cr(D,"POST","/v2/accounts/mfaEnrollment:start",wr(D,m))}class _e{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(M=>eu._fromServerResponse(m.auth,M)))})}static _fromUser(m){return new _e(m)}getSession(){var m=this;return(0,p.Z)(function*(){return sl._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var M=this;return(0,p.Z)(function*(){const W=m,le=yield M.getSession(),Ue=yield Kr(M.user,W._process(M.user.auth,le,_));return yield M.user._updateTokensIfNecessary(Ue),M.user.reload()})()}unenroll(m){var _=this;return(0,p.Z)(function*(){const M="string"==typeof m?m:m.uid,W=yield _.user.getIdToken();try{const le=yield Kr(_.user,function H(D,m){return Cr(D,"POST","/v2/accounts/mfaEnrollment:withdraw",wr(D,m))}(_.user.auth,{idToken:W,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ue})=>Ue!==M),yield _.user._updateTokensIfNecessary(le),yield _.user.reload()}catch(le){throw le}})()}}const pt=new WeakMap,Zn="__sak";class bi{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const gi=(()=>{class D extends bi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,M)=>this.onStorageEvent(_,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function na(){const D=(0,ce.z$)();return Ye(D)||zn(D)}()&&function Ks(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Vo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const M of Object.keys(this.listeners)){const W=this.storage.getItem(M),le=this.localCache[M];W!==le&&_(M,le,W)}}onStorageEvent(_,M=!1){if(!_.key)return void this.forAllChangedKeys((Ot,on,wn)=>{this.notifyListeners(Ot,wn)});const W=_.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ot=this.storage.getItem(W);if(_.newValue!==Ot)null!==_.newValue?this.storage.setItem(W,_.newValue):this.storage.removeItem(W);else if(this.localCache[W]===_.newValue&&!M)return}const le=()=>{const Ot=this.storage.getItem(W);!M&&this.localCache[W]===Ot||this.notifyListeners(W,Ot)},Ue=this.storage.getItem(W);!function js(){return(0,ce.w1)()&&10===document.documentMode}()||Ue===_.newValue||_.newValue===_.oldValue?le():setTimeout(le,10)}notifyListeners(_,M){this.localCache[_]=M;const W=this.listeners[_];if(W)for(const le of Array.from(W))le(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,M,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:M,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,M){var W=()=>super._set,le=this;return(0,p.Z)(function*(){yield W().call(le,_,M),le.localCache[_]=JSON.stringify(M)})()}_get(_){var M=()=>super._get,W=this;return(0,p.Z)(function*(){const le=yield M().call(W,_);return W.localCache[_]=JSON.stringify(le),le})()}_remove(_){var M=()=>super._remove,W=this;return(0,p.Z)(function*(){yield M().call(W,_),delete W.localCache[_]})()}}return D.type="LOCAL",D})(),zo=(()=>{class D extends bi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,M){}_removeListener(_,M){}}return D.type="SESSION",D})();let kA=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const M=this.receivers.find(le=>le.isListeningto(_));if(M)return M;const W=new D(_);return this.receivers.push(W),W}isListeningto(_){return this.eventTarget===_}handleEvent(_){var M=this;return(0,p.Z)(function*(){const W=_,{eventId:le,eventType:Ue,data:Ot}=W.data,on=M.handlersMap[Ue];if(!(null==on?void 0:on.size))return;W.ports[0].postMessage({status:"ack",eventId:le,eventType:Ue});const wn=Array.from(on).map(function(){var sr=(0,p.Z)(function*(oo){return oo(W.origin,Ot)});return function(oo){return sr.apply(this,arguments)}}()),en=yield function ou(D){return Promise.all(D.map(function(){var m=(0,p.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(M){return{fulfilled:!1,reason:M}}});return function(_){return m.apply(this,arguments)}}()))}(wn);W.ports[0].postMessage({status:"done",eventId:le,eventType:Ue,response:en})})()}_subscribe(_,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(M)}_unsubscribe(_,M){this.handlersMap[_]&&M&&this.handlersMap[_].delete(M),(!M||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function ra(D="",m=10){let _="";for(let M=0;M<m;M++)_+=Math.floor(10*Math.random());return D+_}class UA{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,M=50){var W=this;return(0,p.Z)(function*(){const le="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let Ue,Ot;return new Promise((on,wn)=>{const en=ra("",20);le.port1.start();const sr=setTimeout(()=>{wn(new Error("unsupported_event"))},M);Ot={messageChannel:le,onMessage(oo){const ao=oo;if(ao.data.eventId===en)switch(ao.data.status){case"ack":clearTimeout(sr),Ue=setTimeout(()=>{wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),on(ao.data.response);break;default:clearTimeout(sr),clearTimeout(Ue),wn(new Error("invalid_response"))}}},W.handlers.add(Ot),le.port1.addEventListener("message",Ot.onMessage),W.target.postMessage({eventType:m,eventId:en,data:_},[le.port2])}).finally(()=>{Ot&&W.removeMessageHandler(Ot)})})()}}function ro(){return window}function Zu(){return void 0!==ro().WorkerGlobalScope&&"function"==typeof ro().importScripts}function vg(){return(vg=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const Ji="firebaseLocalStorageDb",yo="firebaseLocalStorage",xl="fbase_key";class _a{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ju(D,m){return D.transaction([yo],m?"readwrite":"readonly").objectStore(yo)}function tp(){const D=indexedDB.open(Ji,1);return new Promise((m,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const M=D.result;try{M.createObjectStore(yo,{keyPath:xl})}catch(W){_(W)}}),D.addEventListener("success",(0,p.Z)(function*(){const M=D.result;M.objectStoreNames.contains(yo)?m(M):(M.close(),yield function Md(){const D=indexedDB.deleteDatabase(Ji);return new _a(D).toPromise()}(),m(yield tp()))}))})}function np(D,m,_){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,p.Z)(function*(D,m,_){const M=Ju(D,!0).put({[xl]:m,value:_});return new _a(M).toPromise()})).apply(this,arguments)}function QA(){return(QA=(0,p.Z)(function*(D,m){const _=Ju(D,!1).get(m),M=yield new _a(_).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Oh(D,m){const _=Ju(D,!0).delete(m);return new _a(_).toPromise()}const ic=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,p.Z)(function*(){return _.db||(_.db=yield tp()),_.db})()}_withRetries(_){var M=this;return(0,p.Z)(function*(){let W=0;for(;;)try{const le=yield M._openDb();return yield _(le)}catch(le){if(W++>3)throw le;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,p.Z)(function*(){return Zu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,p.Z)(function*(){_.receiver=kA._getInstance(function au(){return Zu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var M=(0,p.Z)(function*(W,le){return{keyProcessed:(yield _._poll()).includes(le.key)}});return function(W,le){return M.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var M=(0,p.Z)(function*(W,le){return["keyChanged"]});return function(W,le){return M.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,p.Z)(function*(){var M,W;if(_.activeServiceWorker=yield function Fd(){return vg.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new UA(_.activeServiceWorker);const le=yield _.sender._send("ping",{},800);!le||(null===(M=le[0])||void 0===M?void 0:M.fulfilled)&&(null===(W=le[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var M=this;return(0,p.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function ep(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:_},M.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const _=yield tp();return yield np(_,Zn,"1"),yield Oh(_,Zn),!0}catch(_){}return!1})()}_withPendingWrite(_){var M=this;return(0,p.Z)(function*(){M.pendingWrites++;try{yield _()}finally{M.pendingWrites--}})()}_set(_,M){var W=this;return(0,p.Z)(function*(){return W._withPendingWrite((0,p.Z)(function*(){return yield W._withRetries(le=>np(le,_,M)),W.localCache[_]=M,W.notifyServiceWorker(_)}))})()}_get(_){var M=this;return(0,p.Z)(function*(){const W=yield M._withRetries(le=>function ol(D,m){return QA.apply(this,arguments)}(le,_));return M.localCache[_]=W,W})()}_remove(_){var M=this;return(0,p.Z)(function*(){return M._withPendingWrite((0,p.Z)(function*(){return yield M._withRetries(W=>Oh(W,_)),delete M.localCache[_],M.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,p.Z)(function*(){const M=yield _._withRetries(Ue=>{const Ot=Ju(Ue,!1).getAll();return new _a(Ot).toPromise()});if(!M)return[];if(0!==_.pendingWrites)return[];const W=[],le=new Set;for(const{fbase_key:Ue,value:Ot}of M)le.add(Ue),JSON.stringify(_.localCache[Ue])!==JSON.stringify(Ot)&&(_.notifyListeners(Ue,Ot),W.push(Ue));for(const Ue of Object.keys(_.localCache))_.localCache[Ue]&&!le.has(Ue)&&(_.notifyListeners(Ue,null),W.push(Ue));return W})()}notifyListeners(_,M){this.localCache[_]=M;const W=this.listeners[_];if(W)for(const le of Array.from(W))le(M)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Nd(D,m){return Cr(D,"POST","/v2/accounts/mfaSignIn:start",wr(D,m))}function ll(){return(ll=(0,p.Z)(function*(D){return(yield Cr(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lh(D){return new Promise((m,_)=>{const M=document.createElement("script");M.setAttribute("src",D),M.onload=m,M.onerror=W=>{const le=cr("internal-error");le.customData=W,_(le)},M.type="text/javascript",M.charset="UTF-8",function jA(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(M)})}function lu(D){return`__${D}${Math.floor(1e6*Math.random())}`}const tA=1e12;class cu{constructor(m){this.auth=m,this.counter=tA,this._widgets=new Map}render(m,_){const M=this.counter;return this._widgets.set(M,new WA(m,this.auth.name,_||{})),this.counter++,M}reset(m){var _;const M=m||tA;null===(_=this._widgets.get(M))||void 0===_||_.delete(),this._widgets.delete(M)}getResponse(m){var _;return(null===(_=this._widgets.get(m||tA))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,p.Z)(function*(){var M;return null===(M=_._widgets.get(m||tA))||void 0===M||M.execute(),""})()}}class WA{constructor(m,_,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof m?document.getElementById(m):m;tt(W,"argument-error",{appName:_}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _g(D){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<D;M++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rp=lu("rcb"),Cs=new Zr(3e4,6e4);class Ew{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(m=ro().grecaptcha)||void 0===m?void 0:m.render)}load(m,_=""){return tt(function sp(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(ro().grecaptcha):new Promise((M,W)=>{const le=ro().setTimeout(()=>{W(cr(m,"network-request-failed"))},Cs.get());ro()[rp]=()=>{ro().clearTimeout(le),delete ro()[rp];const Ot=ro().grecaptcha;if(!Ot)return void W(cr(m,"internal-error"));const on=Ot.render;Ot.render=(wn,en)=>{const sr=on(wn,en);return this.counter++,sr},this.hostLanguage=_,M(Ot)},Lh(`https://www.google.com/recaptcha/api.js??${(0,ce.xO)({onload:rp,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(le),W(cr(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!!(null===(_=ro().grecaptcha)||void 0===_?void 0:_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zm{load(m){return(0,p.Z)(function*(){return new cu(m)})()}clearedOneInstance(){}}const wg="recaptcha",Iw={theme:"light",type:"image"};class Bw{constructor(m,_=Object.assign({},Iw),M){this.parameters=_,this.type=wg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=je(M),this.isInvisible="invisible"===this.parameters.size,tt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof m?document.getElementById(m):m;tt(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zm:new Ew,this.validateStartingState()}verify(){var m=this;return(0,p.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),M=m.getAssertedRecaptcha();return M.getResponse(_)||new Promise(le=>{const Ue=Ot=>{!Ot||(m.tokenChangeListeners.delete(Ue),le(Ot))};m.tokenChangeListeners.add(Ue),m.isInvisible&&M.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){tt(!this.parameters.sitekey,this.auth,"argument-error"),tt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),tt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(M=>M(_)),"function"==typeof m)m(_);else if("string"==typeof m){const M=ro()[m];"function"==typeof M&&M(_)}}}assertNotDestroyed(){tt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,p.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const M=document.createElement("div");_.appendChild(M),_=M}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,p.Z)(function*(){tt(Ln()&&!Zu(),m.auth,"internal-error"),yield function Od(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function eA(D){return ll.apply(this,arguments)}(m.auth);tt(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return tt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qm{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=ju._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function zA(){return(zA=(0,p.Z)(function*(D,m,_){const M=je(D),W=yield Si(M,m,(0,ce.m9)(_));return new qm(W,le=>$u(M,le))})).apply(this,arguments)}function iv(){return(iv=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D);yield Qi(!1,M,"phone");const W=yield Si(M.auth,m,(0,ce.m9)(_));return new qm(W,le=>ea(M,le))})).apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D),W=yield Si(M.auth,m,(0,ce.m9)(_));return new qm(W,le=>Cl(M,le))})).apply(this,arguments)}function Si(D,m,_){return qs.apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(D,m,_){var M;const W=yield _.verify();try{let le;if(tt("string"==typeof W,D,"argument-error"),tt(_.type===wg,D,"argument-error"),le="string"==typeof m?{phoneNumber:m}:m,"session"in le){const Ue=le.session;if("phoneNumber"in le)return tt("enroll"===Ue.type,D,"internal-error"),(yield we(D,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{tt("signin"===Ue.type,D,"internal-error");const Ot=(null===(M=le.multiFactorHint)||void 0===M?void 0:M.uid)||le.multiFactorUid;return tt(Ot,D,"missing-multi-factor-info"),(yield Nd(D,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:Ot,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield Vu(D,{phoneNumber:le.phoneNumber,recaptchaToken:W});return Ue}}finally{_._reset()}})).apply(this,arguments)}function nA(){return(nA=(0,p.Z)(function*(D,m){yield Bh((0,ce.m9)(D),m)})).apply(this,arguments)}let Dl=(()=>{class D{constructor(_){this.providerId=D.PROVIDER_ID,this.auth=je(_)}verifyPhoneNumber(_,M){return Si(this.auth,_,(0,ce.m9)(M))}static credential(_,M){return ju._fromVerification(_,M)}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:M,temporaryProof:W}=_;return M&&W?ju._fromTokenResponse(M,W):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function rA(D,m){return m?ft(m):(tt(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class op extends Bi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Yl(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Yl(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Yl(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function $m(D){return Go(D.auth,new op(D),D.bypassAuthState)}function JC(D){const{auth:m,user:_}=D;return tt(_,m,"internal-error"),Sh(_,new op(D),D.bypassAuthState)}function sv(D){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,p.Z)(function*(D){const{auth:m,user:_}=D;return tt(_,m,"internal-error"),Bh(_,new op(D),D.bypassAuthState)})).apply(this,arguments)}class ap{constructor(m,_,M,W,le=!1){this.auth=m,this.resolver=M,this.user=W,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,p.Z)(function*(M,W){m.pendingPromise={resolve:M,reject:W};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(le){m.reject(le)}});return function(M,W){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,p.Z)(function*(){const{urlResponse:M,sessionId:W,postBody:le,tenantId:Ue,error:Ot,type:on}=m;if(Ot)return void _.reject(Ot);const wn={auth:_.auth,requestUri:M,sessionId:W,tenantId:Ue||void 0,postBody:le||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(on)(wn))}catch(en){_.reject(en)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return $m;case"linkViaPopup":case"linkViaRedirect":return sv;case"reauthViaPopup":case"reauthViaRedirect":return JC;default:ar(this.auth,"internal-error")}}resolve(m){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uu=new Zr(2e3,1e4);function bg(){return(bg=(0,p.Z)(function*(D,m,_){const M=je(D);Tr(D,m,Fo);const W=rA(M,_);return new Xm(M,"signInViaPopup",m,W).executeNotNull()})).apply(this,arguments)}function ss(){return(ss=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D);Tr(M.auth,m,Fo);const W=rA(M.auth,_);return new Xm(M.auth,"reauthViaPopup",m,W,M).executeNotNull()})).apply(this,arguments)}function Zm(){return(Zm=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D);Tr(M.auth,m,Fo);const W=rA(M.auth,_);return new Xm(M.auth,"linkViaPopup",m,W,M).executeNotNull()})).apply(this,arguments)}let Xm=(()=>{class D extends ap{constructor(_,M,W,le,Ue){super(_,M,le,Ue),this.provider=W,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var _=this;return(0,p.Z)(function*(){const M=yield _.execute();return tt(M,_.auth,"internal-error"),M})()}onExecution(){var _=this;return(0,p.Z)(function*(){it(1===_.filter.length,"Popup operations only handle one event");const M=ra();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],M),_.authWindow.associatedEvent=M,_.resolver._originValidation(_.auth).catch(W=>{_.reject(W)}),_.resolver._isIframeWebStorageSupported(_.auth,W=>{W||_.reject(cr(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const _=()=>{var M,W;this.pollId=(null===(W=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===W?void 0:W.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,uu.get())};_()}}return D.currentPopupAction=null,D})();const Rh=new Map;class lp extends ap{constructor(m,_,M=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,M),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,p.Z)(function*(){let M=Rh.get(_.auth._key());if(!M){try{const le=(yield function Dw(D,m){return Au.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;M=()=>Promise.resolve(le)}catch(W){M=()=>Promise.reject(W)}Rh.set(_.auth._key(),M)}return _.bypassAuthState||Rh.set(_.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,M=this;return(0,p.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(M,m);if("unknown"!==m.type){if(m.eventId){const W=yield M.auth._redirectUserForId(m.eventId);if(W)return M.user=W,_().call(M,m);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Au(){return(Au=(0,p.Z)(function*(D,m){const _=Mn(m),M=Jm(D);if(!(yield M._isAvailable()))return!1;const W="true"===(yield M._get(_));return yield M._remove(_),W})).apply(this,arguments)}function cp(D,m){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,p.Z)(function*(D,m){return Jm(D)._set(Mn(m),"true")})).apply(this,arguments)}function qA(D,m){Rh.set(D._key(),m)}function Jm(D){return ft(D._redirectPersistence)}function Mn(D){return de("pendingRedirect",D.config.apiKey,D.name)}function kd(){return(kd=(0,p.Z)(function*(D,m,_){const M=je(D);Tr(D,m,Fo),yield M._initializationPromise;const W=rA(M,_);return yield cp(W,M),W._openRedirect(M,m,"signInViaRedirect")})).apply(this,arguments)}function up(){return(up=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D);Tr(M.auth,m,Fo),yield M.auth._initializationPromise;const W=rA(M.auth,_);yield cp(W,M.auth);const le=yield du(M);return W._openRedirect(M.auth,m,"reauthViaRedirect",le)})).apply(this,arguments)}function ZA(){return(ZA=(0,p.Z)(function*(D,m,_){const M=(0,ce.m9)(D);Tr(M.auth,m,Fo),yield M.auth._initializationPromise;const W=rA(M.auth,_);yield Qi(!1,M,m.providerId),yield cp(W,M.auth);const le=yield du(M);return W._openRedirect(M.auth,m,"linkViaRedirect",le)})).apply(this,arguments)}function Ap(){return(Ap=(0,p.Z)(function*(D,m){return yield je(D)._initializationPromise,Bc(D,m,!1)})).apply(this,arguments)}function Bc(D,m){return sc.apply(this,arguments)}function sc(){return(sc=(0,p.Z)(function*(D,m,_=!1){const M=je(D),W=rA(M,m),Ue=yield new lp(M,W,_).execute();return Ue&&!_&&(delete Ue.user._redirectEventId,yield M._persistUserIfCurrent(Ue.user),yield M._setRedirectUser(null,m)),Ue})).apply(this,arguments)}function du(D){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,p.Z)(function*(D){const m=ra(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class av{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(m,M)&&(_=!0,this.sendToConsumer(m,M),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function kh(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gr(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var M;if(m.error&&!gr(m)){const W=(null===(M=m.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";_.onError(cr(this.auth,W))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const M=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&M}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hp(m))}saveEventToCache(m){this.cachedEventUids.add(hp(m)),this.lastProcessedEventTime=Date.now()}}function hp(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function gr({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Hi(D){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,p.Z)(function*(D,m={}){return Cr(D,"GET","/v1/projects",m)})).apply(this,arguments)}const ty=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fu=/^https?/;function Hd(){return(Hd=(0,p.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield Hi(D);for(const _ of m)try{if(XA(_))return}catch(M){}ar(D,"unauthorized-domain")})).apply(this,arguments)}function XA(D){const m=Jt(),{protocol:_,hostname:M}=new URL(m);if(D.startsWith("chrome-extension://")){const Ue=new URL(D);return""===Ue.hostname&&""===M?"chrome-extension:"===_&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Ue.hostname===M}if(!fu.test(_))return!1;if(ty.test(D))return M===D;const W=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(M)}const Ig=new Zr(3e4,6e4);function dp(){const D=ro().___jsl;if(null==D?void 0:D.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let io=null;function sa(D){return io=io||function Bg(D){return new Promise((m,_)=>{var M,W,le;function Ue(){dp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{dp(),_(cr(D,"network-request-failed"))},timeout:Ig.get()})}if(null===(W=null===(M=ro().gapi)||void 0===M?void 0:M.iframes)||void 0===W?void 0:W.Iframe)m(gapi.iframes.getContext());else{if(!(null===(le=ro().gapi)||void 0===le?void 0:le.load)){const Ot=lu("iframefcb");return ro()[Ot]=()=>{gapi.load?Ue():_(cr(D,"network-request-failed"))},Lh(`https://apis.google.com/js/api.js?onload=${Ot}`).catch(on=>_(on))}Ue()}}).catch(m=>{throw io=null,m})}(D),io}const vo=new Zr(5e3,15e3),Tl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ny(D){const m=D.config;tt(m.authDomain,D,"auth-domain-config-required");const _=m.emulator?qi(m,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,M={apiKey:m.apiKey,appName:D.name,v:De.SDK_VERSION},W=xg.get(D.config.apiHost);W&&(M.eid=W);const le=D._getFrameworks();return le.length&&(M.fw=le.join(",")),`${_}?${(0,ce.xO)(M).slice(1)}`}function JA(){return JA=(0,p.Z)(function*(D){const m=yield sa(D),_=ro().gapi;return tt(_,D,"internal-error"),m.open({where:document.body,url:ny(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tl,dontclear:!0},M=>new Promise(function(){var W=(0,p.Z)(function*(le,Ue){yield M.restyle({setHideOnLeave:!1});const Ot=cr(D,"network-request-failed"),on=ro().setTimeout(()=>{Ue(Ot)},vo.get());function wn(){ro().clearTimeout(on),le(M)}M.ping(wn).then(wn,()=>{Ue(Ot)})});return function(le,Ue){return W.apply(this,arguments)}}()))}),JA.apply(this,arguments)}const qo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ml{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function _o(D,m,_,M,W,le){tt(D.config.authDomain,D,"auth-domain-config-required"),tt(D.config.apiKey,D,"invalid-api-key");const Ue={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:M,v:De.SDK_VERSION,eventId:W};if(m instanceof Fo){m.setDefaultLanguage(D.languageCode),Ue.providerId=m.providerId||"",(0,ce.xb)(m.getCustomParameters())||(Ue.customParameters=JSON.stringify(m.getCustomParameters()));for(const[on,wn]of Object.entries(le||{}))Ue[on]=wn}if(m instanceof Ku){const on=m.getScopes().filter(wn=>""!==wn);on.length>0&&(Ue.scopes=on.join(","))}D.tenantId&&(Ue.tid=D.tenantId);const Ot=Ue;for(const on of Object.keys(Ot))void 0===Ot[on]&&delete Ot[on];return`${function pr({config:D}){return D.emulator?qi(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,ce.xO)(Ot).slice(1)}`}const ps="webStorageSupport";class Er extends class Qh{constructor(m){this.factorId=m}_process(m,_,M){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,M);case"signin":return this._finalizeSignIn(m,_.credential);default:return zt("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Er(m)}_finalizeEnroll(m,_,M){return function F(D,m){return Cr(D,"POST","/v2/accounts/mfaEnrollment:finalize",wr(D,m))}(m,{idToken:_,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Pd(D,m){return Cr(D,"POST","/v2/accounts/mfaSignIn:finalize",wr(D,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sc=(()=>{class D{constructor(){}static assertion(_){return Er._fromCredential(_)}}return D.FACTOR_ID="phone",D})();var wa="@firebase/auth";class Qa{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,p.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(M=>{m((null==M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gu(){return window}function Wd(){return(Wd=(0,p.Z)(function*(D,m,_){var M;const{BuildInfo:W}=gu();it(m.sessionId,"AuthEvent did not contain a session ID");const le=yield Fg(m.sessionId),Ue={};return zn()?Ue.ibi=W.packageName:sn()?Ue.apn=W.packageName:ar(D,"operation-not-supported-in-this-environment"),W.displayName&&(Ue.appDisplayName=W.displayName),Ue.sessionId=le,_o(D,_,m.type,void 0,null!==(M=m.eventId)&&void 0!==M?M:void 0,Ue)})).apply(this,arguments)}function Tg(){return(Tg=(0,p.Z)(function*(D){const{BuildInfo:m}=gu(),_={};zn()?_.iosBundleId=m.packageName:sn()?_.androidPackageName=m.packageName:ar(D,"operation-not-supported-in-this-environment"),yield Hi(D,_)})).apply(this,arguments)}function zd(){return(zd=(0,p.Z)(function*(D,m,_){const{cordova:M}=gu();let W=()=>{};try{yield new Promise((le,Ue)=>{let Ot=null;function on(){var sr;le();const oo=null===(sr=M.plugins.browsertab)||void 0===sr?void 0:sr.close;"function"==typeof oo&&oo(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function wn(){Ot||(Ot=window.setTimeout(()=>{Ue(cr(D,"redirect-cancelled-by-user"))},2e3))}function en(){"visible"===(null==document?void 0:document.visibilityState)&&wn()}m.addPassiveListener(on),document.addEventListener("resume",wn,!1),sn()&&document.addEventListener("visibilitychange",en,!1),W=()=>{m.removePassiveListener(on),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",en,!1),Ot&&window.clearTimeout(Ot)}})}finally{W()}})).apply(this,arguments)}function Fg(D){return eh.apply(this,arguments)}function eh(){return(eh=(0,p.Z)(function*(D){const m=cl(D),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(W=>W.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function cl(D){if(it(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(D);const m=new ArrayBuffer(D.length),_=new Uint8Array(m);for(let M=0;M<D.length;M++)_[M]=D.charCodeAt(M);return _}(0,ce.Pz)("authIdTokenMaxAge"),function iy(D){(0,De._registerComponent)(new pe.wA("auth",(m,{options:_})=>{const M=m.getProvider("app").getImmediate(),W=m.getProvider("heartbeat"),{apiKey:le,authDomain:Ue}=M.options;return((Ot,on)=>{tt(le&&!le.includes(":"),"invalid-api-key",{appName:Ot.name}),tt(!(null==Ue?void 0:Ue.includes(":")),"argument-error",{appName:Ot.name});const wn={apiKey:le,authDomain:Ue,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hu(D)},en=new Cn(Ot,on,wn);return function xt(D,m){const _=(null==m?void 0:m.persistence)||[],M=(Array.isArray(_)?_:[_]).map(ft);(null==m?void 0:m.errorMap)&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(M,null==m?void 0:m.popupRedirectResolver)}(en,_),en})(M,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,M)=>{m.getProvider("auth-internal").initialize()})),(0,De._registerComponent)(new pe.wA("auth-internal",m=>{const _=je(m.getProvider("auth").getImmediate());return new Qa(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)(wa,"0.21.3",function Dg(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,De.registerVersion)(wa,"0.21.3","esm2017")}("Browser");class th extends av{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,p.Z)(function*(){yield m.initPromise})()}}function so(D){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,p.Z)(function*(D){const m=yield yu()._get(Pl(D));return m&&(yield yu()._remove(Pl(D))),m})).apply(this,arguments)}function lA(){const D=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const M=Math.floor(Math.random()*m.length);D.push(m.charAt(M))}return D.join("")}function yu(){return ft(gi)}function Pl(D){return de("authEvent",D.config.apiKey,D.name)}function Vh(D){if(!(null==D?void 0:D.includes("?")))return{};const[m,..._]=D.split("?");return(0,ce.zd)(_.join("?"))}function vu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:cr("no-auth-event")}}function _u(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function Xd(D=(0,ce.z$)()){return!("file:"!==_u()&&"ionic:"!==_u()&&"capacitor:"!==_u()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function vp(){try{const D=self.localStorage,m=ra();if(D)return D.setItem(m,"1"),D.removeItem(m),!function ly(D=(0,ce.z$)()){return function Av(){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ay(D=(0,ce.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,ce.hl)()}catch(D){return Tc()&&(0,ce.hl)()}return!1}function Tc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function cA(){return(function Dc(){return"http:"===_u()||"https:"===_u()}()||(0,ce.ru)()||Xd())&&!function jh(){return(0,ce.b$)()||(0,ce.UG)()}()&&vp()&&!Tc()}function Fc(){return Xd()&&"undefined"!=typeof document}function Mc(){return(Mc=(0,p.Z)(function*(){return!!Fc()&&new Promise(D=>{const m=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),D(!0)})})})).apply(this,arguments)}const ba={LOCAL:"local",NONE:"none",SESSION:"session"},wu=tt,uA="persistence";function ef(D){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,p.Z)(function*(D){yield D._initializationPromise;const m=ul(),_=de(uA,D.config.apiKey,D.name);m&&m.setItem(_,D._getPersistence())})).apply(this,arguments)}function ul(){var D;try{return(null===(D=function wp(){return"undefined"!=typeof window?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch(m){return null}}const Pg=tt;class Po{constructor(){this.browserResolver=ft(class gp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zo,this._completeRedirectFn=Bc,this._overrideRedirectResult=qA}_openPopup(m,_,M,W){var le=this;return(0,p.Z)(function*(){var Ue;it(null===(Ue=le.eventManagers[m._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const Ot=_o(m,_,M,Jt(),W);return function Uh(D,m,_,M=500,W=600){const le=Math.max((window.screen.availHeight-W)/2,0).toString(),Ue=Math.max((window.screen.availWidth-M)/2,0).toString();let Ot="";const on=Object.assign(Object.assign({},qo),{width:M.toString(),height:W.toString(),top:le,left:Ue}),wn=(0,ce.z$)().toLowerCase();_&&(Ot=_t(wn)?"_blank":_),Fe(wn)&&(m=m||"http://localhost",on.scrollbars="yes");const en=Object.entries(on).reduce((oo,[ao,Ep])=>`${oo}${ao}=${Ep},`,"");if(function Ms(D=(0,ce.z$)()){var m;return zn(D)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(wn)&&"_self"!==Ot)return function pp(D,m){const _=document.createElement("a");_.href=D,_.target=m;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(M)}(m||"",Ot),new Ml(null);const sr=window.open(m||"",Ot,en);tt(sr,D,"popup-blocked");try{sr.focus()}catch(oo){}return new Ml(sr)}(m,Ot,ra())})()}_openRedirect(m,_,M,W){var le=this;return(0,p.Z)(function*(){return yield le._originValidation(m),function rc(D){ro().location.href=D}(_o(m,_,M,Jt(),W)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:W,promise:le}=this.eventManagers[_];return W?Promise.resolve(W):(it(le,"If manager is not set, promise should be"),le)}const M=this.initAndGetManager(m);return this.eventManagers[_]={promise:M},M.catch(()=>{delete this.eventManagers[_]}),M}initAndGetManager(m){var _=this;return(0,p.Z)(function*(){const M=yield function lv(D){return JA.apply(this,arguments)}(m),W=new av(m);return M.register("authEvent",le=>(tt(null==le?void 0:le.authEvent,m,"invalid-auth-event"),{status:W.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:W},_.iframes[m._key()]=M,W})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(ps,{type:ps},W=>{var le;const Ue=null===(le=null==W?void 0:W[0])||void 0===le?void 0:le[ps];void 0!==Ue&&_(!!Ue),ar(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function pu(D){return Hd.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Vo()||Ye()||zn()}}),this.cordovaResolver=ft(class Yd{constructor(){this._redirectPersistence=zo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bc,this._overrideRedirectResult=qA}_initialize(m){var _=this;return(0,p.Z)(function*(){const M=m._key();let W=_.eventManagers.get(M);return W||(W=new th(m),_.eventManagers.set(M,W),_.attachCallbackListeners(m,W)),W})()}_openPopup(m){ar(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,M,W){var le=this;return(0,p.Z)(function*(){!function xc(D){var m,_,M,W,le,Ue,Ot,on,wn,en;const sr=gu();tt("function"==typeof(null===(m=null==sr?void 0:sr.universalLinks)||void 0===m?void 0:m.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),tt(void 0!==(null===(_=null==sr?void 0:sr.BuildInfo)||void 0===_?void 0:_.packageName),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),tt("function"==typeof(null===(le=null===(W=null===(M=null==sr?void 0:sr.cordova)||void 0===M?void 0:M.plugins)||void 0===W?void 0:W.browsertab)||void 0===le?void 0:le.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tt("function"==typeof(null===(on=null===(Ot=null===(Ue=null==sr?void 0:sr.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===on?void 0:on.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tt("function"==typeof(null===(en=null===(wn=null==sr?void 0:sr.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===en?void 0:en.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Ue=yield le._initialize(m);yield Ue.initialized(),Ue.resetRedirect(),function Tw(){Rh.clear()}(),yield le._originValidation(m);const Ot=function aA(D,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:lA(),postBody:null,tenantId:D.tenantId,error:cr(D,"no-auth-event")}}(m,M,W);yield function qd(D,m){return yu()._set(Pl(D),m)}(m,Ot);const on=yield function Hh(D,m,_){return Wd.apply(this,arguments)}(m,Ot,_),wn=yield function uv(D){const{cordova:m}=gu();return new Promise(_=>{m.plugins.browsertab.isAvailable(M=>{let W=null;M?m.plugins.browsertab.openUrl(D):W=m.InAppBrowser.open(D,function Ur(D=(0,ce.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),_(W)})})}(on);return function sy(D,m,_){return zd.apply(this,arguments)}(m,Ue,wn)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function cv(D){return Tg.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:M,handleOpenURL:W,BuildInfo:le}=gu(),Ue=setTimeout((0,p.Z)(function*(){yield so(m),_.onEvent(vu())}),500),Ot=function(){var en=(0,p.Z)(function*(sr){clearTimeout(Ue);const oo=yield so(m);let ao=null;oo&&(null==sr?void 0:sr.url)&&(ao=function nh(D,m){var _,M;const W=function Hn(D){const m=Vh(D),_=m.link?decodeURIComponent(m.link):void 0,M=Vh(_).link,W=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Vh(W).link||W||M||_||D}(m);if(W.includes("/__/auth/callback")){const le=Vh(W),Ue=le.firebaseError?function $d(D){try{return JSON.parse(D)}catch(m){return null}}(decodeURIComponent(le.firebaseError)):null,Ot=null===(M=null===(_=null==Ue?void 0:Ue.code)||void 0===_?void 0:_.split("auth/"))||void 0===M?void 0:M[1],on=Ot?cr(Ot):null;return on?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:on,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:W,postBody:null}}return null}(oo,sr.url)),_.onEvent(ao||vu())});return function(oo){return en.apply(this,arguments)}}();void 0!==M&&"function"==typeof M.subscribe&&M.subscribe(null,Ot);const on=W,wn=`${le.packageName.toLowerCase()}://`;gu().handleOpenURL=function(){var en=(0,p.Z)(function*(sr){if(sr.toLowerCase().startsWith(wn)&&Ot({url:sr}),"function"==typeof on)try{on(sr)}catch(oo){console.error(oo)}});return function(sr){return en.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zo,this._completeRedirectFn=Bc,this._overrideRedirectResult=qA}_initialize(m){var _=this;return(0,p.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,M,W){var le=this;return(0,p.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(m,_,M,W)})()}_openRedirect(m,_,M,W){var le=this;return(0,p.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(m,_,M,W)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Fc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,p.Z)(function*(){if(m.underlyingResolver)return;const _=yield function _p(){return Mc.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function bu(D){return D.unwrap()}function Cu(D){return AA(D)}function AA(D){const{_tokenResponse:m}=D instanceof ce.ZR?D.customData:D;if(!m)return null;if(!(D instanceof ce.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Dl.credentialFromResult(D);const _=m.providerId;if(!_||"password"===_)return null;let M;switch(_){case"google.com":M=vd;break;case"facebook.com":M=Gu;break;case"github.com":M=zf;break;case"twitter.com":M=Yc;break;default:const{oauthIdToken:W,oauthAccessToken:le,oauthTokenSecret:Ue,pendingToken:Ot,nonce:on}=m;return le||Ue||W||Ot?Ot?_.startsWith("saml.")?wc._create(_,Ot):tl._fromParams({providerId:_,signInMethod:_,pendingToken:Ot,idToken:W,accessToken:le}):new wl(_).credential({idToken:W,accessToken:le,rawNonce:on}):null}return D instanceof ce.ZR?M.credentialFromError(D):M.credentialFromResult(D)}function wo(D,m){return m.catch(_=>{throw _ instanceof ce.ZR&&function mi(D,m){var _;const M=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null==m?void 0:m.code))m.resolver=new Cp(D,function Dd(D,m){var _;const M=(0,ce.m9)(D),W=m;return tt(m.customData.operationType,M,"argument-error"),tt(null===(_=W.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,M,"argument-error"),su._fromError(M,W)}(D,m));else if(M){const W=AA(m),le=m;W&&(le.credential=W,le.tenantId=M.tenantId||void 0,le.email=M.email||void 0,le.phoneNumber=M.phoneNumber||void 0)}}(D,_),_}).then(_=>{const W=_.user;return{operationType:_.operationType,credential:Cu(_),additionalUserInfo:Ns(_),user:aa.getOrCreate(W)}})}function Nc(D,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,p.Z)(function*(D,m){const _=yield m;return{verificationId:_.verificationId,confirm:M=>wo(D,_.confirm(M))}})).apply(this,arguments)}class Cp{constructor(m,_){this.resolver=_,this.auth=function Gh(D){return D.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return wo(bu(this.auth),this.resolver.resolveSignIn(m))}}class aa{constructor(m){this._delegate=m,this.multiFactor=function nn(D){const m=(0,ce.m9)(D);return pt.has(m)||pt.set(m,_e._fromUser(m)),pt.get(m)}(m)}static getOrCreate(m){return aa.USER_MAP.has(m)||aa.USER_MAP.set(m,new aa(m)),aa.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,p.Z)(function*(){return wo(_.auth,ea(_._delegate,m))})()}linkWithPhoneNumber(m,_){var M=this;return(0,p.Z)(function*(){return Nc(M.auth,function Ic(D,m,_){return iv.apply(this,arguments)}(M._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,p.Z)(function*(){return wo(_.auth,function xw(D,m,_){return Zm.apply(this,arguments)}(_._delegate,m,Po))})()}linkWithRedirect(m){var _=this;return(0,p.Z)(function*(){return yield ef(je(_.auth)),function $A(D,m,_){return function YA(D,m,_){return ZA.apply(this,arguments)}(D,m,_)}(_._delegate,m,Po)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,p.Z)(function*(){return wo(_.auth,Cl(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return Nc(this.auth,function Sw(D,m,_){return fs.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return wo(this.auth,function Ym(D,m,_){return ss.apply(this,arguments)}(this._delegate,m,Po))}reauthenticateWithRedirect(m){var _=this;return(0,p.Z)(function*(){return yield ef(je(_.auth)),function hu(D,m,_){return function ia(D,m,_){return up.apply(this,arguments)}(D,m,_)}(_._delegate,m,Po)})()}sendEmailVerification(m){return function Sl(D,m){return Yu.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,p.Z)(function*(){return yield function $f(D,m){return Ui.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function Ws(D,m){return LA((0,ce.m9)(D),m,null)}(this._delegate,m)}updatePassword(m){return function Cc(D,m){return LA((0,ce.m9)(D),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Ld(D,m){return nA.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function ec(D,m){return il.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function OA(D,m,_){return Nh.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}aa.USER_MAP=new WeakMap;const ih=tt;let Og=(()=>{class D{constructor(_,M){if(this.app=_,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:W}=_.options;ih(W,"invalid-api-key",{appName:_.name}),ih(W,"invalid-api-key",{appName:_.name});const le="undefined"!=typeof window?Po:void 0;this._delegate=M.initialize({options:{persistence:Rg(W,_.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(lt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?aa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,M){!function $t(D,m,_){const M=je(D);tt(M._canInitEmulator,M,"emulator-config-failed"),tt(/^https?:\/\//.test(m),M,"invalid-emulator-scheme");const W=!!(null==_?void 0:_.disableWarnings),le=Qn(m),{host:Ue,port:Ot}=function Rr(D){const m=Qn(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!_)return{host:"",port:null};const M=_[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(M);if(W){const le=W[1];return{host:le,port:Vr(M.substr(le.length+1))}}{const[le,Ue]=M.split(":");return{host:le,port:Vr(Ue)}}}(m);M.config.emulator={url:`${le}//${Ue}${null===Ot?"":`:${Ot}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ue,port:Ot,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Qr(){function D(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,_,M)}applyActionCode(_){return function Xl(D,m){return Lt.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return li(this._delegate,_)}confirmPasswordReset(_,M){return function Bd(D,m,_){return tu.apply(this,arguments)}(this._delegate,_,M)}createUserWithEmailAndPassword(_,M){var W=this;return(0,p.Z)(function*(){return wo(W._delegate,function Wo(D,m,_){return ka.apply(this,arguments)}(W._delegate,_,M))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Sd(D,m){return Bl.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function go(D,m){const _=MA.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,p.Z)(function*(){ih(cA(),_._delegate,"operation-not-supported-in-this-environment");const M=yield function ey(D,m){return Ap.apply(this,arguments)}(_._delegate,Po);return M?wo(_._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function rh(D,m){je(D)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,M,W){const{next:le,error:Ue,complete:Ot}=Lg(_,M,W);return this._delegate.onAuthStateChanged(le,Ue,Ot)}onIdTokenChanged(_,M,W){const{next:le,error:Ue,complete:Ot}=Lg(_,M,W);return this._delegate.onIdTokenChanged(le,Ue,Ot)}sendSignInLinkToEmail(_,M){return function ds(D,m,_){return Mh.apply(this,arguments)}(this._delegate,_,M)}sendPasswordResetEmail(_,M){return function Id(D,m,_){return Fh.apply(this,arguments)}(this._delegate,_,M||void 0)}setPersistence(_){var M=this;return(0,p.Z)(function*(){let W;switch(function Jd(D,m){wu(Object.values(ba).includes(m),D,"invalid-persistence-type"),(0,ce.b$)()?wu(m!==ba.SESSION,D,"unsupported-persistence-type"):(0,ce.UG)()?wu(m===ba.NONE,D,"unsupported-persistence-type"):Tc()?wu(m===ba.NONE||m===ba.LOCAL&&(0,ce.hl)(),D,"unsupported-persistence-type"):wu(m===ba.NONE||vp(),D,"unsupported-persistence-type")}(M._delegate,_),_){case ba.SESSION:W=zo;break;case ba.LOCAL:W=(yield ft(ic)._isAvailable())?ic:gi;break;case ba.NONE:W=Re;break;default:return ar("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(W)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return wo(this._delegate,function wd(D){return zu.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return wo(this._delegate,$u(this._delegate,_))}signInWithCustomToken(_){return wo(this._delegate,function Dh(D,m){return vr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,M){return wo(this._delegate,function Il(D,m,_){return $u((0,ce.m9)(D),yd.credential(m,_))}(this._delegate,_,M))}signInWithEmailLink(_,M){return wo(this._delegate,function Yf(D,m,_){return ta.apply(this,arguments)}(this._delegate,_,M))}signInWithPhoneNumber(_,M){return Nc(this._delegate,function es(D,m,_){return zA.apply(this,arguments)}(this._delegate,_,M))}signInWithPopup(_){var M=this;return(0,p.Z)(function*(){return ih(cA(),M._delegate,"operation-not-supported-in-this-environment"),wo(M._delegate,function eE(D,m,_){return bg.apply(this,arguments)}(M._delegate,_,Po))})()}signInWithRedirect(_){var M=this;return(0,p.Z)(function*(){return ih(cA(),M._delegate,"operation-not-supported-in-this-environment"),yield ef(M._delegate),function ov(D,m,_){return function iA(D,m,_){return kd.apply(this,arguments)}(D,m,_)}(M._delegate,_,Po)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function hs(D,m){return El.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=ba,D})();function Lg(D,m,_){let M=D;"function"!=typeof D&&({next:M,error:m,complete:_}=D);const W=M;return{next:Ue=>W(Ue&&aa.getOrCreate(Ue)),error:m,complete:_}}function Rg(D,m){const _=function bp(D,m){const _=ul();if(!_)return[];const M=de(uA,D,m);switch(_.getItem(M)){case ba.NONE:return[Re];case ba.LOCAL:return[ic,zo];case ba.SESSION:return[zo];default:return[]}}(D,m);if("undefined"!=typeof self&&!_.includes(ic)&&_.push(ic),"undefined"!=typeof window)for(const M of[gi,zo])_.includes(M)||_.push(M);return _.includes(Re)||_.push(Re),_}class hA{constructor(){this.providerId="phone",this._delegate=new Dl(bu(Ee.Z.auth()))}static credential(m,_){return Dl.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}hA.PHONE_SIGN_IN_METHOD=Dl.PHONE_SIGN_IN_METHOD,hA.PROVIDER_ID=Dl.PROVIDER_ID;const hv=tt;class cy{constructor(m,_,M=Ee.Z.app()){var W;hv(null===(W=M.options)||void 0===W?void 0:W.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new Bw(m,_,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function uy(D){D.INTERNAL.registerComponent(new pe.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),M=m.getProvider("auth");return new Og(_,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yd,FacebookAuthProvider:Gu,GithubAuthProvider:zf,GoogleAuthProvider:vd,OAuthProvider:wl,SAMLAuthProvider:Wu,PhoneAuthProvider:hA,PhoneMultiFactorGenerator:Sc,RecaptchaVerifier:cy,TwitterAuthProvider:Yc,Auth:Og,AuthCredential:Bi,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.3.3")}(Ee.Z)},8766:(Kt,Qe,U)=>{"use strict";U.d(Qe,{Lj:()=>ar,X3:()=>nr});var p=U(5861);let ce,De;const pe=new WeakMap,Z=new WeakMap,ae=new WeakMap,X=new WeakMap,ie=new WeakMap;let We={get(tt,zt,it){if(tt instanceof IDBTransaction){if("done"===zt)return Z.get(tt);if("objectStoreNames"===zt)return tt.objectStoreNames||ae.get(tt);if("store"===zt)return it.objectStoreNames[1]?void 0:it.objectStore(it.objectStoreNames[0])}return jt(tt[zt])},set:(tt,zt,it)=>(tt[zt]=it,!0),has:(tt,zt)=>tt instanceof IDBTransaction&&("done"===zt||"store"===zt)||zt in tt};function ct(tt){return"function"==typeof tt?function Pt(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...zt){return tt.apply(bn(this),zt),jt(pe.get(this))}:function(...zt){return jt(tt.apply(bn(this),zt))}:function(zt,...it){const wt=tt.call(bn(this),zt,...it);return ae.set(wt,zt.sort?zt.sort():[zt]),jt(wt)}}(tt):(tt instanceof IDBTransaction&&function Ne(tt){if(Z.has(tt))return;const zt=new Promise((it,wt)=>{const ft=()=>{tt.removeEventListener("complete",kt),tt.removeEventListener("error",xt),tt.removeEventListener("abort",xt)},kt=()=>{it(),ft()},xt=()=>{wt(tt.error||new DOMException("AbortError","AbortError")),ft()};tt.addEventListener("complete",kt),tt.addEventListener("error",xt),tt.addEventListener("abort",xt)});Z.set(tt,zt)}(tt),((tt,zt)=>zt.some(it=>tt instanceof it))(tt,function xe(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,We):tt)}function jt(tt){if(tt instanceof IDBRequest)return function fe(tt){const zt=new Promise((it,wt)=>{const ft=()=>{tt.removeEventListener("success",kt),tt.removeEventListener("error",xt)},kt=()=>{it(jt(tt.result)),ft()},xt=()=>{wt(tt.error),ft()};tt.addEventListener("success",kt),tt.addEventListener("error",xt)});return zt.then(it=>{it instanceof IDBCursor&&pe.set(it,tt)}).catch(()=>{}),ie.set(zt,tt),zt}(tt);if(X.has(tt))return X.get(tt);const zt=ct(tt);return zt!==tt&&(X.set(tt,zt),ie.set(zt,tt)),zt}const bn=tt=>ie.get(tt);function nr(tt,zt,{blocked:it,upgrade:wt,blocking:ft,terminated:kt}={}){const xt=indexedDB.open(tt,zt),Jt=jt(xt);return wt&&xt.addEventListener("upgradeneeded",Ln=>{wt(jt(xt.result),Ln.oldVersion,Ln.newVersion,jt(xt.transaction))}),it&&xt.addEventListener("blocked",()=>it()),Jt.then(Ln=>{kt&&Ln.addEventListener("close",()=>kt()),ft&&Ln.addEventListener("versionchange",()=>ft())}).catch(()=>{}),Jt}function ar(tt,{blocked:zt}={}){const it=indexedDB.deleteDatabase(tt);return zt&&it.addEventListener("blocked",()=>zt()),jt(it).then(()=>{})}const cr=["get","getKey","getAll","getAllKeys","count"],Dr=["put","add","delete","clear"],Tr=new Map;function On(tt,zt){if(!(tt instanceof IDBDatabase)||zt in tt||"string"!=typeof zt)return;if(Tr.get(zt))return Tr.get(zt);const it=zt.replace(/FromIndex$/,""),wt=zt!==it,ft=Dr.includes(it);if(!(it in(wt?IDBIndex:IDBObjectStore).prototype)||!ft&&!cr.includes(it))return;const kt=function(){var xt=(0,p.Z)(function*(Jt,...Ln){const Or=this.transaction(Jt,ft?"readwrite":"readonly");let ur=Or.store;return wt&&(ur=ur.index(Ln.shift())),(yield Promise.all([ur[it](...Ln),ft&&Or.done]))[0]});return function(Ln){return xt.apply(this,arguments)}}();return Tr.set(zt,kt),kt}!function lt(tt){We=tt(We)}(tt=>x2(S2({},tt),{get:(zt,it,wt)=>On(zt,it)||tt.get(zt,it,wt),has:(zt,it)=>!!On(zt,it)||tt.has(zt,it)}))},5861:(Kt,Qe,U)=>{"use strict";function p(ce,De,xe,Ae,pe,Z,ae){try{var X=ce[Z](ae),ie=X.value}catch(fe){return void xe(fe)}X.done?De(ie):Promise.resolve(ie).then(Ae,pe)}function Ee(ce){return function(){var De=this,xe=arguments;return new Promise(function(Ae,pe){var Z=ce.apply(De,xe);function ae(ie){p(Z,Ae,pe,ae,X,"next",ie)}function X(ie){p(Z,Ae,pe,ae,X,"throw",ie)}ae(void 0)})}}U.d(Qe,{Z:()=>Ee})}},Kt=>{Kt(Kt.s=5447)}]);